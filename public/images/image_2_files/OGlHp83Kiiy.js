if (self.CavalryLogger) { CavalryLogger.start_js(["kB48p"]); }

__d("VideoViewabilityKeyEvents",[],(function(a,b,c,d,e,f){e.exports={Events:["entered_fs","exited_fs","finished_playing","paused","player_format_changed","started_playing","unpaused"]}}),null);
__d("MCustomDialog",["DOM","cx","ge"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();a={show:function(a){__p&&__p();var b=g.create("div",{className:"_3uug"},null),c=g.create("div",{className:"_3uuh"},g.create("h2",null,a.titleString)),d=g.create("div",{className:"_3uui"},g.create("p",null,a.descriptionString)),e=g.create("p",{className:"_3uuj"},a.dismissButtonString),f=g.create("div",{className:"_3uuk"},e);g.appendContent(b,c);g.appendContent(b,d);g.appendContent(b,f);if(a.confirmButtonString&&a.confirmButtonCallback){var h=g.create("p",{className:"_3uuj"},a.confirmButtonString);g.prependContent(f,h)}var j=g.create("div",{className:"_3uul"},b);e.addEventListener("click",function(){g.remove(j),a.dismissButtonCallback&&a.dismissButtonCallback()});h&&h.addEventListener("click",function(){g.remove(j),a.confirmButtonCallback&&a.confirmButtonCallback()});c=i("root");c&&g.prependContent(c,j)}};e.exports=a}),null);
__d("dangerouslyOverrideMediaElementEndedProperty",[],(function(a,b,c,d,e,f){function a(a){a===void 0&&(a={});a.dangerouslyOverrideMediaElementEndedProperty=!0;return a}a.isEnded=function(a){return!!(a&&a.detail&&a.detail.dangerouslyOverrideMediaElementEndedProperty)};e.exports=a}),null);
__d("HTMLMediaElementReadyStates",[],(function(a,b,c,d,e,f){a={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4};e.exports=a}),null);
__d("getHTMLMediaElementMutedState",["HTMLMediaElementReadyStates"],(function(a,b,c,d,e,f,g){function a(a){if(a.readyState>=g.HAVE_METADATA)return a.muted;else return a.hasAttribute("muted")||a.muted}e.exports=a}),null);
__d("HVideoPlayerMixin",["EventListener","UserAgent","VideoPlayerHTML5Experiments","VideoPlayerLoggerEvent","dangerouslyOverrideMediaElementEndedProperty","getHTMLMediaElementMutedState"],(function(a,b,c,d,e,f,g,h,i,j,k,l){__p&&__p();var m=-1,n=!!(window.performance&&window.performance.now&&window.performance.timing&&window.performance.timing.navigationStart);function o(a,b){__p&&__p();a.time_ms=Date.now();b=b.timeStamp;if(b&&n){var c=Math.floor(b).toString().length,d=Date.now().toString().length,e=window.performance.now();if(c===d+3)b=Math.floor(b/1e3),a.time_ms=b;else if(c===d)a.time_ms=b;else if(b<=e){c=window.performance.timing.navigationStart;a.time_ms=c+Math.floor(b)}}return a}a={initLogger:function(a,b,c,d,e,f){__p&&__p();var h=this;this._loggedEvents={};this._logFunction=a;this._fixOverwrittenGetVideoCurrentTime=d;this._fireSeekEvents=e;this._useEventTime=b;this._recentPausedTime=null;var i=this.getVideoElement();if(f){var j=i.pause;i.pause=function(){h._recentPausedTime=i.currentTime;return j.apply(i)}}c&&(this._overwriteVideoCurrentTimeProperty(i),this._didOverwriteVideoCurrentTimeProperty||(this.preventSeekLoggingInMixin=!0));this._lastStartTimePosition=m;this._muted=l(i);this._pausedPosition=m;this._seeking=!1;this._seekSourceTimePosition=m;this._currentTimeAtSeekStart=m;this._volume=i.volume;this._hasBlockedPausedRepresentationEnded=!1;this._logNextPlayingEvent=!0;this._lastPlayedTime=m;a=!1;i.readyState>=i.HAVE_FUTURE_DATA?this._logReadyToPlay():a=!0;if(this.skipSubscriptions())return;d=this.getSubscriptions();a&&d.addSubscriptions(g.listen(i,"canplay",this._logReadyToPlay.bind(this)));d.addSubscriptions(g.listen(i,"ended",this.onEnded.bind(this)),g.listen(i,"pause",this.onPause.bind(this)),g.listen(i,"playing",this.onPlaying.bind(this)),g.listen(i,"seeked",this.onSeeked.bind(this)),g.listen(i,"seeking",this.onSeeking.bind(this)),g.listen(i,"play",this.onPlay.bind(this)),g.listen(i,"loadedmetadata",this.onLoadedMetadata.bind(this)),g.listen(i,"timeupdate",this.onTimeUpdate.bind(this)),g.listen(i,"volumechange",this.onVolumeChange.bind(this)))},skipSubscriptions:function(){return!1},onCanPlay:function(a){this._logReadyToPlay(a)},onPlay:function(a){this._logNextPlayingEvent=!0,this._ignoreNextPlaying=!1,this._pendingPlayRequest=!0},logHeartbeat:function(){if(i.heartbeatUpdateWatchTime){this._logEvent(j.HEART_BEAT,this._getWatchTimeClosingLogData({}));var a=this._getVideoCurrentTime();this._lastStartTimePosition=a;this._lastPlayedTime=a}else this._logEvent(j.HEART_BEAT)},_getWatchTimeClosingLogData:function(a){this._lastPlayedTime=this._getVideoCurrentTime();return this._amendEventTime(babelHelpers["extends"]({video_last_start_time_position:this._lastStartTimePosition===m?this._lastPlayedTime:this._lastStartTimePosition,video_time_position:this._lastPlayedTime},a))},_logOnce:function(a,b){if(this._loggedEvents[a])return;this._logEvent(a,b)},_logEvent:function(a,b){__p&&__p();this._loggedEvents[a]=!0;b=b?b:{};b.video_id=this.getVideoID();b.has_blocked_paused_representation_ended=this._hasBlockedPausedRepresentationEnded;Object.prototype.hasOwnProperty.call(b,"video_time_position")||(b.video_time_position=this._getVideoCurrentTime());b.time_ms||(b.time_ms=Date.now());b.time=Math.round(b.time_ms/1e3);if(this.getAdClientToken){var c=this.getAdClientToken();c&&(b.ad_client_token=c)}this.getPlayerFormat&&(b.player_format=this.getPlayerFormat());this.getPlayerOrigin&&(b.player_origin=this.getPlayerOrigin());this.getPlayerSuborigin&&(b.player_suborigin=this.getPlayerSuborigin());this._logFunction(a,b)},_logReadyToPlay:function(){this._logOnce(j.READY_TO_PLAY)},onPause:function(a){__p&&__p();this._logNextPlayingEvent=!0;var b=this.getVideoElement();if(this._pendingPlayRequest){var c={debug_reason:this.getLastPlayReason()};this._pendingPlayRequest=!1;this._logEvent(j.CANCELLED_REQUESTED_PLAYING,c);return}c=!!this._getVideoPlayerShakaConfig()&&this._getVideoPlayerShakaConfig().getBool("abort_loading_decisioning_logic",!1);c=b.ended||c&&k.isEnded(a)?j.FINISHED_PLAYING:j.PAUSED;var d=this._recentPausedTime==null?this._getVideoCurrentTime():this._recentPausedTime;this._recentPausedTime=null;d&&(this._lastPlayedTime=d);d=this._lastPlayedTime;var e=this._lastStartTimePosition===m?this._lastPlayedTime:this._lastStartTimePosition;i.preventNegativeTimePositions&&(this._lastPlayedTime<0&&(d=0,this._lastStartTimePosition<0&&(e=0)));var f=a.lastPauseReason;if(c===j.FINISHED_PLAYING)d=Math.max(d,b.duration);else if(this.preventPauseLoggingInMixin===!0)return;else this.preventPauseLoggingInMixin===!1&&(f=f||"unloaded");this._logEvent(c,this._amendEventTime({video_last_start_time_position:e,video_time_position:d,debug_reason:f},a));this._lastStartTimePosition=m},onEnded:function(){this._logNextPlayingEvent=!0,this._lastStartTimePosition!==m&&h.isBrowser("IE")&&this.onPause({})},onBlockedPausedRepresentationEnded:function(){this._hasBlockedPausedRepresentationEnded=!0},logRepresentationEnded:function(a){__p&&__p();if(a){a={representation_id:a.representationID,next_representation_id:a.nextRepresentationID,stream_switch_reason:a.streamSwitchReason};i.newStateChangeCalculation&&(a=this._getWatchTimeClosingLogData(a));this._logEvent(j.REPRESENTATION_ENDED,a);if(i.newStateChangeCalculation){a=this._getVideoCurrentTime();this._lastStartTimePosition=a;this._lastPlayedTime=a}}},addWatchTimeData:function(a){this._lastStartTimePosition!=m&&this._lastPlayedTime!=m&&(a.video_last_start_time_position=this._lastStartTimePosition,a.video_time_position=this._lastPlayedTime,this._lastStartTimePosition=m);return a},getLastPlayReason:function(){return null},getVideoPlayReason:function(){return null},onPlaying:function(a){__p&&__p();if(!this._logNextPlayingEvent)return;i.superficialUnpauseEventsFix&&(this._logNextPlayingEvent=!1);if(this._ignoreNextPlaying){this._ignoreNextPlaying=!1;return}var b=this.getLastPlayReason();this._pendingPlayRequest=!1;var c=this._loggedEvents[j.STARTED_PLAYING]?j.UNPAUSED:j.STARTED_PLAYING;b=this._amendEventTime({debug_reason:b,video_play_reason:this.getVideoPlayReason()},a);a=this._getVideoCurrentTime();if(i.useCurrentTimeAdjustment){var d=this.getVideoElement().currentTime;d=d-a;b.time_ms-=Math.round(d*1e3)}this._logEvent(c,b);this._lastStartTimePosition=a;this._lastPlayedTime=a;this._currentTimeAtLoadedMetadataCache=null},allowNextSeekInMixin:function(){this._allowNextSeek=!0},onSeeked:function(a){__p&&__p();this._seeking=!1;var b=this._seekSourceTimePosition;this._seekSourceTimePosition=m;var c=this._currentTimeAtSeekStart;this._currentTimeAtSeekStart=m;if(this.preventSeekLoggingInMixin&&!this._allowNextSeek){this._pendingPlayRequest||(this._ignoreNextPlaying=!0);return}this._allowNextSeek=!1;this._ignoreNextPlaying=!1;var d={video_seek_source_time_position:b,video_last_start_time_position:b};this._fixOvewrittenGetVideoCurrentTime&&(d.video_seek_source_time_position=c);this.preventSeekLoggingInMixin&&(this._lastStartTimePosition!==m?d.video_last_start_time_position=this._lastStartTimePosition:d.video_last_start_time_position=b);b=j.SCRUBBED;this._fireSeekEvents&&(b=j.SEEKED,d={seek_from_video_time_position:c});this._logEvent(b,this._amendEventTime(d,a));c=this.getVideoElement();c.paused?this._lastStartTimePosition=m:this._lastStartTimePosition=this._getVideoCurrentTime()},onSeeking:function(a){this._currentTimeAtLoadedMetadataCache=null;this._seeking||(this._seekSourceTimePosition=this._getVideoCurrentTime(),this._seeking=!0);if(this._fixOverwrittenGetVideoCurrentTime)return;this._currentTimeAtSeekStart=m},onTimeUpdate:function(a){this._currentTimeAtLoadedMetadataCache=null;a=this.getVideoElement();a.paused||(this._lastPlayedTime=this._getVideoCurrentTime())},onVolumeChange:function(a){__p&&__p();var b=this.getVideoElement(),c={},d=null;if(i.useFixedVolumeLogging){var e=b.muted,f=this._muted,g=b.volume,h=this._volume;c.current_volume=Math.round(g*100);this._volume=g;this._muted=e;e=e||g==0;f=f||h==0;if(f&&e)return;if(f!=e)e?d=j.MUTED:d=j.UNMUTED;else{if(h==g)return;g<h?d=j.VOLUME_DECREASE:d=j.VOLUME_INCREASE}}else b.muted!==this._muted&&b.volume===this._volume&&b.volume>0?d=b.muted?j.MUTED:j.UNMUTED:(d=b.volume>this._volume?j.VOLUME_INCREASE:j.VOLUME_DECREASE,c.current_volume=Math.round(b.volume*100)),this._muted=b.muted,this._volume=b.volume;this._logEvent(d,this._amendEventTime(c,a))},_amendEventTime:function(a,b){var c=this._useEventTime;i.fixEventTimeLogging&&(c=c&&b);if(c)return o(a,b);else a.time_ms=Date.now();return a},_getVideoCurrentTime:function(){var a;this._fixOverwrittenGetVideoCurrentTime?a=this.getVideoElement().currentTime:a=this._currentTimeAtSeekStart===m?this.getVideoElement().currentTime:this._currentTimeAtSeekStart;a=a.toFixed(2);i.useCurrentTimeAdjustment&&(this._currentTimeAtLoadedMetadataCache!=null&&(a=this._currentTimeAtLoadedMetadataCache.toFixed(2)));return i.fixCurrentTimeType?+a:a},_getVideoPlayerShakaConfig:function(){return this.getVideoPlayerShakaConfig&&typeof this.getVideoPlayerShakaConfig==="function"?this.getVideoPlayerShakaConfig():null},onLoadedMetadata:function(a){this._currentTimeAtLoadedMetadataCache=this.getVideoElement().currentTime},_overwriteVideoCurrentTimeProperty:function(a){__p&&__p();var b=this;this._didOverwriteVideoCurrentTimeProperty=!1;try{var c=Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,"currentTime");if(!c)return;if(typeof c.get!=="function"||typeof c.set!=="function")return;Object.defineProperty&&Object.defineProperty(a,"currentTime",{get:function(){return c.get.call(this)},set:function(d){b._currentTimeAtSeekStart===m&&(b._currentTimeAtSeekStart=c.get.call(a)),c.set.call(a,d)},configurable:!0,enumerable:!0});this._didOverwriteVideoCurrentTimeProperty=!0}catch(a){}}};e.exports=a}),null);
__d("HVideoPlayerLoggerMixin",["EventListener","HVideoPlayerMixin","VideoPlayerLogger","VideoPlayerLoggerEvent"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();a={};b={initLogger:function(){__p&&__p();var a=this;g.listen(this.getVideoElement(),"play",function(){return a._onPlayLogUnmute()});this._logger=new i(i.Sources.HTML5);var b=function(b,c){var d=a.getSavedOffline(),e=a.getConnectivityType(),f=a.getResourceUrl(),g=a.getIsAdsPreview();c=babelHelpers["extends"]({},c,{saved_offline:d,connectivity_type:e,resource_url:f,is_ads_preview:g});b===j.UNMUTED&&(a._unmutedWasLogged=!0);c=Object.assign(c,a.getAdditionalLogData(b));a._logger.logEvent(b,c)};h.initLogger.call(this,b)},_onPlayLogUnmute:function(){var a=this.getLastPlayReason();!this._unmutedWasLogged&&this.getVideoElement()&&!this.getVideoElement().muted&&a=="user_initiated"&&this._logEvent(j.UNMUTED)},getLogger:function(){return this._logger},getAdClientToken:function(){var a=this.getVideoData();return a.adClientToken?a.adClientToken:null},getSavedOffline:function(){return null},logDisplayed:function(){this._logEvent(j.DISPLAYED,{is_auto_played:!0})},logPauseEvent:function(a){this.onPause(a?a:{})},logEvent:function(a,b){this._logEvent(a,b)}};Object.assign(a,h);Object.assign(a,b);e.exports=a}),null);
__d("MInlineVideoDebugger",["CSS","DOM","MVideoUtils"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();a=function(){"use strict";__p&&__p();function a(a,b){this.$6=b,this.$7(a),this.$8(),this.$9(),this.$10(),this.$11()}var b=a.prototype;b.$7=function(a){this.$1=h.create("div"),g.conditionClass(this.$1,i.DEBUGGER_CLASS,!0),h.insertAfter(a,this.$1)};b.$8=function(){this.$2=h.create("div"),h.appendContent(this.$1,this.$2)};b.$9=function(){this.$3=h.create("div"),h.appendContent(this.$1,this.$3)};b.$10=function(){this.$4=h.create("div"),h.appendContent(this.$1,this.$4)};b.$11=function(){this.$5=h.create("div"),h.appendContent(this.$1,this.$5),this.updateVideoIdDebugger(this.$6.videoID)};b.updateViewabilityLoggingDebugger=function(a){h.setContent(this.$2,"viewability:"+a)};b.updatePlayerStateDebugger=function(a){h.setContent(this.$3,"player state:"+a)};b.updateLastActionReasonDebugger=function(a){h.setContent(this.$4,"lastActionReason:"+a)};b.updateVideoIdDebugger=function(a){h.setContent(this.$5,"video ID:"+a)};b.cleanUp=function(){h.remove(this.$1)};return a}();e.exports=a}),null);
__d("SubRipText",[],(function(a,b,c,d,e,f){__p&&__p();var g={size:"90%"};function h(a){__p&&__p();var b=Number(a.substr(0,a.length-1)),c=a.substr(-1);switch(c){case"s":return b;case"m":return b*60;case"h":return b*3600}c=a.split(":");b=Number(c[c.length-1].replace(/,/,"."));c.length>1&&(b+=Number(c[c.length-2])*60);c.length>2&&(b+=Number(c[c.length-3])*3600);return b}function i(a){__p&&__p();a=a.split(/\r\n|\r|\n/).map(function(a){return a.trim()});var b=[],c=0;do{var d=a.indexOf("",c);d<0&&(d=a.length);var e=k(a.slice(c,d));e&&b.push(e);c=d+1}while(c>0&&c<a.length);return b}function j(a){a=a.split("-->");if(a.length!=2)return null;var b=h(a[0].trim());a=h(a[1].trim());return Number.isNaN(a)||Number.isNaN(b)?null:{begin:b,end:a}}function k(a){if(a.length<3)return null;var b=l(a[0]),c=j(a[1]);return!c?null:{counter:b,begin:c.begin,end:c.end,text:a.slice(2,6)}}function l(a){return Number(a.trim())}function m(a){a=a.split(".");return a[0].length<2?"0"+a.join("."):a.join(".")}function n(a){var b=m(Math.floor(a/3600).toString()),c=m(Math.floor(a%3600/60).toString());a=m((a%60).toFixed(3));return b+":"+c+":"+a}function o(a,b,c){var d="";if(c)for(var e in c)d+=" "+e+":"+c[e];return n(a)+" --> "+n(b)+d}function p(a,b){return a.counter+"\n"+o(a.begin,a.end,b)+"\n"+a.text.join("\n")+"\n"}function q(a,b){return"WEBVTT\n\n"+a.map(function(a){return p(a,b)}).join("\n")}a=function(){"use strict";__p&&__p();function a(a){var b=this;this.$1=i(a);this.$1.sort(function(a,b){return a.counter-b.counter});this.$2=this.$1.map(function(a,b){return b}).sort(function(a,c){return b.$1[a].begin-b.$1[c].begin});this.invalidateCache();this.$6=g}var b=a.prototype;b.$7=function(a){return this.$1[this.$2[a]]};b.$8=function(a){var b=this.$3;while(b<this.$2.length){var c=this.$7(b);if(c.begin<=a)this.$4.push(c),b++;else break}this.$3=b};b.$9=function(a){this.$4=this.$4.filter(function(b){return b.end>a})};b.invalidateCache=function(){this.$5=0,this.$4=[],this.$3=0};b.setStyle=function(a){this.$6=a};b.getSubtitles=function(a){a<this.$5&&this.invalidateCache();this.$5=a;this.$8(a);this.$9(a);return this.$4.reduce(function(a,b){return a.concat(b.text)},[])};b.renderVTT=function(){return q(this.$1,this.$6)};return a}();e.exports=a}),null);
__d("MVideoSubtitles",["DOM","EventListener","SubRipText","XHRRequest","emptyFunction","fbt","getCrossOriginTransport"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m){__p&&__p();var n=a.URL||a.webkitURL;b=function(){"use strict";__p&&__p();function a(a){this.$1=a,this.$2=k}var b=a.prototype;b.$3=function(a){a=new i(a);a=new Blob([a.renderVTT()],{type:"text/vtt"});return n.createObjectURL(a)};b.loadSubtitles=function(a){var b=this;if(!n)return;new j(a).setTransportBuilder(m).setMethod("GET").setResponseHandler(function(a){b.$4(b.$3(a))}).send()};b.$4=function(a){var b=this;a=g.create("track",{label:l._("On"),kind:"captions",src:a});h.listen(a,"load",function(){b.$2()});g.appendContent(this.$1,a);this.hideSubtitles()};b.showSubtitles=function(){Array.prototype.forEach.call(this.$1.textTracks,function(a){return a.mode="showing"})};b.hideSubtitles=function(){Array.prototype.forEach.call(this.$1.textTracks,function(a){return a.mode="hidden"})};b.setOnSubtitlesReady=function(a){this.$2=a};return a}();e.exports=b}),null);
__d("VideoViewabilityPercentage",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({OFFSCREEN:-2,VIEWABLE_UNKNOWN:-1,VIEWABLE_0:0,VIEWABLE_25:25,VIEWABLE_50:50,VIEWABLE_75:75,VIEWABLE_100:100})}),null);
__d("MVideoViewability",["MFullScreen","VideoViewabilityPercentage","Visibility","getElementPosition","getViewportDimensions"],(function(a,b,c,d,e,f,g,h,i,j,k){__p&&__p();var l={shouldLog:function(a){return!!a&&a.videoViewabilityLoggingEnabled&&a.videoViewabilityLoggingPollingRate>0},calculateViewabilityPercentage:function(a){__p&&__p();if(g.isFullScreen())return h.VIEWABLE_100;if(i.isHidden())return h.OFFSCREEN;a=l.calculateViewabilityPercentageNumber(j(a));if(a===0)return h.OFFSCREEN;else if(a<25)return h.VIEWABLE_0;else if(a<50)return h.VIEWABLE_25;else if(a<75)return h.VIEWABLE_50;else if(a<100)return h.VIEWABLE_75;else return h.VIEWABLE_100},calculateViewabilityPercentageNumber:function(a){var b=k().width,c=k().height;if(a.width===0||a.height===0)return 0;var d=a.x,e=a.x+a.width,f=a.y,g=a.y+a.height;if(e<=0||d>=b||g<=0||f>=c)return 0;e=Math.min(e,b)-Math.max(d,0);b=Math.min(g,c)-Math.max(f,0);return e*b*100/(a.width*a.height)}};e.exports=l}),null);
__d("VideoPlayerReason",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AUTOPLAY:"autoplay_initiated",COMMERCIAL_BREAK:"commercial_break",CONNECTION:"host-connection-error",EMBEDDED_VIDEO_API:"embedded_video_api_initiated",FALLBACK_MODE:"fallback_mode",HOVER:"hover",LOOP:"loop_initiated",NETWORK_INTERRUPTED:"network_interrupted",NETWORK_RESUMED:"network_resumed",PAGE_VISIBILITY:"page_visibility_initiated",SEEK:"seek_initiated",SPHERICAL_FALLBACK:"spherical_fallback",SPHERICAL_SWITCH_CANVAS:"spherical_switch_canvas",SPHERICAL_FAILED:"spherical_failed",UNLOADED:"unloaded",USER:"user_initiated",VIDEO_DATA_REPLACED:"video_data_replaced",VIDEO_DATA_SWITCH:"video_data_switch",VIDEO_VISIBILITY:"video_visibility_initiated",VOD_NOT_READY:"vod_not_ready",WARNING_SCREEN_COVER:"warning_screen_cover"})}),null);
__d("VideoPlayerVersions",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({HTML5:"html5",PLEASANTVILLE:"pleasantville",REACT:"react",REACT_PLEASANTVILLE:"react_pleasantville",REACT_SILVERCITY:"react_silvercity",SILVERCITY:"silvercity",OZ:"oz",REACT_OZ:"react_oz",OLD_API_EXO:"old_api_exo",OLD_API_EXO_DEPRECATED:"old_api_exo_deprecated",OLD_API_EXO_NEW_LIB:"old_api_exo_new_lib",OLD_API_PSR:"old_api_psr",HEROPLAYER:"heroplayer",HEROPLAYER2:"heroplayer2",HEROPLAYER_CORE_PLUGINS:"heroplayer_only_core_plugins",HEROPLAYER_NON_CORE_PLUGINS:"heroplayer_other_plugins",HEROPLAYER2_CORE_PLUGINS:"heroplayer2_only_core_plugins",HEROPLAYER2_NON_CORE_PLUGINS:"heroplayer2_other_plugins",GROOTPLAYER:"grootplayer",FNF:"fnf",LEGACY:"legacy",REFACTORED:"refactored",MBASIC:"mbasic",MTOUCH_SHAKA_LIVE:"mtouch_shaka_live",MTOUCH_SPHERICAL:"mtouch_360",MTOUCH_OZ:"mtouch_oz",CASTING_DEBUG:"casting_debug",CHROMECAST:"chromecast",WEBAPIS_AVPLAY:"webapis_avplay",FBLITE_LEGACY:"fblite_legacy",FBLITE_SURFACE:"fblite_surface",FBLITE_TEXTURE:"fblite_texture",HERO_SURFACE:"hero_surface",HERO_TEXTURE:"hero_texture",UNKNOWN:"unknown"})}),null);
__d("oz-player/loggings/OzOperationLoggerBase",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){this.$1=a}var b=a.prototype;b.start=function(){this.getClientTimeBegin()||this.setClientTimeBegin(Date.now());return this};b.log=function(){this.getClientTimeEnd()||this.setClientTimeEnd(Date.now())};b.setError=function(a){this.$2=a;return this};b.setResult=function(a){this.$3=a;return this};b.setType=function(a){this.$4=a;return this};b.setClientTimeBegin=function(a){this.$5=a;return this};b.setClientTimeEnd=function(a){this.$6=a;return this};b.setSegmentCount=function(a){this.$13=a;return this};b.setTimeToFirstByte=function(a){this.$7=a;return this};b.setTimeToLastByte=function(a){this.$8=a;return this};b.setTimeToRequestStart=function(a){this.$9=a;return this};b.setTimeToRequestSent=function(a){this.$10=a;return this};b.setReason=function(a){this.$11=a;return this};b.setResource=function(a){this.$12=a;return this};b.setSegmentStartTime=function(a){this.$14=a;return this};b.setSegmentEndTime=function(a){this.$15=a;return this};b.setLength=function(a){this.$16=a;return this};b.setLiveheadPosition=function(a){this.$17=a;return this};b.setManifestType=function(a){this.$18=a;return this};b.setPriorityFloat=function(a){this.$19=a;return this};b.setAppendedBufferMs=function(a){this.$20=a;return this};b.setInitiator=function(a){this.$21=a;return this};b.setPreloadTime=function(a){this.$22=a;return this};b.setConcluder=function(a){this.$23=a;return this};b.setPreviousRepresentationID=function(a){this.$24=a;return this};b.setRepresentationID=function(a){this.$25=a;return this};b.setState=function(a){this.$26=a;return this};b.getError=function(){return this.$2};b.getResult=function(){return this.$3};b.getType=function(){return this.$4};b.getClientTimeBegin=function(){return this.$5};b.getClientTimeEnd=function(){return this.$6};b.getTimeToRequestStart=function(){return this.$9};b.getTimeToRequestSent=function(){return this.$10};b.getReason=function(){return this.$11};b.getResource=function(){return this.$12};b.getOperationName=function(){return this.$1};b.getSegmentStartTime=function(){return this.$14};b.getSegmentEndTime=function(){return this.$15};b.getLength=function(){return this.$16};b.getLiveheadPosition=function(){return this.$17};b.getManifestType=function(){return this.$18};b.getPriorityFloat=function(){return this.$19};b.getAppendedBufferMs=function(){return this.$20};b.getInitiator=function(){return this.$21};b.getPreloadTime=function(){return this.$22};b.getConcluder=function(){return this.$23};return a}();e.exports=a}),null);
__d("oz-player/loggings/OzPerfLoggerProviderBase",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){}var b=a.prototype;b.cloneContext=function(){var a=this.createLoggerProvider();this.$7(a);return a};b.setType=function(a){this.$1=a;return this};b.setInitiator=function(a){this.$2=a;return this};b.setResource=function(a){this.$4=a;return this};b.setRepresentationID=function(a){this.$3=a;return this};b.setSegmentStartTime=function(a){this.$5=a;return this};b.setSegmentEndTime=function(a){this.$6=a;return this};b.getType=function(){return this.$1};b.getInitiator=function(){return this.$2};b.getRepresentationID=function(){return this.$3};b.getResource=function(){return this.$4};b.getSegmentStartTime=function(){return this.$5};b.getSegmentEndTime=function(){return this.$6};b.getOperationLogger=function(a){a=this.createOperationLogger(a);return this.setOperationContext(a)};b.setOperationContext=function(a){this.$7(a);return a};b.createOperationLogger=function(a){throw new Error("Not implemented: createOperationLogger")};b.createLoggerProvider=function(){throw new Error("Not implemented: createLoggerProvider")};b.$7=function(a){this.getType()&&a.setType(this.getType()),this.getInitiator()&&a.setInitiator(this.getInitiator()),this.getResource()&&a.setResource(this.getResource()),this.getRepresentationID()&&a.setRepresentationID(this.getRepresentationID()),typeof this.getSegmentStartTime()==="number"&&a.setSegmentStartTime(this.getSegmentStartTime()),typeof this.getSegmentEndTime()==="number"&&a.setSegmentEndTime(this.getSegmentEndTime())};return a}();e.exports=a}),null);
__d("oz-player/shims/OzEventEmitter",["EventEmitter"],(function(a,b,c,d,e,f){"use strict";e.exports=b("EventEmitter")}),null);
__d("oz-player/loggings/OzPreInitLogger",["oz-player/shims/OzEventEmitter","oz-player/loggings/OzOperationLoggerBase","oz-player/loggings/OzPerfLoggerProviderBase"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){a=b.call(this,a)||this;a.$OzPreInitOperationLogger1=c;return a}var c=a.prototype;c.log=function(){b.prototype.log.call(this),this.$OzPreInitOperationLogger1(this)};return a}(h);a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$OzPreInitLoggerProvider1=!1,c.$OzPreInitLoggerProvider2=[],c.$OzPreInitLoggerProvider3=new g(),b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.deactivate=function(){this.$OzPreInitLoggerProvider1=!1};c.activate=function(){var a=this;this.$OzPreInitLoggerProvider1=!0;this.$OzPreInitLoggerProvider2.forEach(function(b){a.$OzPreInitLoggerProvider3.emit("operation_logged",b)});this.$OzPreInitLoggerProvider2=[]};c.setOperationLoggedListener=function(a){return this.$OzPreInitLoggerProvider3.addListener("operation_logged",function(b){a(b)})};c.createOperationLogger=function(a){var b=this;a=new j(a,function(a){b.$OzPreInitLoggerProvider1?b.$OzPreInitLoggerProvider3.emit("operation_logged",a):b.$OzPreInitLoggerProvider2.push(a)});return a};c.createLoggerProvider=function(){return new b()};return b}(i);e.exports={OzPreInitLoggerProvider:a}}),null);
__d("MVideoPlayerApiBase",["Promise","BanzaiODS","Bootloader","CSS","DataAttributeUtils","DOM","EventEmitter","EventListener","HVideoPlayerLoggerMixin","MFullScreen","MInlineVideoDebugger","MParent","MVideoCache","MVideoExperiments","MVideoSubtitles","MVideoUtils","MVideoViewability","Stratcom","StratcomManager","SubscriptionsHandler","URI","VideoPlayerLoggerEvent","VideoPlayerLoggerEventField","VideoPlayerReason","VideoPlayerVersions","VideoViewabilityKeyEvents","clearInterval","invariant","isCdnURI","mixin","oz-player/loggings/OzPreInitLogger","qex","setInterval","setTimeoutAcrossTransitions","throttle"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O){__p&&__p();var P=K.OzPreInitLoggerProvider,Q={CONSTRUCTED:"constructed",INIT_DONE:"init_done",CREATED:"created",FIRST_PLAYING:"first_playing",PLAYING:"playing",CANCELLED_REQUEST_PLAYING:"cancelled_request_playing",PAUSE_WITHOUT_PLAY:"pause_without_play",PAUSED:"paused",ENDED:"ended",FIRST_REQUESTED_PLAYING:"first_requested_playing",REQUESTED_PLAYING:"requested_playing",FIRST_VIDEO_PLAY:"first_video_play",VIDEO_PLAY:"video_play",RESCHEDULE_VIDEO_PLAY:"reschedule_video_play",REQUESTED_PAUSE_BEFORE_STARTED_PLAYING:"requested_pause_before_started_playing",REQUESTED_PAUSE:"requested_pause",DESTROYED_REQUESTED_PLAYING:"destroyed_requested_playing",DESTROY:"destroy"},R=["canplay","play","seeked","seeking"],S=100,T=1e3/15,U=3e4;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b){__p&&__p();var c;c=a.call(this)||this;c.eventEmitter=new m();c.$MVideoPlayerApiBase27=!1;c.$MVideoPlayerApiBase28=0;c.$MVideoPlayerApiBase50=function(){var a=c.getVideoElement();x.invoke("m:video:player:fullscreenchange",null,{videoElement:c.$MVideoPlayerApiBase1,player:a});var b=p.isFullScreen();t.do_not_stretch_fullscreen&&j.conditionClass(a,v.FULL_WIDTH_PLAYER_CLASS,!b);c.logEvent(b?B.ENTERED_FS:B.EXITED_FS)};c.$MVideoPlayerApiBase38=function(){x.invoke("m:video:player:play",null,{videoElement:c.$MVideoPlayerApiBase1,player:c.getVideoElement()}),c.toggleClassOnMVideoElement(v.SHOW_PAUSE_CLASS,!1),c.$MVideoPlayerApiBase51()};c.$MVideoPlayerApiBase39=function(){c.$MVideoPlayerApiBase37(Q.FIRST_PLAYING),c.$MVideoPlayerApiBase31(Q.PLAYING),c.$MVideoPlayerApiBase9=!1,x.invoke("m:video:player:playing",null,{videoElement:c.$MVideoPlayerApiBase1,player:c.getVideoElement()}),c.hideLoadingSpinner(),c.$MVideoPlayerApiBase52(),c.$MVideoPlayerApiBase23&&c.$MVideoPlayerApiBase23.log(),c.$MVideoPlayerApiBase23=null,c.heartbeatEnabled()&&c.$MVideoPlayerApiBase53(),c.eventEmitter.emit("playing")};c.$MVideoPlayerApiBase40=function(a){c.$MVideoPlayerApiBase54(),c.$MVideoPlayerApiBase9=!1,c.$MVideoPlayerApiBase23&&(c.$MVideoPlayerApiBase23.setResult("aborted").log(),c.$MVideoPlayerApiBase23=null),x.invoke("m:video:player:pause",null,{videoElement:c.$MVideoPlayerApiBase1,player:c.getVideoElement(),destroyed:a}),t.mtouch_prevent_consequent_calls||c.$MVideoPlayerApiBase55(!1),c.hideLoadingSpinner(),c.$MVideoPlayerApiBase56(),c.$MVideoPlayerApiBase57(),c.$MVideoPlayerApiBase58(),c.$MVideoPlayerApiBase24&&(c.$MVideoPlayerApiBase24.log(),c.$MVideoPlayerApiBase24=null),c.eventEmitter.emit("paused")};c.$MVideoPlayerApiBase41=function(){__p&&__p();if(c.$MVideoPlayerApiBase3.loop&&c.$MVideoPlayerApiBase3.numOfLoops&&!c.$MVideoPlayerApiBase3.playEndSec&&!c.$MVideoPlayerApiBase3.playStartSec&&L._("836566")){c.$MVideoPlayerApiBase28++;if(c.$MVideoPlayerApiBase28<c.$MVideoPlayerApiBase3.numOfLoops){c.play(D.LOOP);return}}c.$MVideoPlayerApiBase31(Q.ENDED);x.invoke("m:video:player:ended",null,{videoElement:c.$MVideoPlayerApiBase1,player:c.getVideoElement()});c.$MVideoPlayerApiBase9=!1;c.$MVideoPlayerApiBase56();c.$MVideoPlayerApiBase3.playOnClick&&c.$MVideoPlayerApiBase3.playInFullScreen&&p.isSupported()&&p.disableFullScreen();c.eventEmitter.emit("finished")};c.$MVideoPlayerApiBase42=function(){c.showLoadingSpinner()};c.$MVideoPlayerApiBase46=function(){c.$MVideoPlayerApiBase9=!0};c.$MVideoPlayerApiBase47=function(){c.$MVideoPlayerApiBase9=!1,c.$MVideoPlayerApiBase7&&(c.$MVideoPlayerApiBase8=!0,c.$MVideoPlayerApiBase56(),c.logPauseEvent({lastPauseReason:D.SEEK}))};c.$MVideoPlayerApiBase43=function(){var a=c.getVideoElement().volume;c.$MVideoPlayerApiBase13!==void 0&&(c.$MVideoPlayerApiBase13===0&&a!==0?c.eventEmitter.emit("unmuted"):c.$MVideoPlayerApiBase13!==0&&a===0&&c.eventEmitter.emit("muted"),c.eventEmitter.emit("changeVolume",{volume:a}));c.$MVideoPlayerApiBase13=a;if(c.$MVideoPlayerApiBase26){c.$MVideoPlayerApiBase26=!1;return}x.invoke("m:video:player:volumechange",null,{videoElement:c.$MVideoPlayerApiBase1,player:c.getVideoElement()})};c.$MVideoPlayerApiBase44=function(){c.hideLoadingSpinner()};c.$MVideoPlayerApiBase48=function(){!c.$MVideoPlayerApiBase6&&c.getLastActionReason()===D.PAGE_VISIBILITY&&c.play(D.USER)};c.$MVideoPlayerApiBase49=function(){c.$MVideoPlayerApiBase6&&c.pause(D.PAGE_VISIBILITY)};c.$MVideoPlayerApiBase45=function(){c.$MVideoPlayerApiBase3.playStartSec&&c.$MVideoPlayerApiBase3.playStartSec>0&&(c.getVideoElement().currentTime=c.$MVideoPlayerApiBase3.playStartSec),c.eventEmitter.emit("updateMetadata")};c.$MVideoPlayerApiBase59=function(){var a=c.$MVideoPlayerApiBase15;c.$MVideoPlayerApiBase62();if(c.$MVideoPlayerApiBase15!==a){c.logEvent(B.VIEWABILITY_CHANGED,(a={},a[C.CURRENT_VIEWABILITY_PERCENTAGE]=c.$MVideoPlayerApiBase15,a))}};c.hideLoadingSpinner=function(){c.toggleClassOnMVideoElement(v.LOADING_CLASS,!1)};c.showLoadingSpinner=function(){c.toggleClassOnMVideoElement(v.LOADING_CLASS,!0)};c.toggleVideoQuality=function(){};c.getVideoQuality=function(){return c.$MVideoPlayerApiBase3.defaultQuality};c.$MVideoPlayerApiBase66=function(){if(!c.$MVideoPlayerApiBase7||!c.getVideoElement()){c.$MVideoPlayerApiBase58();return}c.logHeartbeat()};c.$MVideoPlayerApiBase1=b;c.$MVideoPlayerApiBase3=v.getVideoDataFromMVideo(c.$MVideoPlayerApiBase1);c.$MVideoPlayerApiBase3[v.API_INSTANCE_KEY]=babelHelpers.assertThisInitialized(c);c.$MVideoPlayerApiBase22=new P();c.$MVideoPlayerApiBase17=O.withBlocking(c.$MVideoPlayerApiBase29,T,babelHelpers.assertThisInitialized(c));c.$MVideoPlayerApiBase18=O.withBlocking(c.$MVideoPlayerApiBase30,T,babelHelpers.assertThisInitialized(c));return c}var c=b.prototype;c.setup=function(){};c.init=function(a){__p&&__p();var b=this;this.reset();this.$MVideoPlayerApiBase27=!0;a&&(this.$MVideoPlayerApiBase2=a);this.$MVideoPlayerApiBase31(Q.CONSTRUCTED);this.$MVideoPlayerApiBase3.videoInitSeqID===null||this.$MVideoPlayerApiBase3.videoInitSeqID===void 0?this.$MVideoPlayerApiBase3.videoInitSeqID=0:this.$MVideoPlayerApiBase3.videoInitSeqID=1+this.$MVideoPlayerApiBase3.videoInitSeqID;this.$MVideoPlayerApiBase4=new z();this.prepareDOMNode();R.forEach(function(a){y.enableDispatch(b.getVideoElement(),a)});this.$MVideoPlayerApiBase32();this.$MVideoPlayerApiBase33(a);this.$MVideoPlayerApiBase21=!0;this.$MVideoPlayerApiBase34();this.$MVideoPlayerApiBase3.videoDebuggerEnabled&&(this.$MVideoPlayerApiBase10=new q(this.$MVideoPlayerApiBase1,this.$MVideoPlayerApiBase3),this.$MVideoPlayerApiBase10.updateLastActionReasonDebugger(this.getLastActionReason()));this.$MVideoPlayerApiBase14=w.shouldLog(this.$MVideoPlayerApiBase3);this.$MVideoPlayerApiBase3.loop&&this.$MVideoPlayerApiBase3.numOfLoops===null&&(this.getVideoElement().setAttribute("loop","true"),this.getVideoElement().loop=!0);x.invoke("m:video:player:init",null,{apiInstance:this});this.$MVideoPlayerApiBase31(Q.INIT_DONE);this.postInit();this.$MVideoPlayerApiBase31(Q.CREATED)};c.$MVideoPlayerApiBase32=function(){this.initLogger();var a=r.bySigil(this.$MVideoPlayerApiBase1,"story-div");if(a){a=k.getDataFt(a);a={ft:JSON.parse(a)};this.getLogger().setFTData(a)}};c.$MVideoPlayerApiBase35=function(){var a;this.$MVideoPlayerApiBase3.videoElement?this.$MVideoPlayerApiBase3.videoElement:(this.$MVideoPlayerApiBase31("create_new_video_node"),a=v.createVideoNode(),this.$MVideoPlayerApiBase3.videoElement=a)};c.$MVideoPlayerApiBase36=function(a){return this.$MVideoPlayerApiBase20.has(a)};c.$MVideoPlayerApiBase37=function(a){this.$MVideoPlayerApiBase31(a,!0)};c.$MVideoPlayerApiBase31=function(a,b){b===void 0&&(b=!1);if(!t.mtouch_enable_playback_funnel_counters)return;var c=this.getPlayerVersion();if(b&&this.$MVideoPlayerApiBase36(a))return;this.$MVideoPlayerApiBase20.add(a);h.bumpEntityKey("mtouch_video."+c+"."+this.$MVideoPlayerApiBase2,a)};c.reset=function(){this.$MVideoPlayerApiBase27&&H(0,5251),this.$MVideoPlayerApiBase2=D.USER,this.$MVideoPlayerApiBase5=!0,this.$MVideoPlayerApiBase6=!1,this.$MVideoPlayerApiBase7=!1,this.$MVideoPlayerApiBase8=!1,this.$MVideoPlayerApiBase9=!1,this.$MVideoPlayerApiBase10=null,this.$MVideoPlayerApiBase11=D.USER,this.$MVideoPlayerApiBase12=void 0,this.$MVideoPlayerApiBase14=!1,this.$MVideoPlayerApiBase15=void 0,this.$MVideoPlayerApiBase16=void 0,this.$MVideoPlayerApiBase19=void 0,this.$MVideoPlayerApiBase20=new Set([]),this.$MVideoPlayerApiBase21=!1,this.$MVideoPlayerApiBase23=void 0,this.$MVideoPlayerApiBase24=void 0,this.$MVideoPlayerApiBase25=void 0,this.$MVideoPlayerApiBase26=!1,this.$MVideoPlayerApiBase28=0};c.postInit=function(){};c.prepareDOMNode=function(){this.$MVideoPlayerApiBase3.videoElement&&this.$MVideoPlayerApiBase31("consume_precreated_video_node");this.$MVideoPlayerApiBase35();var a=this.getVideoElement();a.controls=!(t.enableSphericalVideo&&this.$MVideoPlayerApiBase3.spherical)&&!this.$MVideoPlayerApiBase3.disableVideoControls;l.prependContent(this.$MVideoPlayerApiBase1,a);a.setAttribute("playInFullScreen",this.$MVideoPlayerApiBase3.playInFullScreen);!this.$MVideoPlayerApiBase3.playInFullScreen&&this.$MVideoPlayerApiBase3.shouldPlayInline&&a.setAttribute("playsinline","true");this.$MVideoPlayerApiBase3.muted&&(a.muted=!0,this.shouldIgnoreInitialMuteOperation()&&(this.$MVideoPlayerApiBase26=!0))};c.$MVideoPlayerApiBase34=function(){var a=this;this.$MVideoPlayerApiBase4.addSubscriptions(x.listen("m:page:unload",null,function(){a.release(),x.removeCurrentListener()}));var b=this.getVideoElement();this.$MVideoPlayerApiBase4.addSubscriptions(n.listen(b,"play",this.$MVideoPlayerApiBase38),n.listen(b,"playing",this.$MVideoPlayerApiBase39),n.listen(b,"pause",this.$MVideoPlayerApiBase40),n.listen(b,"ended",this.$MVideoPlayerApiBase41),n.listen(b,"waiting",this.$MVideoPlayerApiBase42),n.listen(b,"timeupdate",this.onTimeUpdateBase.bind(this)),n.listen(b,"volumechange",this.$MVideoPlayerApiBase43),n.listen(b,"canplay",this.$MVideoPlayerApiBase44),n.listen(b,"loadedmetadata",this.$MVideoPlayerApiBase45),n.listen(this.getVideoElement(),"contextmenu",function(a){a.preventDefault()}));t.use_shared_seeking||this.$MVideoPlayerApiBase4.addSubscriptions(n.listen(b,"seeked",this.$MVideoPlayerApiBase46),n.listen(b,"seeking",this.$MVideoPlayerApiBase47));this.$MVideoPlayerApiBase3.videoPlayerPauseWhenBlur&&this.$MVideoPlayerApiBase4.addSubscriptions(n.listen(window,"focus",this.$MVideoPlayerApiBase48),n.listen(window,"blur",this.$MVideoPlayerApiBase49));p.isSupported()&&this.$MVideoPlayerApiBase4.addSubscriptions(p.listenForFullScreenEvent(window,this.$MVideoPlayerApiBase50))};c.$MVideoPlayerApiBase54=function(){this.$MVideoPlayerApiBase36(Q.FIRST_REQUESTED_PLAYING)?this.$MVideoPlayerApiBase36(Q.FIRST_PLAYING)||this.$MVideoPlayerApiBase37(Q.CANCELLED_REQUEST_PLAYING):this.$MVideoPlayerApiBase31(Q.PAUSE_WITHOUT_PLAY),this.$MVideoPlayerApiBase31(Q.PAUSED)};c.$MVideoPlayerApiBase51=function(){this.$MVideoPlayerApiBase14&&(this.$MVideoPlayerApiBase16=M(this.$MVideoPlayerApiBase59,this.$MVideoPlayerApiBase3.videoViewabilityLoggingPollingRate))};c.$MVideoPlayerApiBase57=function(){G(this.$MVideoPlayerApiBase16)};c.onTimeUpdateBase=function(a){this.$MVideoPlayerApiBase8&&this.$MVideoPlayerApiBase9&&(this.$MVideoPlayerApiBase9=!1,this.$MVideoPlayerApiBase60()),this.$MVideoPlayerApiBase17(),this.$MVideoPlayerApiBase18(),this.eventEmitter.emit("updateStatus",{position:this.getCurrentTimePosition()})};c.$MVideoPlayerApiBase60=function(){this.logEvent(B.REQUESTED_PLAYING,{debug_reason:D.SEEK}),this.onPlaying(),this.$MVideoPlayerApiBase52(),this.$MVideoPlayerApiBase8=!1};c.$MVideoPlayerApiBase52=function(){L._("773042")&&this.toggleClassOnMVideoElement(v.SHOW_PLAYING_CLASS,!0),this.$MVideoPlayerApiBase7=!0};c.$MVideoPlayerApiBase56=function(){L._("773042")&&this.toggleClassOnMVideoElement(v.SHOW_PLAYING_CLASS,!1),this.$MVideoPlayerApiBase7=!1};c.$MVideoPlayerApiBase61=function(){this.$MVideoPlayerApiBase10&&this.$MVideoPlayerApiBase10.updateViewabilityLoggingDebugger(this.$MVideoPlayerApiBase15)};c.$MVideoPlayerApiBase62=function(){var a=w.calculateViewabilityPercentage(this.$MVideoPlayerApiBase1);this.$MVideoPlayerApiBase15!==a&&(this.$MVideoPlayerApiBase15=a,this.$MVideoPlayerApiBase61())};c.$MVideoPlayerApiBase29=function(){this.$MVideoPlayerApiBase3.playEndSec&&this.getVideoElement().currentTime>this.$MVideoPlayerApiBase3.playEndSec&&!this.$MVideoPlayerApiBase3.loop&&this.pause()};c.$MVideoPlayerApiBase30=function(){if(this.$MVideoPlayerApiBase3.loop&&(this.$MVideoPlayerApiBase3.playStartSec||this.$MVideoPlayerApiBase3.playEndSec)&&(this.$MVideoPlayerApiBase3.playEndSec&&this.getVideoElement().currentTime>this.$MVideoPlayerApiBase3.playEndSec||this.$MVideoPlayerApiBase3.playStartSec&&this.getVideoElement().currentTime==0)){var a=this.$MVideoPlayerApiBase3.playStartSec||0;this.getVideoElement().currentTime=a}};c.isVisible=function(){return this.$MVideoPlayerApiBase5};c.show=function(a){a===void 0&&(a=!0),this.$MVideoPlayerApiBase5=!0,j.conditionClass(this.$MVideoPlayerApiBase1,v.SHOWN_CLASS,!0),this.$MVideoPlayerApiBase63(),a&&this.$MVideoPlayerApiBase64()};c.hide=function(){this.$MVideoPlayerApiBase5=!1,j.conditionClass(this.$MVideoPlayerApiBase1,v.SHOWN_CLASS,!1)};c.$MVideoPlayerApiBase33=function(a){this.$MVideoPlayerApiBase37(Q.FIRST_REQUESTED_PLAYING),this.$MVideoPlayerApiBase31(Q.REQUESTED_PLAYING),this.logEvent(B.REQUESTED_PLAYING,null),this.$MVideoPlayerApiBase23||(this.$MVideoPlayerApiBase23=this.$MVideoPlayerApiBase22.getOperationLogger("requested_playing").start().setInitiator(a))};c.shouldDisablePlayDelay=function(){return!1};c.shouldIgnoreInitialMuteOperation=function(){return!1};c.play=function(a){__p&&__p();var b=this;if(t.mtouch_prevent_consequent_calls&&this.$MVideoPlayerApiBase6)return;a&&this.setLastActionReason(a);this.$MVideoPlayerApiBase21?this.$MVideoPlayerApiBase21=!1:this.$MVideoPlayerApiBase33(a);this.$MVideoPlayerApiBase55(!0);if(t.isKaiOS||this.shouldDisablePlayDelay())this.$MVideoPlayerApiBase37(Q.FIRST_VIDEO_PLAY),this.$MVideoPlayerApiBase31(Q.VIDEO_PLAY),this.attemptVideoElementPlay();else{if(this.$MVideoPlayerApiBase12)return;this.$MVideoPlayerApiBase12=N(function(){b.$MVideoPlayerApiBase12=null,b.$MVideoPlayerApiBase37(Q.FIRST_VIDEO_PLAY),b.$MVideoPlayerApiBase31(Q.VIDEO_PLAY),b.attemptVideoElementPlay()},S)}};c.attemptVideoElementPlay=function(){var a=this;this.getVideoElement().play()["catch"](function(b){b&&b.name==="NotAllowedError"&&a.logEvent(B.CANCELLED_REQUESTED_PLAYING,{reason:"not_allowed"})})};c.pause=function(a){__p&&__p();if(t.mtouch_prevent_consequent_calls&&!this.$MVideoPlayerApiBase6)return;this.$MVideoPlayerApiBase24=this.$MVideoPlayerApiBase22.getOperationLogger("pause").start().setInitiator(a);this.$MVideoPlayerApiBase36(Q.FIRST_REQUESTED_PLAYING)&&!this.$MVideoPlayerApiBase36(Q.FIRST_PLAYING)&&this.$MVideoPlayerApiBase37(Q.REQUESTED_PAUSE_BEFORE_STARTED_PLAYING);this.$MVideoPlayerApiBase31(Q.REQUESTED_PAUSE);a&&this.setLastActionReason(a);this.$MVideoPlayerApiBase55(!1);this.getVideoElement().pause();this.$MVideoPlayerApiBase12&&(window.clearTimeout(this.$MVideoPlayerApiBase12),this.$MVideoPlayerApiBase12=null);this.toggleClassOnMVideoElement(v.SHOW_PAUSE_CLASS,!0)};c.unload=function(){__p&&__p();this.$MVideoPlayerApiBase36(Q.FIRST_REQUESTED_PLAYING)&&!this.$MVideoPlayerApiBase36(Q.FIRST_PLAYING)&&this.$MVideoPlayerApiBase31(Q.DESTROYED_REQUESTED_PLAYING);this.$MVideoPlayerApiBase40(!0);this.logPauseEvent();this.$MVideoPlayerApiBase65();this.pause(D.UNLOADED);x.invoke("m:video:player:destroy",null,{videoElement:this.$MVideoPlayerApiBase1,player:this.getVideoElement()});var a=this.getVideoElement();this.$MVideoPlayerApiBase3.videoElement=null;this.$MVideoPlayerApiBase10&&(this.$MVideoPlayerApiBase10.cleanUp(),this.$MVideoPlayerApiBase10=null);this.$MVideoPlayerApiBase19&&(this.$MVideoPlayerApiBase19.unload(),this.$MVideoPlayerApiBase19=null);this.release();this.hide();a&&(a.setAttribute("src",""),a.load&&a.load());a=null;this.$MVideoPlayerApiBase31(Q.DESTROY);this.$MVideoPlayerApiBase22.deactivate();this.$MVideoPlayerApiBase27=!1};c.destroy=function(){this.unload(),delete this.$MVideoPlayerApiBase3[v.API_INSTANCE_KEY]};c.$MVideoPlayerApiBase65=function(){l.remove(this.getVideoElement());while(this.getVideoElement().hasChildNodes())this.getVideoElement().removeChild(this.getVideoElement().lastChild);this.getVideoElement().removeAttribute("src")};c.release=function(){this.$MVideoPlayerApiBase4.release(),G(this.$MVideoPlayerApiBase16)};c.getVolume=function(){return this.getVideoElement().volume};c.setVolume=function(a){this.getVideoElement().volume=a};c.mute=function(){this.getVideoElement().muted=!0};c.unmute=function(){this.getVideoElement().muted=!1};c.seek=function(a){this.getVideoElement().currentTime=a};c.getPlaybackDuration=function(){return this.getVideoElement().duration||0};c.getCurrentTimePosition=function(){return this.getVideoElement().currentTime||0};c.getPreInitLoggerProvider=function(){return this.$MVideoPlayerApiBase22};c.$MVideoPlayerApiBase63=function(){this.$MVideoPlayerApiBase3.width&&this.getVideoElement().setAttribute("width",this.$MVideoPlayerApiBase3.width),this.$MVideoPlayerApiBase3.height&&this.getVideoElement().setAttribute("height",this.$MVideoPlayerApiBase3.height)};c.getDimensions=function(){var a=this.getVideoElement();return{width:Number(this.$MVideoPlayerApiBase3.width||a.width),height:Number(this.$MVideoPlayerApiBase3.height||a.height)}};c.$MVideoPlayerApiBase64=function(){if(!I(new A(this.$MVideoPlayerApiBase3.subtitlesSrc)))return;var a=new u(this.getVideoElement());a.setOnSubtitlesReady(function(){return a.showSubtitles()});a.loadSubtitles(this.$MVideoPlayerApiBase3.subtitlesSrc)};c.toggleClassOnMVideoElement=function(a,b){j.conditionClass(this.$MVideoPlayerApiBase1,a,b)};c.hasActivePlayer=function(){return this.$MVideoPlayerApiBase5&&this.getVideoElement().parentNode===this.$MVideoPlayerApiBase1};c.getVideoData=function(){return this.$MVideoPlayerApiBase3};c.getMVideoElement=function(){return this.$MVideoPlayerApiBase1};c.$MVideoPlayerApiBase55=function(a){this.$MVideoPlayerApiBase6=a,this.$MVideoPlayerApiBase10&&this.$MVideoPlayerApiBase10.updatePlayerStateDebugger(this.$MVideoPlayerApiBase6?v.PLAYER_STATE.playing:v.PLAYER_STATE.paused)};c.isPlayingState=function(){return this.isPlayScheduled()||this.isCurrentlyPlaying()};c.isPlayScheduled=function(){return this.$MVideoPlayerApiBase6};c.isCurrentlyPlaying=function(){return this.$MVideoPlayerApiBase7};c.setPlayerState=function(a){this.$MVideoPlayerApiBase55(a===v.PLAYER_STATE.playing)};c.setLastActionReason=function(a){this.$MVideoPlayerApiBase11=a,this.$MVideoPlayerApiBase10&&this.$MVideoPlayerApiBase10.updateLastActionReasonDebugger(a)};c.getLastActionReason=function(){return this.$MVideoPlayerApiBase11};c.getPlayerFormat=function(){return this.$MVideoPlayerApiBase3.playerFormat};c.getPlayerOrigin=function(){return this.$MVideoPlayerApiBase3.playerOrigin};c.getPlayerSuborigin=function(){return this.$MVideoPlayerApiBase3.playerSuborigin};c.getSubscriptions=function(){return this.$MVideoPlayerApiBase4};c.getVideoElement=function(){this.$MVideoPlayerApiBase3.videoElement||this.$MVideoPlayerApiBase35();return this.$MVideoPlayerApiBase3.videoElement};c.getVideoID=function(){return this.$MVideoPlayerApiBase3.videoID};c.getSavedOffline=function(){return s.isVideoDownloaded(this.$MVideoPlayerApiBase3.videoID)};c.getConnectivityType=function(){return v.getConnectivityType()};c.getLastPlayReason=function(){return this.getLastActionReason()};c.getVideoPlayReason=function(){return this.$MVideoPlayerApiBase2};c.getResourceUrl=function(){return t.shouldLogResourceUrl?this.$MVideoPlayerApiBase3.src:null};c.getIsAdsPreview=function(){return!!this.$MVideoPlayerApiBase3.isAdsPreview};c.getAdditionalLogData=function(a){var b;b=(b={},b[C.VIDEO_QUALITY]=this.getVideoQuality(),b[C.PLAYER_VERSION]=this.getPlayerVersion(),b[C.VIDEO_INIT_SEQ_ID]=this.getVideoData().videoInitSeqID,b[C.EXTERNAL_LOG_ID]=this.$MVideoPlayerApiBase3[C.EXTERNAL_LOG_ID],b[C.EXTERNAL_LOG_TYPE]=this.$MVideoPlayerApiBase3[C.EXTERNAL_LOG_TYPE],b);this.$MVideoPlayerApiBase3.iframeEmbedReferrer&&(b[C.IFRAME_EMBED_REFERRER]=this.$MVideoPlayerApiBase3.iframeEmbedReferrer);var c=this.$MVideoPlayerApiBase2;c&&a!==B.DISPLAYED&&(b[C.VIDEO_PLAY_REASON]=c);F.Events.includes(a)&&w.shouldLog(this.$MVideoPlayerApiBase3)&&(this.$MVideoPlayerApiBase62(),b[C.CURRENT_VIEWABILITY_PERCENTAGE]=this.$MVideoPlayerApiBase15);return b};c.getPlayerVersion=function(){return E.HTML5};c.getEmbeddedVideoControlsConfig=function(){return null};c.getEmbeddedVideoControls=function(){return this.$MVideoPlayerApiBase19};c.setupControls=function(){var a=this,b=this.getEmbeddedVideoControlsConfig();return!b?g.resolve():new g(function(c){var d={toggleQuality:a.toggleVideoQuality,getCurrentVideoQuality:a.getVideoQuality};a.$MVideoPlayerApiBase4.addSubscriptions(i.loadModules(["MEmbeddedVideoControls"],function(e){a.$MVideoPlayerApiBase19=new e(a,a.getVideoElement(),a.getMVideoElement(),d,b),c()},"MVideoPlayerApiBase"))})};c.$MVideoPlayerApiBase53=function(){if(this.$MVideoPlayerApiBase25)return;this.$MVideoPlayerApiBase25=M(this.$MVideoPlayerApiBase66,U)};c.$MVideoPlayerApiBase58=function(){G(this.$MVideoPlayerApiBase25),this.$MVideoPlayerApiBase25=null};c.heartbeatEnabled=function(){return!1};c.isInitialized=function(){return this.$MVideoPlayerApiBase27};return b}(J(o));e.exports={MVideoPlayerApiBase:a}}),null);
__d("VideoPlayerShakaPerformanceTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var b=a.prototype;b.log=function(){h.log("vpsp_proxy:VideoPlayerShakaPerformanceLoggerConfig",this.$1,g.BASIC)};b.logVital=function(){h.log("vpsp_proxy:VideoPlayerShakaPerformanceLoggerConfig",this.$1,g.VITAL)};b.logImmediately=function(){h.log("vpsp_proxy:VideoPlayerShakaPerformanceLoggerConfig",this.$1,{signal:!0})};b.clear=function(){this.$1={};return this};b.getData=function(){return babelHelpers["extends"]({},this.$1)};b.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};b.setAccessToken=function(a){this.$1.access_token=a;return this};b.setAdditionalBufferedRanges=function(a){this.$1.additional_buffered_ranges=a;return this};b.setAppendedBufferMs=function(a){this.$1.appended_buffer_ms=a;return this};b.setBandwidthEstimate=function(a){this.$1.bandwidth_estimate=a;return this};b.setClientTimeBegin=function(a){this.$1.client_time_begin=a;return this};b.setClientTimeEnd=function(a){this.$1.client_time_end=a;return this};b.setCode=function(a){this.$1.code=a;return this};b.setConcluder=function(a){this.$1.concluder=a;return this};b.setConnectionQualityLevel=function(a){this.$1.connection_quality_level=a;return this};b.setDevicePixelRatio=function(a){this.$1.device_pixel_ratio=a;return this};b.setDroppedFrames=function(a){this.$1.dropped_frames=a;return this};b.setDynamicBitrate=function(a){this.$1.dynamic_bitrate=a;return this};b.setEnded=function(a){this.$1.ended=a;return this};b.setError=function(a){this.$1.error=a;return this};b.setEvent=function(a){this.$1.event=a;return this};b.setExpectedLength=function(a){this.$1.expected_length=a;return this};b.setInitiator=function(a){this.$1.initiator=a;return this};b.setIsLive=function(a){this.$1.is_live=a;return this};b.setIsMuted=function(a){this.$1.is_muted=a;return this};b.setIsPageVisible=function(a){this.$1.is_page_visible=a;return this};b.setIsServableViaFbms=function(a){this.$1.is_servable_via_fbms=a;return this};b.setIsTemplatedManifest=function(a){this.$1.is_templated_manifest=a;return this};b.setLastBufferedEnd=function(a){this.$1.last_buffered_end=a;return this};b.setLastBufferedStart=function(a){this.$1.last_buffered_start=a;return this};b.setLastBufferingEventEndTime=function(a){this.$1.last_buffering_event_end_time=a;return this};b.setLastPlayingEventTime=function(a){this.$1.last_playing_event_time=a;return this};b.setLength=function(a){this.$1.length=a;return this};b.setLiveheadDelta=function(a){this.$1.livehead_delta=a;return this};b.setLogicalCpuCount=function(a){this.$1.logical_cpu_count=a;return this};b.setLowestQualityRepresentationID=function(a){this.$1.lowest_quality_representation_id=a;return this};b.setManifestType=function(a){this.$1.manifest_type=a;return this};b.setParentID=function(a){this.$1.parent_id=a;return this};b.setPlayerOriginCallerSpecified=function(a){this.$1.player_origin_caller_specified=a;return this};b.setPlayerSuborigin=function(a){this.$1.player_suborigin=a;return this};b.setPlayerVersion=function(a){this.$1.player_version=a;return this};b.setPlayhead=function(a){this.$1.playhead=a;return this};b.setPreloadTime=function(a){this.$1.preload_time=a;return this};b.setPreviousRepresentationID=function(a){this.$1.previous_representation_id=a;return this};b.setPriorityFloat=function(a){this.$1.priority_float=a;return this};b.setPushed=function(a){this.$1.pushed=a;return this};b.setReason=function(a){this.$1.reason=a;return this};b.setRepresentationID=function(a){this.$1.representation_id=a;return this};b.setRescheduleCount=function(a){this.$1.reschedule_count=a;return this};b.setResource=function(a){this.$1.resource=a;return this};b.setResult=function(a){this.$1.result=a;return this};b.setScriptPath=function(a){this.$1.script_path=a;return this};b.setSegmentCount=function(a){this.$1.segment_count=a;return this};b.setSegmentEndTime=function(a){this.$1.segment_end_time=a;return this};b.setSegmentStartTime=function(a){this.$1.segment_start_time=a;return this};b.setSegmentTimeGap=function(a){this.$1.segment_time_gap=a;return this};b.setSequentialID=function(a){this.$1.sequential_id=a;return this};b.setSession=function(a){this.$1.session=a;return this};b.setState=function(a){this.$1.state=a;return this};b.setStreamSwitchReason=function(a){this.$1.stream_switch_reason=a;return this};b.setTime=function(a){this.$1.time=a;return this};b.setTimeBetweenBytesMax=function(a){this.$1.time_between_bytes_max=a;return this};b.setTimeSinceMainThreadAvailable=function(a){this.$1.time_since_main_thread_available=a;return this};b.setTimeToFirstByte=function(a){this.$1.time_to_first_byte=a;return this};b.setTimeToLastByte=function(a){this.$1.time_to_last_byte=a;return this};b.setTimeToRequestSent=function(a){this.$1.time_to_request_sent=a;return this};b.setTimeToRequestStart=function(a){this.$1.time_to_request_start=a;return this};b.setTotalFrames=function(a){this.$1.total_frames=a;return this};b.setType=function(a){this.$1.type=a;return this};b.setUpdatePeriod=function(a){this.$1.update_period=a;return this};b.setVC=function(a){this.$1.vc=a;return this};b.setVideoDuration=function(a){this.$1.video_duration=a;return this};b.setVideoID=function(a){this.$1.video_id=a;return this};b.setVideoPlaybackExperienceIssue=function(a){this.$1.video_playback_experience_issue=a;return this};b.setWasDelayed=function(a){this.$1.was_delayed=a;return this};b.setWeight=function(a){this.$1.weight=a;return this};return a}();b={access_token:!0,additional_buffered_ranges:!0,appended_buffer_ms:!0,bandwidth_estimate:!0,client_time_begin:!0,client_time_end:!0,code:!0,concluder:!0,connection_quality_level:!0,device_pixel_ratio:!0,dropped_frames:!0,dynamic_bitrate:!0,ended:!0,error:!0,event:!0,expected_length:!0,initiator:!0,is_live:!0,is_muted:!0,is_page_visible:!0,is_servable_via_fbms:!0,is_templated_manifest:!0,last_buffered_end:!0,last_buffered_start:!0,last_buffering_event_end_time:!0,last_playing_event_time:!0,length:!0,livehead_delta:!0,logical_cpu_count:!0,lowest_quality_representation_id:!0,manifest_type:!0,parent_id:!0,player_origin_caller_specified:!0,player_suborigin:!0,player_version:!0,playhead:!0,preload_time:!0,previous_representation_id:!0,priority_float:!0,pushed:!0,reason:!0,representation_id:!0,reschedule_count:!0,resource:!0,result:!0,script_path:!0,segment_count:!0,segment_end_time:!0,segment_start_time:!0,segment_time_gap:!0,sequential_id:!0,session:!0,state:!0,stream_switch_reason:!0,time:!0,time_between_bytes_max:!0,time_since_main_thread_available:!0,time_to_first_byte:!0,time_to_last_byte:!0,time_to_request_sent:!0,time_to_request_start:!0,total_frames:!0,type:!0,update_period:!0,vc:!0,video_duration:!0,video_id:!0,video_playback_experience_issue:!0,was_delayed:!0,weight:!0};e.exports=a}),null);
__d("MVideoPlayerOzEventOperationLogger",["VideoPlayerShakaPerformanceTypedLogger"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a){typeof a==="number"&&(a=Math.floor(a));return a}a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.setState=function(b){this.$MVideoPlayerOzEventOperationLogger1=b;return a.prototype.setState.call(this,b)};c.getState=function(){return this.$MVideoPlayerOzEventOperationLogger1};c.setSequentialID=function(b){this.$MVideoPlayerOzEventOperationLogger2=b;a.prototype.setSequentialID.call(this,b);return this};c.setParentLogger=function(a){this.setParentID(a.$MVideoPlayerOzEventOperationLogger2);return this};c.setSegmentEndTime=function(b){a.prototype.setSegmentEndTime.call(this,h(b));return this};c.setSegmentTimeGap=function(b){a.prototype.setSegmentTimeGap.call(this,h(b));return this};c.setSegmentStartTime=function(b){a.prototype.setSegmentStartTime.call(this,h(b));return this};return b}(g);e.exports=a}),null);
__d("oz-player/utils/OzError",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b.description)||this;c.$OzError1=b;c.name=b.type;return c}var c=b.prototype;c.getExtra=function(){return this.$OzError1.extra||{}};c.getType=function(){return this.$OzError1.type};c.getDescription=function(){return this.$OzError1.description};return b}(babelHelpers.wrapNativeSuper(Error));e.exports=a}),null);
__d("MVideoPlayerOzPerfLoggerProvider",["MVideoPlayerOzEventOperationLogger","ScriptPath","VideoPlayerShakaPerformanceLoggerConfig","oz-player/loggings/OzPerfLoggerProviderBase","oz-player/utils/OzError"],(function(a,b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);b.isEnabled=function(){return i.isSampled};function b(b){__p&&__p();var c;c=a.call(this)||this;c.$MVideoPlayerOzPerfLoggerProvider18=b;c.$MVideoPlayerOzPerfLoggerProvider2=b.videoID;c.$MVideoPlayerOzPerfLoggerProvider4=b.video;c.$MVideoPlayerOzPerfLoggerProvider1=b.uniqueID;c.$MVideoPlayerOzPerfLoggerProvider3=0;c.$MVideoPlayerOzPerfLoggerProvider9=b.isLive;c.$MVideoPlayerOzPerfLoggerProvider8=null;c.$MVideoPlayerOzPerfLoggerProvider10=b.accessToken;c.$MVideoPlayerOzPerfLoggerProvider11=b.playerOrigin;c.$MVideoPlayerOzPerfLoggerProvider12=b.playerSuborigin;c.$MVideoPlayerOzPerfLoggerProvider17=b.preloadTime;c.setRepresentationID(b.representationId);c.$MVideoPlayerOzPerfLoggerProvider19=b.getBandwidthEstimate;return c}var c=b.prototype;c.createLoggerProvider=function(){return new self(this.$MVideoPlayerOzPerfLoggerProvider18)};c.$MVideoPlayerOzPerfLoggerProvider20=function(a){__p&&__p();var b=this.$MVideoPlayerOzPerfLoggerProvider4.buffered;if(b.length>0){var c=b.length-1;a=a.setLastBufferedStart(Math.round(b.start(c)*1e3)).setLastBufferedEnd(Math.round(b.end(c)*1e3))}c=[];for(var d=0;d<b.length-1;d++){var e=Math.round(this.$MVideoPlayerOzPerfLoggerProvider4.buffered.start(d)*1e3),f=Math.round(this.$MVideoPlayerOzPerfLoggerProvider4.buffered.end(d)*1e3);c.push([e,f])}c&&c.length&&(a=a.setAdditionalBufferedRanges(JSON.stringify(c)));return a};c.setType=function(a){this.$MVideoPlayerOzPerfLoggerProvider16=a;return this};c.getLiveheadDelta=function(){return this.$MVideoPlayerOzPerfLoggerProvider8?Math.round((this.$MVideoPlayerOzPerfLoggerProvider8-this.$MVideoPlayerOzPerfLoggerProvider4.currentTime)*1e3):null};c.getVideoID=function(){return this.$MVideoPlayerOzPerfLoggerProvider2};c.getEventLogger=function(a){__p&&__p();var b=this,c=Date.now(),d=new g(),e=this.$MVideoPlayerOzPerfLoggerProvider4.currentTime,f=this.$MVideoPlayerOzPerfLoggerProvider4.duration;this.$MVideoPlayerOzPerfLoggerProvider20(d).setEvent(a).setVideoID(this.$MVideoPlayerOzPerfLoggerProvider2).setLogicalCpuCount(navigator&&navigator.hardwareConcurrency).setPlayerOriginCallerSpecified(this.$MVideoPlayerOzPerfLoggerProvider11).setScriptPath(h.getScriptPath()).setPlayerSuborigin(this.$MVideoPlayerOzPerfLoggerProvider12).setDynamicBitrate(this.$MVideoPlayerOzPerfLoggerProvider15).setRepresentationID(this.getRepresentationID()).setLowestQualityRepresentationID(this.$MVideoPlayerOzPerfLoggerProvider14).setPlayhead(Math.round(e*1e3)).setVideoDuration(Math.round(f*1e3)).setIsLive(this.$MVideoPlayerOzPerfLoggerProvider9).setSession(this.$MVideoPlayerOzPerfLoggerProvider1).setManifestType(this.$MVideoPlayerOzPerfLoggerProvider13).setSequentialID(this.$MVideoPlayerOzPerfLoggerProvider3++).setState(this.$MVideoPlayerOzPerfLoggerProvider5).setLastBufferingEventEndTime(this.$MVideoPlayerOzPerfLoggerProvider7).setLastPlayingEventTime(this.$MVideoPlayerOzPerfLoggerProvider6).setLiveheadDelta(this.getLiveheadDelta()).setPushed(0).setResult("success").setAccessToken(this.$MVideoPlayerOzPerfLoggerProvider10).setClientTimeBegin(c).setClientTimeEnd(c).setPreloadTime(this.$MVideoPlayerOzPerfLoggerProvider17).setBandwidthEstimate(Math.round(this.$MVideoPlayerOzPerfLoggerProvider19()));var i=this,j=d.setState;d.setState=function(a){a!==this.$MVideoPlayerOzPerfLoggerProvider5&&a==="playing"?i.$MVideoPlayerOzPerfLoggerProvider6=Date.now():a!=="playing"&&(i.$MVideoPlayerOzPerfLoggerProvider6=null);i.$MVideoPlayerOzPerfLoggerProvider5=a;return j.call(this,a)};d.updateState=function(a){return this.getState()==i.$MVideoPlayerOzPerfLoggerProvider5?this.setState(a):this};var l=d.setError;d.setError=function(a){typeof a==="object"?(a.type==="aborted"||a.type==="delay"?this.setResult("aborted"):a.type==="paused"?this.setResult("paused"):(this.setResult("failed"),l.call(this,a.type)),a instanceof k?this.setCode(a.getExtra().code):this.setCode(a.status),this.setError(a.name)):l.call(this,a);return this};var m=d.setManifestType;d.setManifestType=function(a){b.$MVideoPlayerOzPerfLoggerProvider13=a;return m.call(d,a)};return d};c.getOperationLogger=function(a){a=this.createOperationLogger(a);this.setOperationContext(a);return a};c.createOperationLogger=function(a){__p&&__p();var b=this,c=this.getEventLogger(a),d=c.log,e=this;c.log=function(){var b=this.getData().client_time_end||Date.now();this.setClientTimeEnd(b);a==="buffering"&&(e.$MVideoPlayerOzPerfLoggerProvider7=Date.now());return d.call(this)};c.start=function(){return c};c.setLiveheadPosition=function(a){b.$MVideoPlayerOzPerfLoggerProvider8=a;c.setLiveheadDelta(b.getLiveheadDelta());return c};var f=c.setDynamicBitrate;c.setDynamicBitrate=function(a){a=Number(a)||null;b.$MVideoPlayerOzPerfLoggerProvider15=a;return f.call(c,a)};var g=c.setLowestQualityRepresentationID;c.setLowestQualityRepresentationID=function(a){b.$MVideoPlayerOzPerfLoggerProvider14=a;return g.call(c,a)};return c};c.setDynamicBitrate=function(a){this.$MVideoPlayerOzPerfLoggerProvider15=a};return b}(j);e.exports=a}),null);
__d("MOzLiveVideoPlayerApi",["BanzaiODS","MVideoPlayerApiBase","MVideoPlayerOzPerfLoggerProvider","VideoPlayerVersions","guid","promiseDone","requireWeak"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m){__p&&__p();a=h.MVideoPlayerApiBase;var n=null;b=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;b.$MOzLiveVideoPlayerApi1=!1;b.$MOzLiveVideoPlayerApi2=!1;return b}var c=b.prototype;c.getAdditionalLogData=function(b){b=a.prototype.getAdditionalLogData.call(this,b);var c={},d=this.getVideoData().playbackIsLiveStreaming;d&&(c.playback_is_live_streaming=this.getVideoData().playbackIsLiveStreaming);return Object.assign({},b,c)};c.heartbeatEnabled=function(){return!0};c.postInit=function(){var a=this;m("MOzLivePlayer",function(b){var c=[],d=a.$MOzLiveVideoPlayerApi3();d&&c.push(d);b.createPlayer(a.getVideoElement(),a.getVideoData().src,{perfLoggerProviders:c,observedOperationLoggers:[a.getPreInitLoggerProvider()]}).getPromise().then(function(b){n=b,a.$MOzLiveVideoPlayerApi2=!0,a.$MOzLiveVideoPlayerApi1&&(a.getVideoElement().play(),a.$MOzLiveVideoPlayerApi1=!1)})["catch"](function(a){g.bumpEntityKey("MOzLivePlayer","createPlayer.error")});a.getVideoElement().controls=!1;l(a.setupControls())})};c.attemptVideoElementPlay=function(){this.$MOzLiveVideoPlayerApi2?a.prototype.attemptVideoElementPlay.call(this):this.$MOzLiveVideoPlayerApi1=!0};c.unload=function(){n&&n.destroy(),n=null,a.prototype.unload.call(this)};c.getEmbeddedVideoControlsConfig=function(){return{playbackControlHidden:!1,scrubberHidden:!0,playbackTimerHidden:!0,fullScreenControlHidden:!1}};c.getPlayerVersion=function(){return j.MTOUCH_SHAKA_LIVE};c.$MOzLiveVideoPlayerApi3=function(){return!i.isEnabled()?null:new i({videoID:this.getVideoID(),isLive:!0,video:this.getVideoElement(),uniqueID:k(),playerOrigin:this.getPlayerOrigin(),playerSuborigin:this.getPlayerSuborigin(),accessToken:null,representationId:null,preloadTime:null,getBandwidthEstimate:function(){return 0}})};return b}(a);e.exports=b}),null);
__d("oz-player/configs/DummyOzConfig",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){a===void 0&&(a={}),this.$1=a}var b=a.prototype;b.getBool=function(a,b){return typeof this.$1[a]===typeof b?this.$1[a]:b};b.getNumber=function(a,b){return typeof this.$1[a]===typeof b?this.$1[a]:b};b.getString=function(a,b){return typeof this.$1[a]===typeof b?this.$1[a]:b};return a}();e.exports=a}),null);
__d("oz-player/loggings/OzLoggingUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b,c){a=a.getOperationLogger(b).start();try{b=c(a);return b}catch(b){a.setError(b);throw b}finally{a.log()}}function b(a,b,c,d,e){__p&&__p();d===void 0&&(d=function(){});e===void 0&&(e=function(){});var f=b.getOperationLogger(c).start();d(f);return a.then(function(a){e(f);f.log();return a})["catch"](function(a){f.setError(a);e(f);f.log();throw a})}e.exports={executeOperationAndLog:a,monitorPromiseAndLogOperation:b}}),null);
__d("oz-player/loggings/OzMultiDestinationPerfLogger",["oz-player/loggings/OzOperationLoggerBase","oz-player/loggings/OzPerfLoggerProviderBase"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.$OzMultiDestinationPerfLoggerProvider1=b;return c}var c=b.prototype;c.createOperationLogger=function(a){var b=new i(a,this.$OzMultiDestinationPerfLoggerProvider1.map(function(b){return b.getOperationLogger(a)}));return b};c.createLoggerProvider=function(){return new b(this.$OzMultiDestinationPerfLoggerProvider1)};return b}(h);var i=function(b){__p&&__p();babelHelpers.inheritsLoose(a,b);function a(a,c){a=b.call(this,a)||this;a.$OzMultiDestinationOperationLogger1=c;return a}var c=a.prototype;c.start=function(){b.prototype.start.call(this);this.$OzMultiDestinationOperationLogger1.forEach(function(a){return a.start()});return this};c.setResult=function(a){b.prototype.setResult.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setResult(a)});return this};c.setError=function(a){b.prototype.setError.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setError(a)});return this};c.setType=function(a){b.prototype.setType.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setType(a)});return this};c.setClientTimeEnd=function(a){b.prototype.setClientTimeEnd.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setClientTimeEnd(a)});return this};c.setClientTimeBegin=function(a){b.prototype.setClientTimeBegin.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setClientTimeBegin(a)});return this};c.setSegmentCount=function(a){b.prototype.setSegmentCount.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setSegmentCount(a)});return this};c.setTimeToFirstByte=function(a){b.prototype.setTimeToFirstByte.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setTimeToFirstByte(a)});return this};c.setTimeToLastByte=function(a){b.prototype.setTimeToLastByte.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setTimeToLastByte(a)});return this};c.setTimeToRequestStart=function(a){b.prototype.setTimeToRequestStart.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setTimeToRequestStart(a)});return this};c.setTimeToRequestSent=function(a){b.prototype.setTimeToRequestSent.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setTimeToRequestSent(a)});return this};c.setReason=function(a){b.prototype.setReason.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setReason(a)});return this};c.setResource=function(a){b.prototype.setResource.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setResource(a)});return this};c.setSegmentStartTime=function(a){b.prototype.setSegmentStartTime.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setSegmentStartTime(a)});return this};c.setSegmentEndTime=function(a){b.prototype.setSegmentEndTime.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setSegmentEndTime(a)});return this};c.setAppendedBufferMs=function(a){b.prototype.setAppendedBufferMs.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setAppendedBufferMs(a)});return this};c.setLength=function(a){b.prototype.setLength.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setLength(a)});return this};c.setLiveheadPosition=function(a){b.prototype.setLiveheadPosition.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setLiveheadPosition(a)});return this};c.setManifestType=function(a){b.prototype.setManifestType.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setManifestType(a)});return this};c.setPriorityFloat=function(a){b.prototype.setPriorityFloat.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setPriorityFloat(a)});return this};c.setInitiator=function(a){b.prototype.setInitiator.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setInitiator(a)});return this};c.setPreloadTime=function(a){b.prototype.setPreloadTime.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setPreloadTime(a)});return this};c.setConcluder=function(a){b.prototype.setConcluder.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setConcluder(a)});return this};c.setPreviousRepresentationID=function(a){b.prototype.setPreviousRepresentationID.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setPreviousRepresentationID(a)});return this};c.setRepresentationID=function(a){b.prototype.setRepresentationID.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setRepresentationID(a)});return this};c.setState=function(a){b.prototype.setState.call(this,a);this.$OzMultiDestinationOperationLogger1.forEach(function(b){return b.setState(a)});return this};c.log=function(){b.prototype.log.call(this),this.$OzMultiDestinationOperationLogger1.forEach(function(a){return a.log()})};return a}(g);e.exports={OzMultiDestinationPerfLoggerProvider:a}}),null);
__d("oz-player/media_source/OzMediaErrorProvider",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){this.$1=a}var b=a.prototype;b.getMediaErrorName=function(){var a=this.$1.error;return a&&a.message?this.$2(a.message):null};b.getErrorCode=function(){var a=this.$1.error;return a&&a.code?a.code:null};b.$2=function(a){a=a.split(":")[0];return a||""};return a}();e.exports=a}),null);
__d("oz-player/shims/OzDeferred",["Deferred"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Deferred")}),null);
__d("oz-player/shims/OzEventListener",["EventListener"],(function(a,b,c,d,e,f){"use strict";e.exports=b("EventListener")}),null);
__d("oz-player/shims/OzMaybeNativePromise",["Promise","MOzExperiments","MaybeNativePromise"],(function(a,b,c,d,e,f,g,h){"use strict";g.resolve(),e.exports=h.use_native_promise?b("MaybeNativePromise"):g}),null);
__d("oz-player/shims/OzSubscriptionsHandler",["SubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";e.exports=b("SubscriptionsHandler")}),null);
__d("oz-player/states/OzObservedSourceBufferState",["oz-player/shims/OzEventListener","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){__p&&__p();var b=this;this.$2=new h();this.$3=[];this.$4=function(){var a=[];for(var c=0;c<b.$1.buffered.length;c++)a.push({startTime:b.$1.buffered.start(c),endTime:b.$1.buffered.end(c)});b.$3=a};this.$1=a;this.$2.addSubscriptions(g.listen(this.$1,"updateend",this.$4),g.listen(this.$1,"error",this.$4))}var b=a.prototype;b.getBufferedRanges=function(){return this.$3};b.addEventListener=function(a,b){return g.listen(this.$1,"updateend",b)};b.destroy=function(){this.$2.release(),this.$2.engage()};return a}();e.exports=a}),null);
__d("oz-player/utils/OzSourceBufferUtil",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=0;for(var c=0;c<a.buffered.length;c++)b+=a.buffered.end(c)-a.buffered.start(c);return b}e.exports={getTotalBufferedTime:a}}),null);
__d("oz-player/utils/ozConcatArrayBuffer",[],(function(a,b,c,d,e,f){"use strict";a=function(a,b){var c=new Uint8Array(a.byteLength+b.byteLength);c.set(new Uint8Array(a),0);c.set(new Uint8Array(b),a.byteLength);return c.buffer};e.exports=a}),null);
__d("oz-player/media_source/SourceBufferManager",["oz-player/utils/OzSourceBufferUtil","oz-player/loggings/OzLoggingUtils","oz-player/shims/OzDeferred","oz-player/shims/OzEventListener","oz-player/utils/OzError","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzSubscriptionsHandler","oz-player/states/OzObservedSourceBufferState","oz-player/utils/ozConcatArrayBuffer"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){"use strict";__p&&__p();var p=g.getTotalBufferedTime,q=h.monitorPromiseAndLogOperation;a=function(){__p&&__p();function a(a,b,c){__p&&__p();var d=this;this.$2=null;this.$3=new m();this.$5=!1;this.$6=[];this.$10=function(){d.$2&&d.$2.resolve(),d.$2=null};this.$11=function(){var a=d.$2;a&&setTimeout(function(){var b=d.$8.getErrorCode(),c=d.$8.getMediaErrorName(),e={};b!==null&&b!==void 0&&(e.code=b.toString());b=new k({type:"OZ_SOURCE_BUFFER",description:c!==null&&c!==void 0?c:"Unknown SourceBuffer Append Error",extra:e});a.reject(b);d.$2=null},0)};this.$1=a;this.$9=b;this.$3.addSubscriptions(j.listen(this.$1,"updateend",this.$10),j.listen(this.$1,"error",this.$11));this.$7=new n(this.$1);this.$8=c}var b=a.prototype;b.queueData=function(a,b,c){b===void 0&&(b=null);c===void 0&&(c=0);var d=new i(l);this.$6.push({data:a,deferred:d,loggerProvider:b,appendTarget:c});a=d.getPromise();this.$5||this.$12();return a};b.cancelOperationAndCleanQueue=function(){__p&&__p();var a=this.$13();this.$6.forEach(function(b){b=b.deferred;b.reject(a)});this.$6=[];this.$1.abort();var b=l.resolve(),c=this.$2;c&&(c.reject(a),b=c.getPromise()["catch"](function(){}));this.$4&&(this.$4.reject(a),this.$4=null);return b};b.getSourceBufferState=function(){return this.$7};b.clearRange=function(a,b){this.$1.remove(a,b)};b.$14=function(a){var b=this.$2=new i(l);b=b.getPromise();a&&q(b,a,"wait_for_source_buffer");return b};b.$15=function(a,b){__p&&__p();var c=this;if(this.$2!==null)return l.reject(this.$16("cannot have concurrent appends"));var d=function d(){__p&&__p();if(c.$9.getBool("sbm_recursively_waits_for_update_end",!1)&&c.$1.updating)return c.$14(b).then(d)["catch"](function(a){if(c.$9.getBool("enable_appends_on_wait_update_end_failure",!1))return d();throw a});var e=c.$2=new i(l);try{c.$1.appendBuffer(a)}catch(a){var f=c.$8.getErrorCode();f=new k({type:"OZ_SOURCE_BUFFER",description:a.message,extra:{originalError:a,code:f!==null&&f!==void 0?f.toString():"0"}});c.$2=null;e.reject(f)}f=e.getPromise();b&&q(f,b,"append",function(b){b.setLength(a.byteLength)});var g=c.$9.getBool("log_appended_secs",!1)?p(c.$1):0;return f.then(function(){return c.$9.getBool("log_appended_secs",!1)?p(c.$1)-g:0})};if(!this.$9.getBool("sbm_waits_for_update_end",!1))return d();return!this.$9.getBool("sbm_recursively_waits_for_update_end",!1)&&this.$1.updating?this.$14(b).then(d)["catch"](function(a){if(c.$9.getBool("enable_appends_on_wait_update_end_failure",!1))return d();throw a}):d()};b.$12=function(){__p&&__p();var a=this;if(this.$5)return l.reject(this.$16("Another unit of queued data is being appended."));var b=this.$6.shift();if(!b){this.$5=!1;return l.resolve()}var c=b.data,d=b.deferred,e=b.loggerProvider;b=b.appendTarget;this.$5=!0;b=c instanceof ReadableStream?this.$17(c,e,b):this.$15(c,e);return b["catch"](function(a){d.reject(a);return 0}).then(function(b){d.resolve(b),a.$5=!1,a.$12()})};b.$17=function(a,b,c){__p&&__p();var d=this,e=new ArrayBuffer(0),f=a.getReader();a=function a(){__p&&__p();var g=new i(l);d.$4=g;f.read().then(function(a){g.resolve(a),d.$4=null})["catch"](function(a){g.reject(a),d.$4=null});return g.getPromise().then(function(f){__p&&__p();var g=f.done;f=f.value;if(g)return e.byteLength>0?d.$15(e,b):l.resolve(0);g=f;c>0&&(f instanceof Uint8Array&&(f=f.buffer),e=o(e,f),g=e);if(g&&g.byteLength>=c){e=new ArrayBuffer(0);return d.$15(g,b).then(function(b){return a().then(function(a){return a+b})})}return a()})};return a()};b.$16=function(a){a=new Error(a);a.name="invariant_violation";return a};b.$13=function(){var a=new Error("operation is cancelled");a.name="cancelled";return a};b.destroy=function(){this.$2&&this.$2.reject(this.$13()),this.$2=null,this.$3.release(),this.$3=new m(),this.$7.destroy()};b.getDebug=function(){return{SourceBuffer:this.$1}};return a}();e.exports=a}),null);
__d("oz-player/media_source/MediaSourceManager",["oz-player/loggings/OzLoggingUtils","oz-player/loggings/OzMultiDestinationPerfLogger","oz-player/shims/OzDeferred","oz-player/shims/OzEventListener","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzSubscriptionsHandler","oz-player/media_source/OzMediaErrorProvider","oz-player/media_source/SourceBufferManager"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){"use strict";__p&&__p();var o=g.monitorPromiseAndLogOperation,p=h.OzMultiDestinationPerfLoggerProvider;a=function(){__p&&__p();function a(a,b,c){__p&&__p();var d=this;c===void 0&&(c=new p([]));this.$2=null;this.$4=new l();this.$6=[];this.$7=[];this.$9=!1;this.$12=function(){d.$13()||(d.$9=!1);if(!d.$14())return;var a=d.$7.shift();a&&(a(d.$3),d.$9=!0)};this.$5=c;this.$10=b;this.$1=a;this.$3=new MediaSource();this.$1.src=window.URL.createObjectURL(this.$3);this.$8=new m(this.$1);o(this.$11(),this.$5,"media_source_open")}var b=a.prototype;b.$11=function(){var a=this;if(this.$3.readyState==="open")return k.resolve();var b=new i(k);this.$4.addSubscriptions(j.listen(this.$3,"sourceopen",function(){b.resolve(),a.$12()}));return b.getPromise()};b.createSourceBufferManager=function(a,b){var c=this;b===void 0&&(b=!1);return this.$11().then(function(){var d=c.$3.addSourceBuffer(a);b&&!isNaN(c.$3.duration)&&(d.appendWindowEnd=c.$3.duration);c.$6.push(d);c.$4.addSubscriptions(j.listen(d,"updateend",c.$12));return new n(d,c.$10,c.$8)})};b.getMediaSource=function(){return this.$3};b.notifyEndOfStream=function(){var a=this;this.$7.push(function(b){a.$5.getOperationLogger("end_of_stream").log(),b.endOfStream()});this.$12()};b.updateDuration=function(a){this.$7.push(function(b){b.duration=a}),this.$12()};b.detach=function(){this.$1.removeAttribute("src");for(var a=0;a<this.$3.sourceBuffers.length;a++){var b=this.$3.sourceBuffers[a];this.$3.removeSourceBuffer(b)}this.$4.release();this.$4.engage();this.$7=[];this.$9=!1};b.$14=function(){return!this.$13()&&this.$3.readyState==="open"&&!this.$9};b.$13=function(){return this.$6.some(function(a){return a.updating})};return a}();e.exports=a}),null);
__d("oz-player/shims/ozvariant",["invariant"],(function(a,b,c,d,e,f){e.exports=b("invariant")}),null);
__d("oz-player/utils/OzErrorEmitter",["oz-player/shims/OzEventEmitter","oz-player/shims/ozvariant"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b){__p&&__p();var c;b===void 0&&(b=!1);c=a.call(this)||this;c.$OzErrorEmitter1=!1;c.$OzErrorEmitter2=!1;c.$OzErrorEmitter3=[];c.emitError=function(a){!c.$OzErrorEmitter1?c.$OzErrorEmitter2?c.$OzErrorEmitter3.push(a):c.$OzErrorEmitter1||h(0,14038):c.emit("error",a)};c.$OzErrorEmitter2=b;return c}var c=b.prototype;c.onError=function(a){this.$OzErrorEmitter1=!0;a=this.addListener("error",a);this.$OzErrorEmitter2&&this.$OzErrorEmitter3.length>0&&this.$OzErrorEmitter3.forEach(this.emitError);return a};return b}(g);e.exports=a}),null);
__d("oz-player/utils/convertRequestPromiseToReadableStream",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){var b=new ReadableStream({start:function(b){a.then(function(a){a=new Uint8Array(a.response);b.enqueue(a);b.close()})["catch"](function(a){b.error(a)})}});return b}e.exports=a}),null);
__d("oz-player/media_source/OzQuickStarter",["oz-player/loggings/OzLoggingUtils","oz-player/loggings/OzPreInitLogger","oz-player/shims/ozvariant","oz-player/utils/convertRequestPromiseToReadableStream","oz-player/utils/OzError","oz-player/utils/OzErrorEmitter","oz-player/media_source/MediaSourceManager"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m){"use strict";__p&&__p();var n=g.monitorPromiseAndLogOperation,o=h.OzPreInitLoggerProvider;a=function(){__p&&__p();function a(a,b,c){__p&&__p();var d=this;c===void 0&&(c=[]);this.$4=new Map();this.$5=[];this.$7=new Map();this.$8=new l(!0);this.$11=function(a){a instanceof k||(a=new k({type:"OZ_QUICKSTARTER",description:a.message,extra:{originalError:a}})),d.$8.emitError(a)};this.$2=a;this.$6=new o();this.$6.setInitiator("quick_starter");this.$5.push(this.$6);this.$1=new m(this.$2,b,this.$6);this.$3=new Map();c.forEach(function(a){return d.addPrefetchTrack(a)})}var b=a.prototype;b.addPrefetchTrack=function(a){__p&&__p();var b=this,c=a.mimeCodec,d=this.$9(c);if(!d)return;var e=this.$9(c),f=this.$10(this.$6).setType(e),g=this.$10(this.$6).setType(e+";init");this.$4.set(d,a.segmentPromise?1:0);e=this.$1.createSourceBufferManager(c).then(function(c){__p&&__p();var d=j(a.initializationPromise);n(a.initializationPromise,g,"fetch_stream");c.queueData(d,g)["catch"](b.$11);d=a.segmentPromise;if(d){var e=j(d);n(d,f,"fetch_stream");c.queueData(e,f)["catch"](b.$11)}return c});this.$3.set(d,e);a.representationID&&this.$7.set(d,a.representationID)};b.onError=function(a){return this.$8.onError(a)};b.getSourceBufferManagerPromise=function(a){a=this.$9(a);return this.$3.get(a)};b.getPrependedSegmentsCount=function(a){var b=this.$9(a);if(!b)return 0;b=this.$4.get(b)||0;return this.getSourceBufferManagerPromise(a)?b:0};b.getRepresentationId=function(a){a=this.$9(a);return!a?null:this.$7.get(a)||null};b.getVideoNode=function(){return this.$2};b.getMediaSourceManager=function(){return this.$1};b.getObservedOperationLoggers=function(){return this.$5};b.$10=function(a){a=a.cloneContext();a instanceof o||i(0,5677);this.$5.push(a);return a};b.$9=function(a){return(a.split("/")[0]||"").trim()};return a}();e.exports=a}),null);
__d("MMediaFactory",["MOzExperiments","MVideoUtils","oz-player/configs/DummyOzConfig","oz-player/media_source/OzQuickStarter","setImmediate"],(function(a,b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l=[];function m(){return window.MediaSource&&window.fetch&&window.ReadableStream}function n(){var a=h.createVideoNode(),b;m()&&g.use_quick_starter&&(b=new j(a,new i(),[]));return{node:a,quickStarter:b}}var o;function a(){g.precreate_cache_size>0&&!o&&(o=k(p));if(l.length>0)return l.shift();else return n()}function p(){o=null;var a=l.length;if(g.precreate_cache_size&&a>=g.precreate_cache_size)return;a=g.precreate_cache_size-a;for(var b=0;b<a;b++)l.push(n())}e.exports={get:a,populate:p}}),null);
__d("MOzDashPrefetchCache",["MVideoDashPrefetchCache"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(){function a(){}var b=a.prototype;b.hasCacheValue=function(a){return g.hasCacheValue(a)};b.getCacheValue=function(a){return g.getCacheValue(a)};b.getCachedRepresentations=function(a){return null};return a}();e.exports=a}),null);
__d("OzExperimentsConfig",[],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this.$1=a||{}}var b=a.prototype;b.getBool=function(a,b){return typeof this.$1[a]==="boolean"?this.$1[a]:b};b.getNumber=function(a,b){return typeof this.$1[a]==="number"?this.$1[a]:b};b.getString=function(a,b){return typeof this.$1[a]==="string"?this.$1[a]:b};return a}();e.exports=a}),null);
__d("OzMinimumSmallestDimensionRestriction",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){this.$1=a}var b=a.prototype;b.applyRestriction=function(a,b){var c=this;if(a.length===0)return[];b=a.filter(function(a){var b=a.getWidth();a=a.getHeight();b=b<a?b:a;return b>=c.$1});return b.length>0?b:[a[a.length-1]]};return a}();e.exports=a}),null);
__d("ReadableStream",[],(function(a,b,c,d,e,f){e.exports=self.ReadableStream}),null);
__d("createErrorStream",["ReadableStream"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return new g({pull:function(b){b.error(a)}})}e.exports=a}),null);
__d("WritableStream",[],(function(a,b,c,d,e,f){e.exports=self.WritableStream}),null);
__d("oz-player/networks/OzTransformStream",["ReadableStream","WritableStream","oz-player/utils/OzError","oz-player/shims/OzEventEmitter"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b){__p&&__p();var c;c=a.call(this)||this;c.$OzTransformStream3=function(a){return a};b=b||{};b=b.errorTransform;(b===void 0||b===null)&&(b=c.$OzTransformStream3);var d=b||c.$OzTransformStream3;c.writable=new h({start:function(a){c.$OzTransformStream2=a},write:function(a){c.emit("writableWrite",a);try{c.onDataWritten(a)}catch(a){c.$OzTransformStream1.error(new i({type:"OZ_STREAM",description:"Error from write handler: "+c.constructor.name,extra:{originalError:a}}))}c.$OzTransformStream1.enqueue(a)},close:function(){c.emit("writableClose");try{c.onClose()}catch(a){c.$OzTransformStream1.error(new i({type:"OZ_STREAM",description:"Error from close handler: "+c.constructor.name,extra:{originalError:a}}))}c.$OzTransformStream1.close()},abort:function(a){a=d(a);c.$OzTransformStream1.error(a)}});c.readable=new g({start:function(a){c.$OzTransformStream1=a},cancel:function(a){c.emit("readableCancel",a),c.$OzTransformStream2.error(a)}});return c}var c=b.prototype;c.onDataWritten=function(a){};c.onClose=function(){};return b}(j);e.exports=a}),null);
__d("oz-player/networks/createNetworkError",["oz-player/utils/OzError"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b,c,d,e){return new g({type:"OZ_NETWORK",description:e,extra:{originalError:a,code:b.toString(),headers:c,url:d}})};e.exports=a}),null);
__d("oz-player/utils/OzResourceTimingUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){if(!performance.getEntriesByName)return null;a=performance.getEntriesByName(a,"resource");return a.reduce(function(a,b){if(a==null)return b;return typeof b.responseEnd==="number"&&typeof b.responseStart==="number"&&typeof b.startTime==="number"&&typeof a.responseEnd==="number"&&typeof a.responseStart==="number"&&typeof a.requestStart==="number"&&typeof a.startTime==="number"?b.responseEnd<a.responseEnd?a:b:null},null)};e.exports={getLatestResourceTimingEntry:a}}),null);
__d("OzNetworkRequestStreamHandler",["createErrorStream","invariant","oz-player/networks/createNetworkError","oz-player/networks/OzTransformStream","oz-player/utils/OzResourceTimingUtils"],(function(a,b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l=k.getLatestResourceTimingEntry;a=function(){__p&&__p();function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.onResponse=function(a){__p&&__p();var b=this;return function(c){__p&&__p();var d=c.body,e=c.headers,f=c.status;c=c.ok;e&&e.has("x-fb-video-replica")&&(c=!1,f=417);if(!c)return g(i(new Error("HTTP status not OK"),f,e,a,"HTTP error."));d.getReader||h(0,3287);c=d.tee();f=new j();f.addListener("writableClose",function(){var c={},d=l(a);d&&(c.lat=Math.round(d.responseStart-d.requestStart).toString());b.$2&&e&&b.$2(e,c)});c[1].pipeThrough(f);if(!b.$1.getBool("throw_network_error_during_stream",!1))return c[0];d=new j({errorTransform:function(b){return b instanceof TypeError?i(b,0,null,a,"Network failure."):b}});return c[0].pipeThrough(d)}};b.onError=function(a){return function(b){if(b instanceof TypeError)return g(i(b,0,null,a,"Network failure."));throw b}};return a}();e.exports=a}),null);
__d("oz-player/loggings/OzDevConsolePerfLogger",["oz-player/loggings/OzOperationLoggerBase","oz-player/loggings/OzPerfLoggerProviderBase"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function i(){var a;for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];(a=console).debug.apply(a,["[oz]"].concat(c))}function j(){var a;for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];(a=console).error.apply(a,["[oz]"].concat(c))}function k(a,b){return Math.floor(a).toString().padStart(b,"0")}function l(a,b){b===void 0&&(b=null);var c=function(a){return k(a.getHours(),2)+":"+k(a.getMinutes(),2)+":"+k(a.getSeconds(),2)+" "+k(a.getMilliseconds(),3)},d=b?b-a:0;return"["+c(a)+(b?" - "+c(b):"")+" ("+d+" ms)]"}function m(a){return a==="failed"?j:i}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.createOperationLogger=function(a){return new n(a)};c.createLoggerProvider=function(){return new b()};return b}(h);var n=function(b){__p&&__p();babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var c=a.prototype;c.log=function(){b.prototype.log.call(this);var a=this.getClientTimeBegin()||0,c=this.getClientTimeEnd();c=c?new Date(c):null;var d=this.getResult()||"success",e=this.getType(),f=this.getInitiator(),g=this.getResource();m(d)("["+d+"]",this.getOperationName()+": "+l(new Date(a),c),e?""+e:"",f||"",g||"")};return a}(g);e.exports={OzDevConsolePerfLoggerProvider:a,OzDevConsoleOperationLogger:n}}),null);
__d("oz-player/loggings/OzOperationLoggerObserver",["oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1=new g()}var b=a.prototype;b.observe=function(a,b){var c;a=a.map(function(a){var c=a.setOperationLoggedListener(function(a){b.getOperationLogger(a.getOperationName()).setClientTimeBegin(a.getClientTimeBegin()||0).setClientTimeEnd(a.getClientTimeEnd()||0).setLength(a.getLength()).setResult(a.getResult()||"success").setInitiator(a.getInitiator()).setType(a.getType()).log()});a.activate();return c});(c=this.$1).addSubscriptions.apply(c,a)};b.destroy=function(){this.$1.release()};return a}();e.exports=a}),null);
__d("oz-player/manifests/OzRepresentation",["oz-player/shims/ozvariant","oz-player/utils/OzError"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,b,c,d,e,f,g,h){this.$4=[],this.$1=a,this.$7=b,this.$2=c,this.$3=d,this.$5=e,this.$6=f,this.$8=g,this.$9=h}var b=a.prototype;b.getID=function(){return this.$7};b.getBandwidth=function(){return this.$6};b.getMimeCodecs=function(){return this.$2};b.getInitSegment=function(){return this.$3};b.getCustomFieldFirstSegment=function(){return this.$8};b.getCustomField=function(a){if(this.$9==null||!this.$9[a])throw new h({type:"OZ_REPRESENTATION_PARSER",description:"Custom field "+a+" is not specified by caller"});a=this.$9[a];try{return a(this.$1)}catch(a){return null}};b.updateWith=function(b){b instanceof a||g(0,229),this.$5.updateWith(b.$5)};b.getSegmentByTime=function(a){return this.$5.getSegmentByTime(a)};b.getSegment=function(a){return this.$5.getSegment(a)};b.getSegmentAfter=function(a){return this.$5.getSegmentAfter(a)};b.isEndingSegment=function(a){return this.$5.isEndingSegment(a)};b.addUpdateListener=function(a){return this.$5.addUpdateListener(a)};b.getTimeRanges=function(){return this.$5.getTimeRanges()};b.blockTimeRange=function(a){this.$5.blockTimeRange(a)};return a}();e.exports=a}),null);
__d("oz-player/manifests/OzVideoRepresentation",["oz-player/manifests/OzRepresentation"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b,c,d,e,f,g,h,i,j,k){c=a.call(this,b,c,d,e,f,g,h,i)||this;c.$OzVideoRepresentation5=null;c.$OzVideoRepresentation1=j;c.$OzVideoRepresentation2=k;c.$OzVideoRepresentation4=i;c.$OzVideoRepresentation3=b;return c}var c=b.prototype;c.getWidth=function(){return this.$OzVideoRepresentation1};c.getHeight=function(){return this.$OzVideoRepresentation2};c.getQualityLabel=function(){if(this.$OzVideoRepresentation5!==null&&this.$OzVideoRepresentation5!==void 0)return this.$OzVideoRepresentation5;var a=this.$OzVideoRepresentation4?this.$OzVideoRepresentation4.qualityLabel:null;a&&(this.$OzVideoRepresentation5=a(this.$OzVideoRepresentation3));(this.$OzVideoRepresentation5==null||this.$OzVideoRepresentation5=="")&&(this.$OzVideoRepresentation5=this.getHeight().toString()+"p");return this.$OzVideoRepresentation5||""};return b}(g);e.exports=a}),null);
__d("oz-player/media_source/OzMediaSeekableRangeManager",["oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,b){__p&&__p();var c=this;this.$5=function(){var a=c.$2;if(!a)return;a=a.getTimeRanges();if(!a.length)return;a=a[a.length-1];var b=c.$1.getMediaSource();c.$4.getBool("update_media_source_duration",!1)&&(b.duration===Infinity||b.duration<a.endTime||isNaN(b.duration))&&c.$1.updateDuration(a.endTime)};this.$1=a;this.$3=new g();this.$4=b;this.$5()}var b=a.prototype;b.setTimeRangeProvider=function(a){this.$3.release();this.$3.engage();this.$3.addSubscriptions(a.addUpdateListener(this.$5));this.$2=a;if(this.$4.getBool("update_duration_if_mpd_synchronously_has_timeline_info",!1)&&a.getTimeRanges().length){a=a.getTimeRanges()[a.getTimeRanges().length-1].endTime;this.$1.updateDuration(a)}};b.listenToMediaStreamInitAppended=function(a){var b=this;return a.addListener("initAppended",function(){if(b.$4.getBool("update_duration_when_init_appended",!1)){var a=b.$1.getMediaSource();(a.duration===Infinity||isNaN(a.duration))&&b.$5()}})};b.destroy=function(){this.$3.release()};return a}();e.exports=a}),null);
__d("oz-player/shims/OzURI",["URI"],(function(a,b,c,d,e,f){"use strict";e.exports=b("URI")}),null);
__d("oz-player/mocks/MockRequestParamCreator",["oz-player/shims/OzURI"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(){function a(){}var b=a.prototype;b.createRequestParam=function(a,b){a=new g(a);var c=b.startByte,d=b.endByte;c===0&&(d===null||d===void 0)||(a=a.addQueryData({bytestart:b.startByte}),d!==null&&d!==void 0&&(a=a.addQueryData({byteend:d})));return{uri:a,http:{credentials:"same-origin"}}};return a}();e.exports=a}),null);
__d("oz-player/configs/OzGlobalConfig",[],(function(a,b,c,d,e,f){"use strict";var g=null;a={getBool:function(a,b){return g?g.getBool(a,b):b},getNumber:function(a,b){return g?g.getNumber(a,b):b},getString:function(a,b){return g?g.getString(a,b):b},setGlobalConfig:function(a){g=a}};e.exports=a}),null);
__d("oz-player/networks/OzBandwidthUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){var b=0;for(var c=0;c<a.length;c++)b+=a[c].bytes*8e3/a[c].timeInMs;return b/a.length}function h(a){var b=g(a),c=0;for(var d=0;d<a.length;d++)c+=Math.pow(a[d].bytes*8e3/a[d].timeInMs-b,2);return Math.round(Math.sqrt(c/a.length))}function i(a,b){b=Math.exp(Math.log(.5)/b);var c=0,d=0;for(var e=0;e<a.length;e++){var f=Math.pow(b,a[e].weight);c=a[e].value*(1-f)+c*f;d+=a[e].weight}return Math.round(c/(1-Math.pow(b,d)))}function j(a,b){return i(a.map(function(a){return{value:a.bytes*8e3/a.timeInMs,weight:a.timeInMs/1e3}}),b)}function k(a,b){var c=g(a),d=[];for(var e=0;e<a.length;e++)Math.abs(c-a[e].bytes*8e3/a[e].timeInMs)<b&&d.push(a[e]);return d}function a(a,b,c,d){var e=h(a);a=k(a,e*c);c=j(a,b);return c-e*d}e.exports={getBandwidthEstimate:a,getExponentiallyWeightedMovingAverage:i,getExponentiallyWeightedMovingAverageOfBandwidth:j,getStandardDeviationOfBandwidth:h,getMeanBandwidth:g,getBandwidthSamplesWithinRangeOfMean:k}}),null);
__d("oz-player/networks/OzNetworkRequestStreamBandwidthReporter",["oz-player/utils/OzResourceTimingUtils","oz-player/networks/OzTransformStream"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=g.getLatestResourceTimingEntry;a=function(){__p&&__p();function a(a){__p&&__p();this.$8=Date.now();this.$9=0;this.$10=0;this.$11=function(){};this.$12=function(){};this.$13=new h();var b=a.stream,c=a.loggerProvider,d=a.byteCountPerSample,e=a.minimumBytesToSampleOnClose,f=a.minimumSampleDuration,g=a.maximumSampleBandwidth,i=a.usePerformanceEntryOnClose;a=a.ignoreTimeToResponseStart;this.$1=b;this.$14=c;this.$2=d;this.$3=e;this.$4=f;this.$5=g;this.$6=i;this.$7=a;this.$13.addListener("writableWrite",this.$15.bind(this));this.$13.addListener("writableClose",this.$16.bind(this))}var b=a.prototype;b.getTransformStream=function(){return this.$13};b.onBandwidthSample=function(a){this.$11=a};b.onTimeToFirstByteMsSample=function(a){this.$12=a};b.$17=function(a,b){if(this.$14){var c=Date.now();this.$14&&this.$14.getOperationLogger("bandwidth_sampled").setLength(a).setClientTimeEnd(c).setClientTimeBegin(c-b).log()}this.$11(a,b)};b.$15=function(a){a.length!=void 0&&(this.$10+=a.length),this.$18()};b.$16=function(){__p&&__p();var a=Date.now()-this.$8,b=this.$1.getLastRequestUrl();b=b!=null?i(b):null;b&&this.$12(b.responseStart-b.requestStart);if(this.$3>0&&a>0&&this.$9===0&&this.$10>=this.$3){if(this.$6&&b&&b.responseEnd&&b.startTime){b=this.$7?b.responseEnd-b.responseStart:b.responseEnd-b.startTime;a=b>0?b:a}this.$19(a)||this.$17(this.$10,a)}};b.$19=function(a){var b=this.$10*8/(a/1e3);return a<this.$4&&b>this.$5};b.$18=function(){var a=Date.now(),b=a-this.$8;this.$10*8/(b/1e3);this.$2>0&&this.$10>=this.$9+this.$2&&!this.$19(b)&&(this.$17(this.$10-this.$9,b),this.$8=a,this.$9=this.$10)};return a}();e.exports=a}),null);
__d("RoundRobinPriorityTaskQueue",["oz-player/scheduling/OzRoundRobinPriorityTaskQueue"],(function(a,b,c,d,e,f){e.exports=b("oz-player/scheduling/OzRoundRobinPriorityTaskQueue")}),null);
__d("SequentialTaskScheduler",["oz-player/scheduling/OzSequentialTaskScheduler"],(function(a,b,c,d,e,f){"use strict";e.exports=b("oz-player/scheduling/OzSequentialTaskScheduler")}),null);
__d("oz-player/networks/OzStreamingTaskQueueProvider",["oz-player/scheduling/OzRoundRobinPriorityTaskQueue","oz-player/scheduling/OzSequentialTaskScheduler"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=new Map(),j=new Map(),k=2,l=2,m=6e4;function a(a){var b=i.get(a);if(!b){b=new g(k,l);var c=new h(b,{taskTimeout:m});c.start();i.set(a,b);j.set(a,c)}return b}e.exports={getQueue:a,OZ_QUEUE_MAX_PRIORITY:k}}),null);
__d("oz-player/shims/OzBandwidthCache",["CacheStorage","Run"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){var b=this;this.$1=new g("localstorage","_video_");h.onUnload(function(){b.$1.set("bandwidthEstimate",a())})}var b=a.prototype;b.getCachedBandwidth=function(){return this.$1.get("bandwidthEstimate")};return a}();e.exports=a}),null);
__d("oz-player/networks/OzBandwidthEstimator",["oz-player/configs/OzGlobalConfig","oz-player/networks/OzStreamingTaskQueueProvider","oz-player/shims/OzBandwidthCache","oz-player/shims/OzEventEmitter","oz-player/networks/OzBandwidthUtils","oz-player/networks/OzNetworkRequestStreamBandwidthReporter"],(function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";__p&&__p();var m=k.getBandwidthEstimate,n=k.getExponentiallyWeightedMovingAverage,o=k.getExponentiallyWeightedMovingAverageOfBandwidth,p=k.getStandardDeviationOfBandwidth,q=.9,r=5e5,s=2e4;a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(){var b;b=a.call(this)||this;b.$OzBandwidthEstimator1=[];b.$OzBandwidthEstimator2=[];b.$OzBandwidthEstimator3=new i(function(){return b.getAdjustedBandwidth(g)});return b}var c=b.prototype;c.getBandwidth=function(a){var b=m(this.$OzBandwidthEstimator1,a.getNumber("bandwidth_estimator_half_life",6),a.getNumber("bandwidth_estimator_outlier_exclusion_factor",2),a.getNumber("bandwidth_estimator_std_dev_penalty_factor",.1));return b>0?b:this.$OzBandwidthEstimator4(a)};c.getEstimatedTimeToFirstByteMs=function(a){return this.$OzBandwidthEstimator2.length>0?n(this.$OzBandwidthEstimator2.map(function(a){return{value:a,weight:1}}),a.getNumber("time_to_first_byte_estimate_half_life_ms",500)):null};c.$OzBandwidthEstimator4=function(a){var b=r;if(a.getBool("use_cached_bandwidth",!1)){a=this.$OzBandwidthEstimator3.getCachedBandwidth();typeof a==="number"&&a>0&&(b=a)}return b};c.getStandardDeviationOfBandwidth=function(){return p(this.$OzBandwidthEstimator1)};c.getSampleCount=function(){return this.$OzBandwidthEstimator1.length};c.getAdjustedBandwidth=function(a){if(this.$OzBandwidthEstimator1.length===0)return this.$OzBandwidthEstimator4(a);var b=a.getNumber("bandwidth_estimator_variance_penalty_half_life",0)>0?this.$OzBandwidthEstimator5(a):this.$OzBandwidthEstimator6(a);return this.$OzBandwidthEstimator7(a,b)};c.$OzBandwidthEstimator7=function(a,b){var c=Math.max(0,h.getQueue("video").getLength()-a.getNumber("bandwidth_penalty_additional_video_start",0));a=a.getNumber("bandwidth_penalty_per_additional_video",0);c=Math.min(q,c*a);return b*(1-c)};c.$OzBandwidthEstimator5=function(a){var b=o(this.$OzBandwidthEstimator1,a.getNumber("bandwidth_estimator_half_life",6)),c=o(this.$OzBandwidthEstimator1,a.getNumber("bandwidth_estimator_variance_penalty_half_life",0));a=c<b?a.getNumber("bandwidth_estimator_variance_penalty_down_factor",0):a.getNumber("bandwidth_estimator_variance_penalty_up_factor",0);c=Math.abs(b-c)*a;return b-c};c.$OzBandwidthEstimator6=function(a){return this.getBandwidth(a)};c.pipeThroughReporter=function(a,b,c){var d=this;return{startStream:function(e){var f=new l({stream:b,loggerProvider:c,byteCountPerSample:a.getNumber("byte_count_per_sample",s),minimumBytesToSampleOnClose:a.getNumber("minimum_bytes_to_sample_on_close",0),minimumSampleDuration:a.getNumber("minimum_bandwidth_sample_duration",0),maximumSampleBandwidth:a.getNumber("maximum_bandwidth_sample_bandwidth",999999999),usePerformanceEntryOnClose:a.getBool("use_performance_entry_on_stream_close",!1),ignoreTimeToResponseStart:a.getBool("ignore_time_to_response_start",!1)});f.onBandwidthSample(d.$OzBandwidthEstimator8.bind(d));f.onTimeToFirstByteMsSample(d.$OzBandwidthEstimator9.bind(d));return b.startStream(e).then(function(c){return b.retrievedFromCache()&&a.getBool("exclude_prefetch_bandwidth_samples",!1)?c:c.pipeThrough(f.getTransformStream())})}}};c.$OzBandwidthEstimator8=function(a,b){this.$OzBandwidthEstimator1.push({bytes:a,timeInMs:b}),this.$OzBandwidthEstimator1.length>g.getNumber("max_bandwidth_sample_count",15)&&this.$OzBandwidthEstimator1.splice(0,1),this.emit("bandwidth_sampled")};c.$OzBandwidthEstimator9=function(a){this.$OzBandwidthEstimator2.push(a),this.$OzBandwidthEstimator2.length>g.getNumber("max_bandwidth_sample_count",15)&&this.$OzBandwidthEstimator2.splice(0,1)};return b}(j);e.exports=new a()}),null);
__d("oz-player/networks/OzFetchWithCache",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=window.fetch;function a(a,b,c,d){__p&&__p();d===void 0&&(d=null);if(!g)throw new Error("fetch api is missing");d=d?d.getCacheValue(b):null;var e=!1;d?(e=!0,d=d.then(function(a){var b=new ReadableStream({start:function(b){var c=new Uint8Array(a.response);b.enqueue(c);b.close()}});return{body:b,status:200,headers:null,ok:!0}})["catch"](function(d){if(a.getBool("retry_fetch_on_prefetch_error",!1))return g(b,c);else throw new TypeError()})):d=g(b,c);return{promise:d,retrievedFromCache:e}}e.exports=a}),null);
__d("oz-player/networks/OzNetworkRequestStream",["oz-player/networks/OzFetchWithCache","createErrorStream"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,b,c,d,e){e===void 0&&(e=null),this.$4=!1,this.$1=b,this.$2=c,this.$5=d,this.$6=e,this.$7=a}var b=a.prototype;b.startStream=function(a){__p&&__p();a=this.$2.createRequestParam(this.$1,a);var b=a.uri;a=a.http;var c=b.toString();this.$3=c;b=g(this.$7,c,a,this.$6);a=b.promise;b=b.retrievedFromCache;this.$4=b;return a.then(this.$5.onResponse(c),this.$5.onError(c))["catch"](function(a){return h({type:"stream_processing",status:0,url:c,message:"Stream processing error."+a})})};b.getLastRequestUrl=function(){return this.$3};b.retrievedFromCache=function(){return this.$4};return a}();e.exports=a}),null);
__d("oz-player/manifests/OzByteRange",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b){return a.startByte===b.startByte}function b(a,b){return b.endByte===null?!1:a.startByte===b.endByte+1}function c(a,b){return a.startByte<b.startByte?!1:b.endByte==null||b.endByte>=a.startByte}function d(a,b){__p&&__p();a=a;b=b;if(b.startByte<a.startByte){var c=a;a=b;b=c}if(a.endByte==null)return{startByte:a.startByte,endByte:null};if(b.startByte>a.endByte+1)return null;c=b.endByte==null||b.endByte>a.endByte?b.endByte:a.endByte;return{startByte:a.startByte,endByte:c}}function f(a,b){if(b.endByte==null)return null;if(a.startByte>b.endByte)return{startByte:a.startByte,endByte:a.endByte};return a.endByte!=null&&a.endByte<=b.endByte?null:{startByte:b.endByte+1,endByte:a.endByte}}function g(a){return a.endByte==null?null:a.endByte-a.startByte+1}e.exports={startsAtSame:a,startsImmediateAfter:b,startsDuring:c,union:d,disjoinAfter:f,getLength:g}}),null);
__d("oz-player/networks/OzProducerInterruptedError",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(babelHelpers.wrapNativeSuper(Error));e.exports=a}),null);
__d("oz-player/networks/OzDeferredBuffer",["oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/networks/OzProducerInterruptedError"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){a===void 0&&(a={});this.$3=[];this.$4=!1;this.$6=0;a=a;var b=a.disableArrayShift;a=a.useNativePromise;this.$1=!!b;this.$2=!!a}var b=a.prototype;b.produce=function(a){this.$7(a)};b.signalProducerInterruption=function(){this.$7(new i("producer interrupted"))};b.consume=function(a){__p&&__p();var b=this;if(this.$4)throw new Error("A buffer can only be consumed by one client at a time");this.$4=!0;var c=h.resolve();this.isEmpty()&&(this.$5=this.$2?new g(h):new g(),c=this.$5.getPromise());return c.then(function(){__p&&__p();if(b.$1){if(b.$3[b.$6]===void 0)throw new Error("buffer has no value at position "+b.$6)}else if(b.$3.length===0)throw new Error("buffer length must not be 0");b.$5=null;b.$4=!1;var c=b.$1?b.$8(a):b.$9(a);if(c instanceof Uint8Array)return c;throw c})};b.$7=function(a){this.$3.push(a),this.$5&&this.$5.resolve()};b.$8=function(a){__p&&__p();var b=this.$3[this.$6];if(b===void 0)return new Uint8Array([]);b=b;if(!(b instanceof Uint8Array)){this.$3[this.$6]=void 0;this.$6++;return b}if(a!==void 0&&b.length>a){var c=b.slice(a);b=b.slice(0,a);this.$3[this.$6]=c}else this.$3[this.$6]=void 0,this.$6++;return b};b.$9=function(a){__p&&__p();if(this.$3.length===0)return new Uint8Array([]);var b=this.$3[0];if(!(b instanceof Uint8Array)){this.$3.shift();return b}if(a!==void 0&&b.length>a){var c=b.slice(a);b=b.slice(0,a);this.$3[0]=c}else this.$3.shift();return b};b.isEmpty=function(){return this.$1?this.$3[this.$6]===void 0:this.$3.length===0};return a}();e.exports=a}),null);
__d("oz-player/shims/OzReadableStream",["ReadableStream"],(function(a,b,c,d,e,f){"use strict";e.exports=b("ReadableStream")}),null);
__d("oz-player/shims/OzWritableStream",["WritableStream"],(function(a,b,c,d,e,f){"use strict";e.exports=b("WritableStream")}),null);
__d("pipeErrorTo",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){try{a.error(b)}catch(a){}}e.exports=a}),null);
__d("oz-player/networks/OzPausableRangeStream",["oz-player/manifests/OzByteRange","oz-player/shims/OzDeferred","oz-player/networks/OzDeferredBuffer","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzReadableStream","oz-player/shims/OzWritableStream","pipeErrorTo"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m){"use strict";__p&&__p();var n=g.startsImmediateAfter;function o(){return new Error("Upstream has an inconsistent range")}var p=function(){__p&&__p();function a(){this.$1=0}var b=a.prototype;b.setBytesToSkip=function(a){this.$1=a};b.setBytesSkipped=function(a){this.$1-=a};b.getBytesToSkip=function(){return this.$1};b.hasMoreBytesToSkip=function(){return this.$1>0};return a}();a=function(){__p&&__p();function a(a,b,c){__p&&__p();var d=this;this.$5=!1;this.$7=0;this.$8=0;this.$13=!1;this.$14=0;this.$15=new p();this.$16=!1;this.$17=!1;this.$18=!1;this.$19=!1;this.$1=a;this.$2=b;a=c||{};b=a.fixStreamingUndefinedEndByte;c=a.disableDeferredBufferArrayShift;var e=a.useNativePromiseInDeferredBuffer,f=a.enablePausableStreamResumeFromStartDangerously,g=a.fixPausePreReadableStream,h=a.throwErrorOnUnexpectedException;a=a.throwErrorWhenAborted;this.$11=!!b;this.$16=!!f;this.$17=!!g;this.$18=!!h;this.$19=!!a;this.$3=new i({disableArrayShift:!!c,useNativePromise:!!e});this.$6=new k({start:function(a){d.$10=a},pull:function(a){__p&&__p();if((d.$11&&d.$1.endByte===null&&d.$5||d.$7===d.$20())&&d.$3.isEmpty()){a.close();return j.resolve()}var b=function b(){__p&&__p();var c=d.$15.hasMoreBytesToSkip()?d.$15.getBytesToSkip():void 0;return d.$3.consume(c).then(function(c){if(d.$15.hasMoreBytesToSkip()){d.$15.setBytesSkipped(c.length);return b()}d.$7+=c.length;var e=d.$20();e!==null&&d.$7>(e||0)&&m(d.$10,o());a.enqueue(c)})["catch"](function(a){if(a==="skip_buffered_bytes"){d.$15.setBytesToSkip(d.$7);return b()}throw a})};return b()},cancel:function(a){d.$12&&d.$12.resolve("stream_cancelled"),m(d.$9,a)}});this.$21()}var b=a.prototype;b.$20=function(){var a=this.$1,b=a.startByte;a=a.endByte;return a!=null?a-b+1:null};b.$21=function(){__p&&__p();var a=this;this.$4=new l({start:function(b){a.$9=b},write:function(b){a.$3.produce(b),a.$8+=b.length},close:function(){a.$5=!0;var b=a.$1,c=b.endByte;b=b.startByte;a.$11&&c===null&&a.$3.produce(new Uint8Array([]));c!==null&&a.$8!==(c||0)-b+1&&m(a.$10,o())},abort:function(b){a.$12&&(a.$19?a.$12.reject(b):a.$12.resolve("stream_aborted")),m(a.$10,b)}})};b.getStream=function(){return this.$6};b.startStream=function(){__p&&__p();var b=this;this.$13=!0;var c={startByte:this.$1.startByte,endByte:this.$1.endByte};!this.$16?c.startByte+=this.$8:this.$8&&(this.$3.produce("skip_buffered_bytes"),this.$8=0);var d=this.$4;return this.$2.startStream(c).then(function(c){c.pipeTo(b.$17?d:b.$4).then(function(){b.$12&&b.$12.resolve("stream_done")})["catch"](function(c){b.$12&&!b.$12.isSettled()&&(b.$17&&c===a.STREAM_PAUSED?b.$12.resolve("stream_paused"):b.$18?b.$12.reject(c):b.$12.resolve("stream_unexpected"))});b.$12=new h(j);return{statusPromise:b.$12.getPromise()}})};b.pauseStream=function(){m(this.$9,a.STREAM_PAUSED),this.$12&&this.$12.resolve("stream_paused"),this.$21()};b.getByteRange=function(){return this.$1};b.getBytesStreamed=function(){return this.$7};b.tryConcatByteRange=function(a){if(this.$13||!n(a,this.$1))return!1;this.$1.endByte=a.endByte;return!0};return a}();a.STREAM_PAUSED="streamPaused";e.exports=a}),null);
__d("oz-player/networks/getOzSegmentStreamableRange",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();if(!a.length)return null;var b=a[0].getURI().toString(),c=a[0].getByteRange();if(!c)return null;var d=c;for(var e=1;e<a.length;e++){var f=a[e];if(f.getURI().toString()!==b)return null;f=f.getByteRange();if(!d||!f)return null;if(d.endByte===null||f.startByte!==d.endByte+1)return null;d=f}return{startByte:c.startByte,endByte:d.endByte}}e.exports=a}),null);
__d("oz-player/utils/OzNetworkRequestLoggingUtils",["oz-player/utils/OzResourceTimingUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=g.getLatestResourceTimingEntry,i=function(a,b){b=h(b);b&&a.setTimeToFirstByte(Math.round(b.responseStart-b.startTime)).setTimeToLastByte(Math.round(b.responseEnd-b.startTime)).setTimeToRequestStart(Math.round(b.requestStart-b.startTime))};a=function(a,b,c,d,e){d.length&&a.setSegmentCount(d.length),b&&i(a,b),a.setResource(b||null).setInitiator(c?"prefetch":"fetch").setTimeToRequestSent(Math.round(Math.floor(e)))};e.exports={setFetchStreamLoggingAttributes:a,setPerformanceLoggingAttributes:i}}),null);
__d("oz-player/networks/OzNetworkManager",["oz-player/loggings/OzLoggingUtils","oz-player/mocks/MockRequestParamCreator","oz-player/networks/OzPausableRangeStream","oz-player/shims/OzURI","oz-player/shims/ozvariant","oz-player/utils/OzError","oz-player/utils/OzNetworkRequestLoggingUtils","oz-player/networks/getOzSegmentStreamableRange","oz-player/networks/OzBandwidthEstimator","oz-player/networks/OzNetworkRequestStream"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){"use strict";__p&&__p();var q=g.monitorPromiseAndLogOperation,r=m.setFetchStreamLoggingAttributes;a=function(){__p&&__p();function a(a,b,c){b===void 0&&(b=null),this.$1=a,this.$2=new h(),this.$3=b,this.$4=c}var b=a.prototype;b.request=function(a,b){b===void 0&&(b=null);a.length>0||k(0,212);var c=n(a)||{startByte:0,endByte:null},d=new p(this.$1,a[0].getURI(),this.$2,this.$4,this.$3);return this.$5(c,d,b,a)};b.createPausableStream=function(a,b){a.length>0||k(0,212);var c=n(a)||{startByte:0,endByte:null},d=new p(this.$1,a[0].getURI(),this.$2,this.$4,this.$3);return{pausableStream:this.$6(c,d,b),loggingPayloads:{getRequestUrl:function(){return d.getLastRequestUrl()||null},isPrefetch:function(){return d.retrievedFromCache()},segments:a}}};b.requestRawUrl=function(a,b,c){c===void 0&&(c=null);a=new p(this.$1,new j(a),{createRequestParam:function(a,c){return{uri:a,http:b}}},this.$4,this.$3);var d={startByte:0,endByte:null};return this.$5(d,a,c)};b.$6=function(a,b,c){b=o.pipeThroughReporter(this.$1,b,c);return new i(a,b,{fixStreamingUndefinedEndByte:!0,enablePausableStreamResumeFromStartDangerously:!0,fixPausePreReadableStream:!0,useNativePromiseInDeferredBuffer:this.$1.getBool("use_native_promise",!1),throwErrorOnUnexpectedException:this.$1.getBool("pausable_stream_throws_error_on_unexpected_exception",!1),throwErrorWhenAborted:this.$1.getBool("pausable_stream_throws_error_when_aborted",!1)})};b.$5=function(a,b,c,d){__p&&__p();d===void 0&&(d=[]);var e=this.$6(a,b,c);a=e.startStream();var f=this.$7(a);c&&q(f,c,"fetch_stream",function(){},function(a){r(a,b.getLastRequestUrl(),b.retrievedFromCache(),d,0)});return{getStream:function(){return e.getStream()},cancel:function(){return e.pauseStream()},getStatusChangePromise:function(){return f}}};b.$7=function(a){var b=this;return a.then(function(a){a=a.statusPromise;return a.then(function(a){if(a==="stream_done"||!b.$1.getBool("enable_network_manager_error",!1))return"done";throw new l({description:a,type:"OZ_NETWORK"})})})};a.getStreamableSegmentsRange=function(a){if(!a.length)return[];return!n(a)?[a[0]]:a.slice(0)};return a}();e.exports=a}),null);
__d("oz-player/utils/OzNumericalHelper",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=1e-5;function h(a,b,c){c===void 0&&(c=g);return Math.abs(b-a)<=c}function i(a,b,c){c===void 0&&(c=g);return a>b&&!h(a,b,c)}function j(a,b,c){c===void 0&&(c=g);return a<b&&!h(a,b,c)}function a(a,b,c){c===void 0&&(c=g);return j(a,b,c)||h(a,b,c)}function b(a,b,c){c===void 0&&(c=g);return i(a,b,c)||h(a,b,c)}e.exports={lessThan:j,greaterThan:i,equalTo:h,lessThanOrEqual:a,greaterThanOrEqual:b}}),null);
__d("oz-player/utils/OzNumericalRangeUtil",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=.01;function h(a,b){b=b.rangeEnd;return b===null||b===void 0?!1:Math.abs(a.rangeStart-b)>g&&a.rangeStart>b}function i(a,b){a=a.rangeEnd;b=b.rangeEnd;if(a===null||a===void 0)return!0;return b===null||b===void 0?!1:Math.abs(a-b)>g&&a>b}function j(a,b){b=b.rangeEnd;return b===null||b===void 0?!1:Math.abs(a-b)>g&&a>b}function k(a,b){return a>b-g}a=function(){__p&&__p();function a(){}var b=a.prototype;b.mergeSortedRanges=function(a){__p&&__p();if(!a.length)return[];var b=[],c=a[0];b.push(c);for(var d=1;d<a.length;d++){var e=a[d];if(!i(e,c))continue;else h(e,c)?(c={rangeStart:e.rangeStart,rangeEnd:e.rangeEnd},b.push(c)):c.rangeEnd=e.rangeEnd}return b};b.diffSortedRanges=function(a,b){return a.reduceRight(function(a,c){j(c.rangeStart,b)||j(b.rangeStart,c)?a.push(c):(b.rangeEnd!=null&&(c.rangeEnd==null||j(c.rangeEnd,b))&&a.push({rangeStart:b.rangeEnd,rangeEnd:c.rangeEnd}),k(b.rangeStart,c.rangeStart)&&a.push({rangeStart:c.rangeStart,rangeEnd:b.rangeStart}));return a},[]).filter(function(a){return a.rangeEnd==null||a.rangeStart<a.rangeEnd}).reverse()};b.findCurrentRangeIndex=function(a,b){for(var c=0;c<b.length;c++){var d=b[c],e=d.rangeStart;if(k(a,e)&&!j(a,d))return c}return-1};b.findNextRangeIndex=function(a,b){for(var c=0;c<b.length;c++){var d=b[c];d=d.rangeStart;if(!k(a,d))return c}return-1};b.findDiffCoveredByRanges=function(a,b,c){__p&&__p();return a>=b?0:c.reduceRight(function(c,d){var e=d.rangeStart;d=d.rangeEnd;if(b<e||d!=null&&a>d)return c;else if(d==null||b<=d)return Math.min(b-e,b-a)+c;else if(a>=e)return Math.min(d-a,b-a)+c;else return d-e+c},0)};return a}();e.exports=a}),null);
__d("oz-player/manifests/SegmentTemplateSegmentsContainer",["oz-player/utils/OzNumericalHelper","oz-player/shims/OzEventEmitter","oz-player/utils/OzError","oz-player/shims/OzURI","oz-player/shims/ozvariant","oz-player/utils/OzNumericalRangeUtil"],(function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";__p&&__p();var m=g.equalTo,n=g.greaterThan;g.lessThan;var o=g.greaterThanOrEqual,p=g.lessThanOrEqual,q=1e-4;a=function(){__p&&__p();function a(a,b,c,d,e){e===void 0&&(e=!1),this.$6=new h(),this.$9=null,this.$1=b,this.$2=c,this.$3=d,this.$4=this.$10(this.$3),this.$5=e,this.$7=a,this.$8=this.$7.getNumber("live_numerical_error_epsilon",0)}var b=a.prototype;b.getSegmentByTime=function(a){__p&&__p();a=this.$7.getBool("live_query_time_in_range",!1)?this.$11(a):a;a=a*this.$2;var b=null;for(var c=this.$3.length-1;c>=0;c--){var d=this.$3[c];if(p(d.t+d.d*(d.r+1),a,this.$8))break;b=d}if(b===null)return null;if(this.$7.getBool("live_no_segment_when_playhead_is_before_first_segment",!1)&&n(b.t,a,this.$8))return null;d=Math.max(0,Math.floor((a-b.t+this.$8)/b.d));return this.$12(b,d)};b.getSegment=function(a){__p&&__p();var b=0;a=a;while(a>=0&&b<this.$3.length){var c=this.$3[b];c=c.r;c=c+1;if(a>=c){a-=c;b++;continue}break}c=this.$3[b];return!c?null:this.$12(c,a)};b.getSegmentAfter=function(a){a=a.getTimeRange().endTime;return this.getSegmentByTime(a)};b.isEndingSegment=function(a){if(!this.$3||!this.$3.length||!this.$5)return!1;var b=this.$3[this.$3.length-1],c=b.r;b=this.$12(b,c);return Math.abs(b.getTimeRange().startTime-a.getTimeRange().startTime)+Math.abs(b.getTimeRange().endTime-a.getTimeRange().endTime)<q};b.updateWith=function(b){b instanceof a||k(0,646),this.$5=b.$5,this.$13(b.$3),this.$14(b.$3),this.$6.emit("segment_updated")};b.getTimeRanges=function(){return this.$9&&this.$7.getBool("live_block_time_range_on_the_fly",!1)?this.$15(this.$4,this.$9):this.$4};b.blockTimeRange=function(a){this.$9=a,this.$7.getBool("live_block_time_range_on_the_fly",!1)||(this.$4=this.$15(this.$4,a))};b.$15=function(a,b){return new l().diffSortedRanges(a.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}),{rangeStart:b.startTime,rangeEnd:b.endTime}).map(function(a){return{startTime:a.rangeStart,endTime:a.rangeEnd===null||a.rangeEnd===void 0?Infinity:a.rangeEnd}})};b.addUpdateListener=function(a){return this.$6.addListener("segment_updated",a)};b.$11=function(a){var b=a,c=new l().findCurrentRangeIndex(a,this.getTimeRanges().map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}));if(c===-1){c=new l().findNextRangeIndex(a,this.getTimeRanges().map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}));c!==-1&&(b=this.getTimeRanges()[c].startTime)}return b};b.$16=function(a,b){if(a.d!==b.d)return!1;var c=a.t+a.d*a.r,d=b.t+b.d*b.r;return o(a.t,d,this.$8)||o(b.t,c,this.$8)?!1:Number.isInteger((a.t-b.t)/a.d)};b.$13=function(a){__p&&__p();var b=this.$3.length-1,c=a.length-1,d=b,e=c,f=this.$7.getBool("fix_templated_manifest_r_field_check",!1);while(b>=0&&c>=0){var g=this.$3[b],h=a[c];if(m(g.t,h.t,this.$8)){if(f){var j=b===d||c===e,k=j&&(b!==d&&h.r>g.r||c!==e&&g.r>h.r);j=!j&&g.r!==h.r||k}else j=!(b===d&&c===e)&&g.r!==h.r;if(j)throw new i({type:"OZ_REPRESENTATION_PARSER",description:'Segment group "R" field mismatch. Old groups: '+JSON.stringify(this.$3)+", new groups: "+JSON.stringify(a)});g.r=Math.max(g.r,h.r);b--;c--}else if(n(h.t,g.t,this.$8))this.$3.splice(b+1,0,h),c--;else{if(this.$16(g,h))throw new i({type:"OZ_REPRESENTATION_PARSER",description:"Segment group misalinged"});b--}}if(c>=0){(k=this.$3).unshift.apply(k,a.slice(0,c+1))}};b.$14=function(a){__p&&__p();a=this.$10(a);a=new l().mergeSortedRanges(this.$4.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}).concat(a.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}})));if(!this.$7.getBool("live_block_time_range_on_the_fly",!1)){var b=this.$9;b!=null&&(a=new l().diffSortedRanges(a,{rangeStart:b.startTime,rangeEnd:b.endTime}))}this.$4=a.map(function(a){return{startTime:a.rangeStart,endTime:a.rangeEnd===null||a.rangeEnd===void 0?Infinity:a.rangeEnd}})};b.$10=function(a){__p&&__p();var b=this;a=new l();a=a.mergeSortedRanges(this.$3.map(function(a){var c=b.$12(a,0).getTimeRange().startTime;a=b.$12(a,a.r).getTimeRange().endTime;return{rangeStart:c,rangeEnd:a}}));return a.map(function(a){var b=a.rangeStart;a=a.rangeEnd;a=a===null||a===void 0?Infinity:a;return{startTime:b,endTime:a}})};b.$12=function(a,b){var c=this;b===void 0&&(b=0);var d=a.t,e=a.d,f=d+e*b;return{getURI:function(){var a=c.$1.replace("$Time$",f.toString());return new j(a)},getTimeRange:function(){return{startTime:f/c.$2,endTime:(f+e)/c.$2}},getByteRange:function(){return null}}};return a}();e.exports=a}),null);
__d("oz-player/utils/OzUrlHelper",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){var b=a.lastIndexOf("/"),c=a.lastIndexOf("://");b>c+2&&(a=a.substring(0,b+1));return a}function h(a){a=g(a);return a.endsWith("/")?g(a.substring(0,a.length-1)):a}function i(a,b){__p&&__p();a=g(a);while(b.length)if(b.startsWith("./"))b=b.substring(2);else if(b.startsWith("../"))b=b.substring(3),a=h(a),a.endsWith("/")&&(a=a.substring(0,a.length-1));else if(b.startsWith(".."))b=b.substring(2),a=h(a);else if(b.startsWith("."))b=b.substring(1);else break;b&&b.length&&(a.endsWith("/")||(a+="/"),a+=b);return a}a={normalize:function(){__p&&__p();for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];if(!b||!b.length)return"";if(b.length===1)return b[0];var d=b.shift();while(b.length>0)d=i(d,b.shift());return d}};e.exports=a}),null);
__d("oz-player/parsers/OzSegmentTemplateParser",["oz-player/manifests/SegmentTemplateSegmentsContainer","oz-player/shims/OzURI","oz-player/utils/OzUrlHelper"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=function(){__p&&__p();function a(a,b){b===void 0&&(b=null),this.$1=a,this.$2=b}var b=a.prototype;b.getTimeRange=function(){return{startTime:0,endTime:0}};b.getByteRange=function(){return this.$2};b.getURI=function(){return this.$1};return a}();a=function(){__p&&__p();function a(a,b,c){var d=c.baseUrl;c=c.isStaticMpd;this.$1=b;this.$2=d;this.$3=c;this.$4=a}var b=a.prototype;b.parseInitializationSegment=function(){var a=i.normalize(this.$2,this.$1.$.initialization);return new j(new h(a))};b.parseSegmentsContainer=function(){var a=[];(!this.$4.getBool("handle_missing_manifest_segment_timeline",!1)||this.$1.SegmentTimeline[0].S)&&(a=this.$1.SegmentTimeline[0].S.map(function(a){return{t:Number.parseInt(a.$.t,10),d:Number.parseInt(a.$.d,10),r:Number.parseInt(a.$.r||"0",10)}}));return new g(this.$4,i.normalize(this.$2,this.$1.$.media),Number.parseInt(this.$1.$.timescale,10),a,this.$3)};return a}();e.exports=a}),null);
__d("oz-player/manifests/SegmentTemplateSegmentsContainerLegacy",["oz-player/utils/OzNumericalHelper","oz-player/shims/OzEventEmitter","oz-player/shims/OzURI","oz-player/shims/ozvariant","oz-player/utils/OzNumericalRangeUtil"],(function(a,b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l=g.equalTo,m=g.greaterThan,n=g.lessThan;g.greaterThanOrEqual;var o=g.lessThanOrEqual,p=1e-4;a=function(){__p&&__p();function a(a,b,c,d,e){e===void 0&&(e=!1),this.$6=new h(),this.$9=null,this.$1=b,this.$2=c,this.$3=d,this.$4=this.$10(this.$3),this.$5=e,this.$7=a,this.$8=this.$7.getNumber("live_numerical_error_epsilon",0)}var b=a.prototype;b.getSegmentByTime=function(a){__p&&__p();a=this.$7.getBool("live_query_time_in_range",!1)?this.$11(a):a;a=a*this.$2;if(this.$7.getBool("live_segment_search_from_end",!1)){var b=null;for(var c=this.$3.length-1;c>=0;c--){var d=this.$3[c];if(o(d.t+d.d,a,this.$8))break;b=d}if(b===null)return null;return this.$7.getBool("live_no_segment_when_playhead_is_before_first_segment",!1)&&m(b.t,a,this.$8)?null:this.$12(b)}for(var d=0;d<this.$3.length;d++){c=this.$3[d];if((this.$7.getBool("live_find_next_segment_with_gap",!1)||o(c.t,a,this.$8))&&m(c.t+c.d,a,this.$8))return this.$12(c)}return null};b.getSegment=function(a){a=this.$3[a];return!a?null:this.$12(a)};b.getSegmentAfter=function(a){var b=this,c=this.$3.findIndex(function(c){return l(c.t,a.getTimeRange().startTime*b.$2,b.$8)&&l(c.t+c.d,a.getTimeRange().endTime*b.$2,b.$8)});return c>=0&&c+1<this.$3.length?this.$12(this.$3[c+1]):null};b.isEndingSegment=function(a){if(!this.$3||!this.$3.length||!this.$5)return!1;var b=this.$12(this.$3[this.$3.length-1]);return Math.abs(b.getTimeRange().startTime-a.getTimeRange().startTime)+Math.abs(b.getTimeRange().endTime-a.getTimeRange().endTime)<p};b.updateWith=function(b){b instanceof a||j(0,646),this.$5=b.$5,this.$13(b.$3),this.$14(b.$3),this.$6.emit("segment_updated")};b.getTimeRanges=function(){return this.$4};b.blockTimeRange=function(a){this.$9=a,this.$4=new k().diffSortedRanges(this.getTimeRanges().map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}),{rangeStart:a.startTime,rangeEnd:a.endTime}).map(function(a){return{startTime:a.rangeStart,endTime:a.rangeEnd===null||a.rangeEnd===void 0?Infinity:a.rangeEnd}})};b.addUpdateListener=function(a){return this.$6.addListener("segment_updated",a)};b.$11=function(a){var b=a,c=new k().findCurrentRangeIndex(a,this.getTimeRanges().map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}));if(c===-1){c=new k().findNextRangeIndex(a,this.getTimeRanges().map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}));c!==-1&&(b=this.getTimeRanges()[c].startTime)}return b};b.$13=function(a){var b=0,c=0;while(b<this.$3.length&&c<a.length){var d=this.$3[b],e=a[c];n(d.t,e.t,this.$8)?b++:m(d.t,e.t,this.$8)?(o(e.t+e.d,d.t,this.$8)&&this.$3.splice(b,0,e),c++):(b++,c++)}while(c<a.length)this.$3.push(a[c]),c++};b.$14=function(a){a=this.$10(a);a=new k().mergeSortedRanges(this.getTimeRanges().map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}).concat(a.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}})));var b=this.$9;b!=null&&(a=new k().diffSortedRanges(a,{rangeStart:b.startTime,rangeEnd:b.endTime}));this.$4=a.map(function(a){return{startTime:a.rangeStart,endTime:a.rangeEnd===null||a.rangeEnd===void 0?Infinity:a.rangeEnd}})};b.$10=function(a){__p&&__p();var b=this;a=new k();a=a.mergeSortedRanges(this.$3.map(function(a){a=b.$12(a).getTimeRange();var c=a.startTime;a=a.endTime;return{rangeStart:c,rangeEnd:a}}));return a.map(function(a){var b=a.rangeStart;a=a.rangeEnd;a=a===null||a===void 0?Infinity:a;return{startTime:b,endTime:a}})};b.$12=function(a){var b=this,c=a.t,d=a.d;return{getURI:function(){var a=b.$1.replace("$Time$",c.toString());return new i(a)},getTimeRange:function(){return{startTime:c/b.$2,endTime:(c+d)/b.$2}},getByteRange:function(){return null}}};return a}();e.exports=a}),null);
__d("oz-player/parsers/OzSegmentTemplateParserLegacy",["oz-player/manifests/SegmentTemplateSegmentsContainerLegacy","oz-player/shims/OzURI","oz-player/utils/OzUrlHelper"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=function(){__p&&__p();function a(a,b){b===void 0&&(b=null),this.$1=a,this.$2=b}var b=a.prototype;b.getTimeRange=function(){return{startTime:0,endTime:0}};b.getByteRange=function(){return this.$2};b.getURI=function(){return this.$1};return a}();a=function(){__p&&__p();function a(a,b,c){var d=c.baseUrl;c=c.isStaticMpd;this.$1=b;this.$2=d;this.$3=c;this.$4=a}var b=a.prototype;b.parseInitializationSegment=function(){var a=i.normalize(this.$2,this.$1.$.initialization);return new j(new h(a))};b.parseSegmentsContainer=function(){var a=[];(!this.$4.getBool("handle_missing_manifest_segment_timeline",!1)||this.$1.SegmentTimeline[0].S)&&(a=this.$1.SegmentTimeline[0].S.map(function(a){return{t:Number.parseInt(a.$.t,10),d:Number.parseInt(a.$.d,10)}}));return new g(this.$4,i.normalize(this.$2,this.$1.$.media),Number.parseInt(this.$1.$.timescale,10),a,this.$3)};return a}();e.exports=a}),null);
__d("oz-player/manifests/OzZeroTimeRangeSegment",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,b,c){this.$1=a,this.$2=b,this.$3=c}var b=a.prototype;b.getURI=function(){return this.$1};b.getTimeRange=function(){return{startTime:0,endTime:0}};b.getByteRange=function(){return{startByte:this.$2,endByte:this.$3}};return a}();e.exports=a}),null);
__d("DataViewReader",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){this.$1=0,this.$2=a}var b=a.prototype;b.seek=function(a){this.$1=a};b.skip=function(a){var b=this.$1;this.$1+=a;return b};b.readUint8=function(){return this.$2.getUint8(this.skip(8/8))};b.readUint16=function(){return this.$2.getUint16(this.skip(16/8))};b.readUint32=function(){return this.$2.getUint32(this.skip(32/8))};b.readUint64=function(){var a=this.$2.getUint32(this.skip(32/8)),b=this.$2.getUint32(this.skip(32/8));if(a>2097151)throw new RangeError("Overflow reading 64-bit value.");return Math.pow(2,32)*a+b};b.readInt64=function(){var a=this.$2.getUint32(this.skip(32/8)),b=this.$2.getUint32(this.skip(32/8));if(a>2097151)throw new RangeError("Overflow reading 64-bit value.");return Math.pow(2,32)*(a|0)+b};b.readInt16=function(){return this.$2.getInt16(this.skip(16/8))};b.readInt32=function(){return this.$2.getInt32(this.skip(32/8))};b.readZeroTerminatedString=function(a){var b="",c=0,d;while(c++<a&&(d=this.readUint8()))b+=String.fromCharCode(d);return b};b.readChars=function(a){var b="";while(a-->0)b+=String.fromCharCode(this.$2.getUint8(this.skip(8/8)));return b};b.readBytes=function(a){var b=[];while(a-->0)b.push(this.$2.getUint8(this.skip(8/8)));return b};b.getDataView=function(){return this.$2};b.getCursor=function(){return this.$1};b.hasMoreData=function(){return this.$2.byteLength-this.getCursor()>0};return a}();e.exports=a}),null);
__d("oz-player/shims/OzDataViewReader",["DataViewReader"],(function(a,b,c,d,e,f){"use strict";e.exports=b("DataViewReader")}),null);
/**
 * License: https://www.facebook.com/legal/license/8SOvLuObRf9/
 */
__d("oz-player/parsers/OzMp4SidxParser",["oz-player/shims/OzDataViewReader","oz-player/shims/OzURI"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=1936286840;a={parse:function(a,b,c){__p&&__p();var d=new g(new DataView(c.buffer));c=d.readUint32();var e=d.readUint32();if(e!==i)throw new Error('Invalid box type, expected "sidx".');c==1&&(c=d.readUint64());e=d.readUint8();d.skip(3);d.skip(4);var f=d.readUint32();if(!f)throw new Error("Invalid timescale.");var j;e==0?(e=d.readUint32(),j=d.readUint32()):(e=d.readUint64(),j=d.readUint64());d.skip(2);var k=d.readUint16(),l=e,m=b+c+j,n=0,o=[];e=function(b){__p&&__p();var c=d.readUint32(),e=(c&2147483648)>>>31;c=c&2147483647;var g=d.readUint32();d.readUint32();if(e==1)throw new Error("Heirarchical SIDXs are not supported.");var i=l/f,j=(l+g)/f;b===0&&(n=i);var k=m,p=k+c-1;o.push({getURI:function(){return new h(a)},getTimeRange:function(){return{startTime:i-n,endTime:j-n}},getByteRange:function(){return{startByte:k,endByte:p}}});l+=g;m+=c};for(var b=0;b<k;b++)e(b);return o}};e.exports=a}),null);
__d("oz-player/manifests/OzDataSegment",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,b,c,d,e){this.$1=a,this.$2=b,this.$3=c,this.$4=d,this.$5=e}var b=a.prototype;b.getURI=function(){return this.$1};b.getTimeRange=function(){return{startTime:this.$2,endTime:this.$3}};b.getByteRange=function(){return{startByte:this.$4,endByte:this.$5}};return a}();e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/8SOvLuObRf9/
 */
__d("oz-player/parsers/OzWebmSidxParser",["oz-player/manifests/OzDataSegment","oz-player/shims/OzDataViewReader","oz-player/shims/OzURI","oz-player/shims/ozvariant"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=440786851,l=408125543,m=357149030,n=2807729,o=17545,p=475249515,q=187,r=179,s=183,t=241,u=[new Uint8Array([255]),new Uint8Array([127,255]),new Uint8Array([63,255,255]),new Uint8Array([31,255,255,255]),new Uint8Array([15,255,255,255,255]),new Uint8Array([7,255,255,255,255,255]),new Uint8Array([3,255,255,255,255,255,255]),new Uint8Array([1,255,255,255,255,255,255,255])];function v(a,b){__p&&__p();if(!a&&!b)return!0;if(!a||!b)return!1;if(a.length!=b.length)return!1;for(var c=0;c<a.length;++c)if(a[c]!=b[c])return!1;return!0}var w=function(){__p&&__p();function a(a,b){this.id=a,this.$1=b}var b=a.prototype;b.getOffset=function(){return this.$1.byteOffset};b.createParser=function(){return new x(this.$1)};b.getUint=function(){__p&&__p();if(this.$1.byteLength>8)throw new RangeError("EbmlElement: Unsigned integer has too many bytes.");if(this.$1.byteLength==8&&this.$1.getUint8(0)&224)throw new RangeError("EbmlParser: Unsigned integer must be at most 53 bits.");var a=0;for(var b=0;b<this.$1.byteLength;b++){var c=this.$1.getUint8(b);a=256*a+c}return a};b.getFloat=function(){if(this.$1.byteLength==4)return this.$1.getFloat32(0);else if(this.$1.byteLength==8)return this.$1.getFloat64(0);else throw new RangeError("EbmlElement: floating point numbers must be 4 or 8 bytes.")};return a}(),x=function(){__p&&__p();function a(a){this.$1=a,this.$2=new h(this.$1)}var b=a.prototype;b.hasMoreData=function(){return this.$2.hasMoreData()};b.parseElement=function(){var b=this.$3(),c=this.$4(),d;a.$5(c)?d=this.$1.byteLength-this.$2.getCursor():d=a.$6(c);c=this.$2.getCursor()+d<=this.$1.byteLength?d:this.$1.byteLength-this.$2.getCursor();d=new DataView(this.$1.buffer,this.$1.byteOffset+this.$2.getCursor(),c);this.$2.skip(c);return new w(b,d)};b.$3=function(){var a=this.$4();if(a.length>7)throw new RangeError("EbmlParser: EBML ID must be at most 7 bytes.");var b=0;for(var c=0;c<a.length;c++)b=256*b+a[c];return b};b.$4=function(){__p&&__p();var a=this.$2.readUint8(),b;for(b=1;b<=8;b++){var c=1<<8-b;if(a&c)break}if(b>8)throw new RangeError("EbmlParser: Variable sized integer must fit within 8 bytes.");c=new Uint8Array(b);c[0]=a;for(var a=1;a<b;a++)c[a]=this.$2.readUint8();return c};a.$6=function(a){if(a.length==8&&a[1]&224)throw new RangeError("EbmlParser: Variable sized integer value must be at most 53 bits.");var b=1<<8-a.length;b=a[0]&b-1;for(var c=1;c<a.length;c++)b=256*b+a[c];return b};a.$5=function(a){for(var b=0;b<u.length;b++)if(v(a,u[b]))return!0;return!1};return a}();function y(a){__p&&__p();a=a.createParser();var b=1e6,c=null;while(a.hasMoreData()){var d=a.parseElement();d.id==n?b=d.getUint():d.id==o&&(c=d.getFloat())}if(c==null)return null;d=b/1e9;a=c*d;return{timecodeScale:d,duration:a}}function z(a,b,c,d,e){__p&&__p();var f=[];a=a.createParser();var h=-1,i=-1;while(a.hasMoreData()){var k=a.parseElement();if(k.id!=q)continue;k=A(k);if(!k)continue;var l=c*k.unscaledTime;k=b+k.relativeOffset;h>=0&&(i>=0||j(0,4010),f.push(new g(e,h,l,i,k-1)));h=l;i=k}h>=0&&(i>=0||j(0,4010),f.push(new g(e,h,d,i,null)));return f}function A(a){__p&&__p();a=a.createParser();var b=a.parseElement();if(b.id!=r)return null;b=b.getUint();a=a.parseElement();if(a.id!=s)return null;a=a.createParser();var c=0;while(a.hasMoreData()){var d=a.parseElement();if(d.id!=t)continue;c=d.getUint();break}return{unscaledTime:b,relativeOffset:c}}function B(a){__p&&__p();a=a.createParser();var b=null;while(a.hasMoreData()){var c=a.parseElement();if(c.id!=m)continue;b=c;break}return!b?null:y(b)}function C(a){__p&&__p();a=new x(a);var b=a.parseElement();if(b.id!=k)return null;b=a.parseElement();if(b.id!=l)return null;a=b.getOffset();b=B(b);return!b?null:{segmentOffset:a,timecodeScale:b.timecodeScale,duration:b.duration}}function a(a,b,c){c=new DataView(c.buffer);b=new DataView(b.buffer);c=C(c);if(!c)return[];b=new x(b);b=b.parseElement();return b.id!=p?[]:z(b,c.segmentOffset,c.timecodeScale,c.duration,new i(a))}e.exports={parse:a}}),null);
__d("oz-player/utils/OzReadableStreamUtils",["oz-player/utils/ozConcatArrayBuffer"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a){return TextDecoder?new TextDecoder("utf-8").decode(new Uint8Array(a)):String.fromCharCode.apply(null,a)}function i(a){__p&&__p();var b=new ArrayBuffer(0),c=function c(){return a.read().then(function(a){var d=a.value;a=a.done;if(a)return null;if(!d)return null;b=g(b,d);return c()})};return c().then(function(){return new Uint8Array(b)})}function a(a){return i(a).then(function(a){return h(a)})}e.exports={pumpString:a,pumpAllData:i}}),null);
__d("oz-player/parsers/OzSidxSegmentsParser",["oz-player/loggings/OzLoggingUtils","oz-player/manifests/OzZeroTimeRangeSegment","oz-player/shims/OzEventEmitter","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzURI","oz-player/utils/OzErrorEmitter","oz-player/utils/OzReadableStreamUtils","oz-player/parsers/OzMp4SidxParser","oz-player/parsers/OzWebmSidxParser"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){"use strict";__p&&__p();var p=g.monitorPromiseAndLogOperation,q=m.pumpAllData;function r(a){a=a.split("-");return{startByte:Number.parseInt(a[0],10),endByte:Number.parseInt(a[1],10)}}var s=function(){__p&&__p();function a(a,b,c){c===void 0&&(c=null),this.$1=a,this.$2=b,this.$3=c}var b=a.prototype;b.getSegmentByTime=function(a){var b=this.$1();for(var c=0;c<b.length;c++){var d=b[c],e=d.getTimeRange();if(e.startTime<=a&&e.endTime>a)return d}return null};b.getSegmentAfter=function(a){var b=this.$1(),c=b.findIndex(function(b){return b.getTimeRange().startTime===a.getTimeRange().startTime&&b.getTimeRange().endTime===a.getTimeRange().endTime});return c>=0&&c+1<b.length?b[c+1]:null};b.isEndingSegment=function(a){var b=this.$1();if(!b||!b.length)return!1;b=b[b.length-1].getTimeRange();a=a.getTimeRange();return b.startTime===a.startTime&&b.endTime===a.endTime};b.getSegment=function(a){return this.$1()[a]||null};b.updateWith=function(a){throw new Error("Not implemented: updatedWith")};b.addUpdateListener=function(a){this.$3&&(this.$3(),this.$3=null);return this.$2.addListener("segment_updated",a)};b.getTimeRanges=function(){var a=this.$1();if(a.length===0)return[];else{var b=a[0];a=a[a.length-1];return[{startTime:b.getTimeRange().startTime,endTime:a.getTimeRange().endTime}]}};b.blockTimeRange=function(){};return a}();a=function(){__p&&__p();function a(a,b,c,d,e,f){this.$5=new l(),this.$6=[],this.$8=new i(),this.$1=b,this.$2=c,this.$3=d,this.$4=e,this.$7=f.cloneContext().setType("sidx"),this.$9=a}var b=a.prototype;b.onError=function(a){return this.$5.onError(a)};b.parseInitializationSegment=function(){var a=this,b=this.$1.Initialization[0].$.range,c=r(b);b={getURI:function(){return new k(a.$2)},getTimeRange:function(){return{startTime:0,endTime:0}},getByteRange:function(){return c}};return b};b.parseSegmentsContainer=function(){var a=this,b=function(){p(a.$10(),a.$7,"process_sidx")["catch"](a.$5.emitError)},c=this.$9.getBool("lazy_parse_sidx",!1);c||b();c=new s(function(){return a.$6},this.$8,c?b:null);return c};b.$11=function(a,b){a=new h(new k(a),b.startByte,b.endByte);b=this.$4.request([a],this.$7);a=b.getStream().getReader();return q(a)};b.$10=function(){__p&&__p();var a=this,b=this.$1.$.indexRange,c=r(b);b=[this.$11(this.$2,c)];if(this.$3==="webm"){var d=r(this.$1.Initialization[0].$.range);b.push(this.$11(this.$2,d));d=j.all(b).then(function(b){var c=b[0];b=b[1];a.$6=o.parse(a.$2,c,b)})}else d=b[0].then(function(b){a.$6=n.parse(a.$2,c.startByte,b)});return d.then(function(){a.$8.emit("segment_updated")})};return a}();e.exports=a}),null);
__d("oz-player/parsers/OzVideoContainerType",[],(function(a,b,c,d,e,f){"use strict";function a(a){return(a.split("/")[1]||"").trim()}e.exports={parse:a}}),null);
__d("oz-player/parsers/OzRepresentationParser",["oz-player/manifests/OzRepresentation","oz-player/utils/OzError","oz-player/utils/OzErrorEmitter","oz-player/parsers/OzSegmentTemplateParser","oz-player/parsers/OzSegmentTemplateParserLegacy","oz-player/parsers/OzSidxSegmentsParser","oz-player/parsers/OzVideoContainerType"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,b,c,d,e,f){this.$2=new i(),this.$1=b,this.$3=d,this.$4=e,this.$6=c,this.$7=a,this.$8=f}var b=a.prototype;b.$9=function(){__p&&__p();if(this.$5)return this.$5;if(this.$1.SegmentBase){var a=this.$1.SegmentBase[0],b=this.$1.BaseURL[0]._;this.$5=new l(this.$7,a,b,m.parse(this.$1.$.mimeType),this.$3,this.$4);this.$5.onError(this.$2.emitError)}else if(this.$1.SegmentTemplate){a=this.$6.mpdUrl;if(a===null||a===void 0){b=new h({type:"OZ_REPRESENTATION_PARSER",description:"Missing mpd url for template manifest"});throw b}b=this.$1.SegmentTemplate[0];var c=this.$7.getBool("use_new_template_segment_parser",!1)?j:k;this.$5=new c(this.$7,b,{baseUrl:a,isStaticMpd:this.$8==="static"})}else{c=new h({type:"OZ_REPRESENTATION_PARSER",description:"Unrecognized representation type"});throw c}return this.$5};b.onError=function(a){return this.$2.onError(a)};b.parseInitSegment=function(){return this.$9().parseInitializationSegment()};b.parseBandwidth=function(){return Number(this.$1.$.bandwidth)};b.parseMimeCodecs=function(){return this.$1.$.mimeType+'; codecs="'+this.$1.$.codecs+'"'};b.parseSegmentsContainer=function(){return this.$9().parseSegmentsContainer()};b.parseID=function(){return""+this.$1.$.id};b.parseCustomFieldFirstSegment=function(){var a=this.$6.customRepresentationParsers?this.$6.customRepresentationParsers.firstSegmentParser:null;return a?a(this.$1):null};b.parse=function(){return new g(this.$1,this.parseID(),this.parseMimeCodecs(),this.parseInitSegment(),this.parseSegmentsContainer(),this.parseBandwidth(),this.parseCustomFieldFirstSegment(),this.$6.customRepresentationParsers)};return a}();e.exports=a}),null);
__d("oz-player/parsers/OzVideoRepresentationParser",["oz-player/manifests/OzVideoRepresentation","oz-player/parsers/OzRepresentationParser"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b,c,d,e,f,g){b=a.call(this,b,c,d,e,f,g)||this;b.$OzVideoRepresentationParser1=c;b.$OzVideoRepresentationParser2=d;return b}var c=b.prototype;c.parse=function(){var a=Number.parseInt(this.$OzVideoRepresentationParser1.$.height,10),b=Number.parseInt(this.$OzVideoRepresentationParser1.$.width,10);return new g(this.$OzVideoRepresentationParser1,this.parseID(),this.parseMimeCodecs(),this.parseInitSegment(),this.parseSegmentsContainer(),this.parseBandwidth(),this.parseCustomFieldFirstSegment(),this.$OzVideoRepresentationParser2.customRepresentationParsers,b,a)};return b}(h);e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/yfmK3YA3_Vc/
 */
__d("sax-1.2.4",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={},h={exports:g};function i(){__p&&__p();(function(a){__p&&__p();a.parser=function(a,b){return new c(a,b)};a.SAXParser=c;a.MAX_BUFFER_LENGTH=64*1024;var b=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];a.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function c(b,d){__p&&__p();if(!(this instanceof c))return new c(b,d);var f=this;e(f);f.q=f.c="";f.bufferCheckPosition=a.MAX_BUFFER_LENGTH;f.opt=d||{};f.opt.lowercase=f.opt.lowercase||f.opt.lowercasetags;f.looseCase=f.opt.lowercase?"toLowerCase":"toUpperCase";f.tags=[];f.closed=f.closedRoot=f.sawRoot=!1;f.tag=f.error=null;f.strict=!!b;f.noscript=!!(b||f.opt.noscript);f.state=u.BEGIN;f.strictEntities=f.opt.strictEntities;f.ENTITIES=f.strictEntities?Object.create(a.XML_ENTITIES):Object.create(a.ENTITIES);f.attribList=[];f.opt.xmlns&&(f.ns=Object.create(k));f.trackPosition=f.opt.position!==!1;f.trackPosition&&(f.position=f.line=f.column=0);w(f,"onready")}Object.create||(Object.create=function(a){function b(){}b.prototype=a;a=new b();return a});Object.keys||(Object.keys=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b});function d(c){__p&&__p();var d=Math.max(a.MAX_BUFFER_LENGTH,10),e=0;for(var f=0,g=b.length;f<g;f++){var h=c[b[f]].length;if(h>d)switch(b[f]){case"textNode":y(c);break;case"cdata":x(c,"oncdata",c.cdata);c.cdata="";break;case"script":x(c,"onscript",c.script);c.script="";break;default:A(c,"Max buffer length exceeded: "+b[f])}e=Math.max(e,h)}h=a.MAX_BUFFER_LENGTH-e;c.bufferCheckPosition=h+c.position}function e(a){for(var c=0,d=b.length;c<d;c++)a[b[c]]=""}function f(a){y(a),a.cdata!==""&&(x(a,"oncdata",a.cdata),a.cdata=""),a.script!==""&&(x(a,"onscript",a.script),a.script="")}c.prototype={end:function(){B(this)},write:L,resume:function(){this.error=null;return this},close:function(){return this.write(null)},flush:function(){f(this)}};var g="[CDATA[",h="DOCTYPE",i="http://www.w3.org/XML/1998/namespace",j="http://www.w3.org/2000/xmlns/",k={xml:i,xmlns:j},l=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,m=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,n=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,o=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function p(a){return a===" "||a==="\n"||a==="\r"||a==="\t"}function q(a){return a==='"'||a==="'"}function r(a){return a===">"||p(a)}function s(a,b){return a.test(b)}function t(a,b){return!s(a,b)}var u=0;a.STATE={BEGIN:u++,BEGIN_WHITESPACE:u++,TEXT:u++,TEXT_ENTITY:u++,OPEN_WAKA:u++,SGML_DECL:u++,SGML_DECL_QUOTED:u++,DOCTYPE:u++,DOCTYPE_QUOTED:u++,DOCTYPE_DTD:u++,DOCTYPE_DTD_QUOTED:u++,COMMENT_STARTING:u++,COMMENT:u++,COMMENT_ENDING:u++,COMMENT_ENDED:u++,CDATA:u++,CDATA_ENDING:u++,CDATA_ENDING_2:u++,PROC_INST:u++,PROC_INST_BODY:u++,PROC_INST_ENDING:u++,OPEN_TAG:u++,OPEN_TAG_SLASH:u++,ATTRIB:u++,ATTRIB_NAME:u++,ATTRIB_NAME_SAW_WHITE:u++,ATTRIB_VALUE:u++,ATTRIB_VALUE_QUOTED:u++,ATTRIB_VALUE_CLOSED:u++,ATTRIB_VALUE_UNQUOTED:u++,ATTRIB_VALUE_ENTITY_Q:u++,ATTRIB_VALUE_ENTITY_U:u++,CLOSE_TAG:u++,CLOSE_TAG_SAW_WHITE:u++,SCRIPT:u++,SCRIPT_ENDING:u++};a.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"};a.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};Object.keys(a.ENTITIES).forEach(function(b){var c=a.ENTITIES[b];c=typeof c==="number"?String.fromCharCode(c):c;a.ENTITIES[b]=c});for(var v in a.STATE)a.STATE[a.STATE[v]]=v;u=a.STATE;function w(a,b,c){a[b]&&a[b](c)}function x(a,b,c){a.textNode&&y(a),w(a,b,c)}function y(a){a.textNode=z(a.opt,a.textNode),a.textNode&&w(a,"ontext",a.textNode),a.textNode=""}function z(a,b){a.trim&&(b=b.trim());a.normalize&&(b=b.replace(/\s+/g," "));return b}function A(a,b){y(a);a.trackPosition&&(b+="\nLine: "+a.line+"\nColumn: "+a.column+"\nChar: "+a.c);b=new Error(b);a.error=b;w(a,"onerror",b);return a}function B(a){a.sawRoot&&!a.closedRoot&&C(a,"Unclosed root tag");a.state!==u.BEGIN&&a.state!==u.BEGIN_WHITESPACE&&a.state!==u.TEXT&&A(a,"Unexpected end");y(a);a.c="";a.closed=!0;w(a,"onend");c.call(a,a.strict,a.opt);return a}function C(a,b){if(typeof a!=="object"||!(a instanceof c))throw new Error("bad call to strictFail");a.strict&&A(a,b)}function D(a){a.strict||(a.tagName=a.tagName[a.looseCase]());var b=a.tags[a.tags.length-1]||a,c=a.tag={name:a.tagName,attributes:{}};a.opt.xmlns&&(c.ns=b.ns);a.attribList.length=0;x(a,"onopentagstart",c)}function E(a,b){var c=a.indexOf(":");c=c<0?["",a]:a.split(":");var d=c[0];c=c[1];b&&a==="xmlns"&&(d="xmlns",c="");return{prefix:d,local:c}}function F(a){__p&&__p();a.strict||(a.attribName=a.attribName[a.looseCase]());if(a.attribList.indexOf(a.attribName)!==-1||a.tag.attributes.hasOwnProperty(a.attribName)){a.attribName=a.attribValue="";return}if(a.opt.xmlns){var b=E(a.attribName,!0),c=b.prefix;b=b.local;if(c==="xmlns")if(b==="xml"&&a.attribValue!==i)C(a,"xml: prefix must be bound to "+i+"\nActual: "+a.attribValue);else if(b==="xmlns"&&a.attribValue!==j)C(a,"xmlns: prefix must be bound to "+j+"\nActual: "+a.attribValue);else{c=a.tag;var d=a.tags[a.tags.length-1]||a;c.ns===d.ns&&(c.ns=Object.create(d.ns));c.ns[b]=a.attribValue}a.attribList.push([a.attribName,a.attribValue])}else a.tag.attributes[a.attribName]=a.attribValue,x(a,"onattribute",{name:a.attribName,value:a.attribValue});a.attribName=a.attribValue=""}function G(a,b){__p&&__p();if(a.opt.xmlns){var c=a.tag,d=E(a.tagName);c.prefix=d.prefix;c.local=d.local;c.uri=c.ns[d.prefix]||"";c.prefix&&!c.uri&&(C(a,"Unbound namespace prefix: "+JSON.stringify(a.tagName)),c.uri=d.prefix);d=a.tags[a.tags.length-1]||a;c.ns&&d.ns!==c.ns&&Object.keys(c.ns).forEach(function(b){x(a,"onopennamespace",{prefix:b,uri:c.ns[b]})});for(var d=0,e=a.attribList.length;d<e;d++){var f=a.attribList[d],g=f[0];f=f[1];var h=E(g,!0),i=h.prefix;h=h.local;var j=i===""?"":c.ns[i]||"";f={name:g,value:f,prefix:i,local:h,uri:j};i&&i!=="xmlns"&&!j&&(C(a,"Unbound namespace prefix: "+JSON.stringify(i)),f.uri=i);a.tag.attributes[g]=f;x(a,"onattribute",f)}a.attribList.length=0}a.tag.isSelfClosing=!!b;a.sawRoot=!0;a.tags.push(a.tag);x(a,"onopentag",a.tag);b||(!a.noscript&&a.tagName.toLowerCase()==="script"?a.state=u.SCRIPT:a.state=u.TEXT,a.tag=null,a.tagName="");a.attribName=a.attribValue="";a.attribList.length=0}function H(a){__p&&__p();if(!a.tagName){C(a,"Weird empty close tag.");a.textNode+="</>";a.state=u.TEXT;return}if(a.script){if(a.tagName!=="script"){a.script+="</"+a.tagName+">";a.tagName="";a.state=u.SCRIPT;return}x(a,"onscript",a.script);a.script=""}var b=a.tags.length,c=a.tagName;a.strict||(c=c[a.looseCase]());var d=c;while(b--){var e=a.tags[b];if(e.name!==d)C(a,"Unexpected close tag");else break}if(b<0){C(a,"Unmatched closing tag: "+a.tagName);a.textNode+="</"+a.tagName+">";a.state=u.TEXT;return}a.tagName=c;e=a.tags.length;while(e-->b){var f=a.tag=a.tags.pop();a.tagName=a.tag.name;x(a,"onclosetag",a.tagName);d={};for(var g in f.ns)d[g]=f.ns[g];c=a.tags[a.tags.length-1]||a;a.opt.xmlns&&f.ns!==c.ns&&Object.keys(f.ns).forEach(function(b){var c=f.ns[b];x(a,"onclosenamespace",{prefix:b,uri:c})})}b===0&&(a.closedRoot=!0);a.tagName=a.attribValue=a.attribName="";a.attribList.length=0;a.state=u.TEXT}function I(a){__p&&__p();var b=a.entity,c=b.toLowerCase(),d,e="";if(a.ENTITIES[b])return a.ENTITIES[b];if(a.ENTITIES[c])return a.ENTITIES[c];b=c;b.charAt(0)==="#"&&(b.charAt(1)==="x"?(b=b.slice(2),d=parseInt(b,16),e=d.toString(16)):(b=b.slice(1),d=parseInt(b,10),e=d.toString(10)));b=b.replace(/^0+/,"");if(isNaN(d)||e.toLowerCase()!==b){C(a,"Invalid character entity");return"&"+a.entity+";"}return String.fromCodePoint(d)}function J(a,b){b==="<"?(a.state=u.OPEN_WAKA,a.startTagPosition=a.position):p(b)||(C(a,"Non-whitespace before first tag."),a.textNode=b,a.state=u.TEXT)}function K(a,b){var c="";b<a.length&&(c=a.charAt(b));return c}function L(a){__p&&__p();var b=this;if(this.error)throw this.error;if(b.closed)return A(b,"Cannot write after close. Assign an onready handler.");if(a===null)return B(b);typeof a==="object"&&(a=a.toString());var c=0,e="";while(!0){e=K(a,c++);b.c=e;if(!e)break;b.trackPosition&&(b.position++,e==="\n"?(b.line++,b.column=0):b.column++);switch(b.state){case u.BEGIN:b.state=u.BEGIN_WHITESPACE;if(e==="\ufeff")continue;J(b,e);continue;case u.BEGIN_WHITESPACE:J(b,e);continue;case u.TEXT:if(b.sawRoot&&!b.closedRoot){var f=c-1;while(e&&e!=="<"&&e!=="&")e=K(a,c++),e&&b.trackPosition&&(b.position++,e==="\n"?(b.line++,b.column=0):b.column++);b.textNode+=a.substring(f,c-1)}e==="<"&&!(b.sawRoot&&b.closedRoot&&!b.strict)?(b.state=u.OPEN_WAKA,b.startTagPosition=b.position):(!p(e)&&(!b.sawRoot||b.closedRoot)&&C(b,"Text data outside of root node."),e==="&"?b.state=u.TEXT_ENTITY:b.textNode+=e);continue;case u.SCRIPT:e==="<"?b.state=u.SCRIPT_ENDING:b.script+=e;continue;case u.SCRIPT_ENDING:e==="/"?b.state=u.CLOSE_TAG:(b.script+="<"+e,b.state=u.SCRIPT);continue;case u.OPEN_WAKA:if(e==="!")b.state=u.SGML_DECL,b.sgmlDecl="";else if(!p(e))if(s(l,e))b.state=u.OPEN_TAG,b.tagName=e;else if(e==="/")b.state=u.CLOSE_TAG,b.tagName="";else if(e==="?")b.state=u.PROC_INST,b.procInstName=b.procInstBody="";else{C(b,"Unencoded <");if(b.startTagPosition+1<b.position){f=b.position-b.startTagPosition;e=new Array(f).join(" ")+e}b.textNode+="<"+e;b.state=u.TEXT}continue;case u.SGML_DECL:(b.sgmlDecl+e).toUpperCase()===g?(x(b,"onopencdata"),b.state=u.CDATA,b.sgmlDecl="",b.cdata=""):b.sgmlDecl+e==="--"?(b.state=u.COMMENT,b.comment="",b.sgmlDecl=""):(b.sgmlDecl+e).toUpperCase()===h?(b.state=u.DOCTYPE,(b.doctype||b.sawRoot)&&C(b,"Inappropriately located doctype declaration"),b.doctype="",b.sgmlDecl=""):e===">"?(x(b,"onsgmldeclaration",b.sgmlDecl),b.sgmlDecl="",b.state=u.TEXT):q(e)?(b.state=u.SGML_DECL_QUOTED,b.sgmlDecl+=e):b.sgmlDecl+=e;continue;case u.SGML_DECL_QUOTED:e===b.q&&(b.state=u.SGML_DECL,b.q="");b.sgmlDecl+=e;continue;case u.DOCTYPE:e===">"?(b.state=u.TEXT,x(b,"ondoctype",b.doctype),b.doctype=!0):(b.doctype+=e,e==="["?b.state=u.DOCTYPE_DTD:q(e)&&(b.state=u.DOCTYPE_QUOTED,b.q=e));continue;case u.DOCTYPE_QUOTED:b.doctype+=e;e===b.q&&(b.q="",b.state=u.DOCTYPE);continue;case u.DOCTYPE_DTD:b.doctype+=e;e==="]"?b.state=u.DOCTYPE:q(e)&&(b.state=u.DOCTYPE_DTD_QUOTED,b.q=e);continue;case u.DOCTYPE_DTD_QUOTED:b.doctype+=e;e===b.q&&(b.state=u.DOCTYPE_DTD,b.q="");continue;case u.COMMENT:e==="-"?b.state=u.COMMENT_ENDING:b.comment+=e;continue;case u.COMMENT_ENDING:e==="-"?(b.state=u.COMMENT_ENDED,b.comment=z(b.opt,b.comment),b.comment&&x(b,"oncomment",b.comment),b.comment=""):(b.comment+="-"+e,b.state=u.COMMENT);continue;case u.COMMENT_ENDED:e!==">"?(C(b,"Malformed comment"),b.comment+="--"+e,b.state=u.COMMENT):b.state=u.TEXT;continue;case u.CDATA:e==="]"?b.state=u.CDATA_ENDING:b.cdata+=e;continue;case u.CDATA_ENDING:e==="]"?b.state=u.CDATA_ENDING_2:(b.cdata+="]"+e,b.state=u.CDATA);continue;case u.CDATA_ENDING_2:e===">"?(b.cdata&&x(b,"oncdata",b.cdata),x(b,"onclosecdata"),b.cdata="",b.state=u.TEXT):e==="]"?b.cdata+="]":(b.cdata+="]]"+e,b.state=u.CDATA);continue;case u.PROC_INST:e==="?"?b.state=u.PROC_INST_ENDING:p(e)?b.state=u.PROC_INST_BODY:b.procInstName+=e;continue;case u.PROC_INST_BODY:if(!b.procInstBody&&p(e))continue;else e==="?"?b.state=u.PROC_INST_ENDING:b.procInstBody+=e;continue;case u.PROC_INST_ENDING:e===">"?(x(b,"onprocessinginstruction",{name:b.procInstName,body:b.procInstBody}),b.procInstName=b.procInstBody="",b.state=u.TEXT):(b.procInstBody+="?"+e,b.state=u.PROC_INST_BODY);continue;case u.OPEN_TAG:s(m,e)?b.tagName+=e:(D(b),e===">"?G(b):e==="/"?b.state=u.OPEN_TAG_SLASH:(p(e)||C(b,"Invalid character in tag name"),b.state=u.ATTRIB));continue;case u.OPEN_TAG_SLASH:e===">"?(G(b,!0),H(b)):(C(b,"Forward-slash in opening tag not followed by >"),b.state=u.ATTRIB);continue;case u.ATTRIB:if(p(e))continue;else e===">"?G(b):e==="/"?b.state=u.OPEN_TAG_SLASH:s(l,e)?(b.attribName=e,b.attribValue="",b.state=u.ATTRIB_NAME):C(b,"Invalid attribute name");continue;case u.ATTRIB_NAME:e==="="?b.state=u.ATTRIB_VALUE:e===">"?(C(b,"Attribute without value"),b.attribValue=b.attribName,F(b),G(b)):p(e)?b.state=u.ATTRIB_NAME_SAW_WHITE:s(m,e)?b.attribName+=e:C(b,"Invalid attribute name");continue;case u.ATTRIB_NAME_SAW_WHITE:if(e==="=")b.state=u.ATTRIB_VALUE;else if(p(e))continue;else C(b,"Attribute without value"),b.tag.attributes[b.attribName]="",b.attribValue="",x(b,"onattribute",{name:b.attribName,value:""}),b.attribName="",e===">"?G(b):s(l,e)?(b.attribName=e,b.state=u.ATTRIB_NAME):(C(b,"Invalid attribute name"),b.state=u.ATTRIB);continue;case u.ATTRIB_VALUE:if(p(e))continue;else q(e)?(b.q=e,b.state=u.ATTRIB_VALUE_QUOTED):(C(b,"Unquoted attribute value"),b.state=u.ATTRIB_VALUE_UNQUOTED,b.attribValue=e);continue;case u.ATTRIB_VALUE_QUOTED:if(e!==b.q){e==="&"?b.state=u.ATTRIB_VALUE_ENTITY_Q:b.attribValue+=e;continue}F(b);b.q="";b.state=u.ATTRIB_VALUE_CLOSED;continue;case u.ATTRIB_VALUE_CLOSED:p(e)?b.state=u.ATTRIB:e===">"?G(b):e==="/"?b.state=u.OPEN_TAG_SLASH:s(l,e)?(C(b,"No whitespace between attributes"),b.attribName=e,b.attribValue="",b.state=u.ATTRIB_NAME):C(b,"Invalid attribute name");continue;case u.ATTRIB_VALUE_UNQUOTED:if(!r(e)){e==="&"?b.state=u.ATTRIB_VALUE_ENTITY_U:b.attribValue+=e;continue}F(b);e===">"?G(b):b.state=u.ATTRIB;continue;case u.CLOSE_TAG:if(!b.tagName)if(p(e))continue;else t(l,e)?b.script?(b.script+="</"+e,b.state=u.SCRIPT):C(b,"Invalid tagname in closing tag."):b.tagName=e;else e===">"?H(b):s(m,e)?b.tagName+=e:b.script?(b.script+="</"+b.tagName,b.tagName="",b.state=u.SCRIPT):(p(e)||C(b,"Invalid tagname in closing tag"),b.state=u.CLOSE_TAG_SAW_WHITE);continue;case u.CLOSE_TAG_SAW_WHITE:if(p(e))continue;e===">"?H(b):C(b,"Invalid characters in closing tag");continue;case u.TEXT_ENTITY:case u.ATTRIB_VALUE_ENTITY_Q:case u.ATTRIB_VALUE_ENTITY_U:var i,j;switch(b.state){case u.TEXT_ENTITY:i=u.TEXT;j="textNode";break;case u.ATTRIB_VALUE_ENTITY_Q:i=u.ATTRIB_VALUE_QUOTED;j="attribValue";break;case u.ATTRIB_VALUE_ENTITY_U:i=u.ATTRIB_VALUE_UNQUOTED;j="attribValue";break}e===";"?(b[j]+=I(b),b.entity="",b.state=i):s(b.entity.length?o:n,e)?b.entity+=e:(C(b,"Invalid character in entity name"),b[j]+="&"+b.entity+e,b.entity="",b.state=i);continue;default:throw new Error(b,"Unknown state: "+b.state)}}b.position>=b.bufferCheckPosition&&d(b);return b}String.fromCodePoint||(function(){__p&&__p();var a=String.fromCharCode,b=Math.floor,c=function(){__p&&__p();var c=16384,d=[],e,f,g=-1,h=arguments.length;if(!h)return"";var i="";while(++g<h){var j=Number(arguments[g]);if(!isFinite(j)||j<0||j>1114111||b(j)!==j)throw RangeError("Invalid code point: "+j);j<=65535?d.push(j):(j-=65536,e=(j>>10)+55296,f=j%1024+56320,d.push(e,f));(g+1===h||d.length>c)&&(i+=a.apply(null,d),d.length=0)}return i};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:c,configurable:!0,writable:!0}):String.fromCodePoint=c})()})(typeof g==="undefined"?this.sax={}:g)}var j=!1,k=function(){j||(j=!0,i());return h.exports};a=function(a){switch(a){case void 0:return k()}};e.exports=a}),null);
__d("sax",["sax-1.2.4"],(function(a,b,c,d,e,f){e.exports=b("sax-1.2.4")()}),null);
__d("oz-player/shims/OzSax",["sax"],(function(a,b,c,d,e,f){e.exports=b("sax")}),null);
__d("oz-player/parsers/OzXmlParser",["oz-player/shims/OzSax","oz-player/shims/ozvariant"],(function(a,b,c,d,e,f,g,h){__p&&__p();function i(){return{$:{}}}a=function(){"use strict";__p&&__p();function a(){__p&&__p();var a=this;this.$4=[];this.$6=function(b){b=b.name;var c=i(),d=a.$3||a.$2;d||h(0,219);Object.prototype.hasOwnProperty.call(d,b)||(d[b]=[]);d[b].push(c);a.$4.push(d);a.$3=c};this.$8=function(){var b=a.$4.pop();a.$3=b};this.$9=function(b){b=b.trim();if(!b)return;var c=a.$3;c||h(0,220);c._&&h(0,221);c._=b};this.$7=function(b){var c=b.name;b=b.value;var d=a.$3;d||h(0,222);d.$[c]=b};var b=!0;b=this.$1=g.parser(b);b.onerror=this.$5;b.onopentagstart=this.$6;b.onattribute=this.$7;b.onclosetag=this.$8;b.ontext=this.$9}var b=a.prototype;b.$5=function(a){throw a};b.parse=function(a){var b=i();this.$2=b;try{this.$1.write(a).close()}catch(a){throw a}this.$3=null;this.$2=null;this.$4=[];return b};return a}();e.exports=a}),null);
__d("oz-player/parsers/OzMpdParser",["oz-player/shims/OzEventEmitter","oz-player/shims/ozvariant","oz-player/utils/OzErrorEmitter","oz-player/parsers/OzRepresentationParser","oz-player/parsers/OzVideoRepresentationParser","oz-player/parsers/OzXmlParser"],(function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";__p&&__p();var m=function(b){__p&&__p();babelHelpers.inheritsLoose(a,b);function a(a,c,d,e,f,g,h){__p&&__p();var i;i=b.call(this)||this;i.$SimpleMpd1=a;i.$SimpleMpd4=f;i.$SimpleMpd2=c;i.$SimpleMpd3=d;i.$SimpleMpd5=e;i.$SimpleMpd6=g;i.$SimpleMpd7=h;return i}var c=a.prototype;c.getLocation=function(){return this.$SimpleMpd5};c.getMinimumUpdatePeriod=function(){return this.$SimpleMpd4};c.getVideoRepresentations=function(){return this.$SimpleMpd2};c.getAudioRepresentations=function(){return this.$SimpleMpd3};c.getCustomField=function(a){var b=this.$SimpleMpd6.get(a);if(!b)throw new Error("Custom parser not specified for field "+a);try{return b(this.$SimpleMpd1)}catch(a){return null}};c.isStaticMpd=function(){return this.$SimpleMpd7};c.updateWith=function(a){this.$SimpleMpd8(this.$SimpleMpd2,a.getVideoRepresentations()),this.$SimpleMpd8(this.$SimpleMpd3,a.getAudioRepresentations()),this.$SimpleMpd7=a.isStaticMpd(),this.$SimpleMpd4=a.getMinimumUpdatePeriod(),this.emit("updated")};c.blockTimeRange=function(a){this.$SimpleMpd2.forEach(function(b){return b.blockTimeRange(a)}),this.$SimpleMpd3.forEach(function(b){return b.blockTimeRange(a)})};c.unblockTimeRange=function(){this.blockTimeRange({startTime:0,endTime:0})};c.$SimpleMpd8=function(a,b){__p&&__p();for(var c=0;c<b.length;c++){var d=b[c],e=!1;for(var f=0;f<a.length;f++){var g=a[f];if(d.getID()===g.getID()){g.updateWith(d);e=!0;break}}e||a.push(d)}};return a}(g);a=function(){__p&&__p();function a(a,b,c,d){this.$2=new i(),this.$5=a,this.$1=c,this.$3=d,this.$4=b}var b=a.prototype;b.onError=function(a){return this.$2.onError(a)};b.parse=function(a){__p&&__p();var b=null;a=new l().parse(a);b=a.MPD[0];b||h(0,3628);b.Period.length>0||h(0,3629);a=b.Period[0].AdaptationSet||[];var c=this.$6(b),d=this.$7(a,c);d.sort(function(a,b){return a.getHeight()-b.getHeight()});a=this.$8(a,"audio",c);var e=this.$4.mpdUrl;return new m(b,d,a,e,this.$9(b),this.$4.customParsers||new Map(),c==="static")};b.$9=function(a){a=a.$.minimumUpdatePeriod||"";a=/\d+/g.exec(a);if(a&&a.length){a=a[0];return a?Number.parseInt(a,10):null}return null};b.$6=function(a){return a.$.type||"static"};b.$7=function(a,b){var c=this;a=this.$10(a,"video");return a?a.Representation.map(function(a){a=new k(c.$5,a,c.$4,c.$1,c.$3,b);a.onError(c.$2.emitError);return a.parse()}):[]};b.$10=function(a,b){return a.find(function(a){a=a.Representation;return a&&a.length&&a[0].$.mimeType.indexOf(b)!==-1})};b.$8=function(a,b,c){var d=this;a=this.$10(a,b);return a?a.Representation.map(function(a){a=new j(d.$5,a,d.$4,d.$1,d.$3,c);a.onError(d.$2.emitError);return a.parse()}):[]};return a}();e.exports=a}),null);
__d("oz-player/shims/ozClearTimeout",["clearTimeout"],(function(a,b,c,d,e,f){"use strict";e.exports=b("clearTimeout")}),null);
__d("oz-player/shims/ozSetTimeoutAcrossTransitions",["setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";e.exports=b("setTimeoutAcrossTransitions")}),null);
__d("oz-player/utils/OzMpdUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){var b=[];b.push.apply(b,a.getVideoRepresentations().concat(a.getAudioRepresentations()));if(b.length){a=b[0].getTimeRanges();return a.length>0?a[a.length-1]:null}return null}e.exports={getMpdLastTimeRange:a}}),null);
__d("oz-player/utils/OzStreamInterruptChecker",["oz-player/shims/OzEventEmitter","oz-player/utils/OzMpdUtils"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=h.getMpdLastTimeRange;a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this)||this;d.$OzStreamInterruptChecker3=0;d.$OzStreamInterruptChecker4=null;d.$OzStreamInterruptChecker5=!1;d.$OzStreamInterruptChecker1=b;d.$OzStreamInterruptChecker2=c;return d}var c=b.prototype;c.notifyMpdUpdated=function(){var a=i(this.$OzStreamInterruptChecker1),b=a?a.endTime:null;b!==null&&b===this.$OzStreamInterruptChecker4?this.$OzStreamInterruptChecker3++:(this.$OzStreamInterruptChecker3=0,this.$OzStreamInterruptChecker5&&this.$OzStreamInterruptChecker4!==null&&this.$OzStreamInterruptChecker4!==void 0&&a!==null&&a!==void 0&&this.emit("streamResumedAt",a.startTime),this.$OzStreamInterruptChecker5=!1);a=this.$OzStreamInterruptChecker2.getNumber("stream_interrupt_check_mpd_stale_count_threshold",0);!this.$OzStreamInterruptChecker5&&a>0&&this.$OzStreamInterruptChecker3>=a&&b!==null&&b!==void 0&&(this.emit("streamInterruptAt",b),this.$OzStreamInterruptChecker5=!0);this.$OzStreamInterruptChecker4=b};return b}(g);e.exports=a}),null);
__d("oz-player/parsers/OzMpdUpdater",["oz-player/shims/ozClearTimeout","oz-player/shims/OzEventEmitter","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/shims/OzSubscriptionsHandler","oz-player/utils/OzError","oz-player/utils/OzErrorEmitter","oz-player/utils/OzMpdUtils","oz-player/utils/OzReadableStreamUtils","oz-player/utils/OzStreamInterruptChecker","oz-player/parsers/OzMpdParser"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){"use strict";__p&&__p();var q=m.getMpdLastTimeRange,r=n.pumpString;a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b,c,d,e,f){__p&&__p();var g;g=a.call(this)||this;g.$OzMpdUpdater8=new l();g.$OzMpdUpdater10=new j();g.$OzMpdUpdater11=!1;g.$OzMpdUpdater13=function(){__p&&__p();var a=g.$OzMpdUpdater3.getLocation();if(!a)return;if(g.$OzMpdUpdater7.getBool("live_disable_mpd_updates_when_paused",!1)&&!g.$OzMpdUpdater12.isPlaying()){g.setupUpdateLoop();return}var b=g.$OzMpdUpdater6.getOperationLogger("update_manifest").start();g.$OzMpdUpdater14(a).then(function(c){__p&&__p();var d=new p(g.$OzMpdUpdater7,{mpdUrl:a},g.$OzMpdUpdater1,g.$OzMpdUpdater6);d.onError(function(a){g.$OzMpdUpdater8.emitError(a),b.setError(a).log()});d=d.parse(c);g.$OzMpdUpdater3.updateWith(d);d.isStaticMpd()&&!g.$OzMpdUpdater3.isStaticMpd()&&g.emit("streamTransitionToStatic");c=q(g.$OzMpdUpdater3);d=c?c.endTime:null;b.setLiveheadPosition(d).setManifestType(g.$OzMpdUpdater3.isStaticMpd()?"static":"dynamic").log();g.$OzMpdUpdater9.notifyMpdUpdated();g.setupUpdateLoop()})["catch"](function(a){__p&&__p();b.setError(a).log();if(g.$OzMpdUpdater7.getBool("live_gracefully_handle_mpd_errors",!1)){var c;a instanceof k&&(c=a.getExtra().code||"");switch(c){case"410":g.$OzMpdUpdater11=!0,g.emit("streamGone");case"0":g.setupUpdateLoop();return}}g.$OzMpdUpdater8.emitError(a)})};var h=c.getMinimumUpdatePeriod();g.$OzMpdUpdater1=d;g.$OzMpdUpdater3=c;g.$OzMpdUpdater12=e;g.$OzMpdUpdater4=h;g.$OzMpdUpdater6=f.cloneContext().setType("manifest");g.$OzMpdUpdater7=b;g.$OzMpdUpdater9=new o(g.$OzMpdUpdater3,g.$OzMpdUpdater7);g.$OzMpdUpdater10.addSubscriptions(g.$OzMpdUpdater9.addListener("streamResumedAt",function(a){g.emit("streamResumedAt",a)}),g.$OzMpdUpdater9.addListener("streamInterruptAt",function(a){g.emit("streamInterruptAt",a)}));return g}var c=b.prototype;c.setupUpdateLoop=function(){var a=!this.$OzMpdUpdater11;a&&this.$OzMpdUpdater7.getBool("stop_manifest_update_when_static",!1)&&(a=!this.$OzMpdUpdater3.isStaticMpd(),this.$OzMpdUpdater4=this.$OzMpdUpdater3.getMinimumUpdatePeriod());a&&this.$OzMpdUpdater4&&this.$OzMpdUpdater3.getLocation()&&(this.$OzMpdUpdater5=i(this.$OzMpdUpdater13,this.$OzMpdUpdater4*1e3))};c.onError=function(a){return this.$OzMpdUpdater8.onError(a)};c.$OzMpdUpdater14=function(a){a=this.$OzMpdUpdater1.requestRawUrl(a,{credentials:"same-origin"},this.$OzMpdUpdater6);a=a.getStream().getReader();return r(a)};c.destroy=function(){this.$OzMpdUpdater5&&g(this.$OzMpdUpdater5),this.$OzMpdUpdater10.release()};return b}(h);e.exports=a}),null);
__d("oz-player/utils/OzBufferingUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();c=.1;d=1;var g=.2;function a(a,b,c,d){__p&&__p();if(h(a,c,d))return!0;c=a.currentTime;d=0;for(var e=0;e<a.buffered.length;e++){var f=a.buffered.start(e),g=a.buffered.end(e);if(f<=c&&g>=c){d=g;break}}return d-c>b}function h(a,b,c){var d=a.currentTime,e=0;for(var f=0;f<a.buffered.length;f++){var h=a.buffered.start(f),i=a.buffered.end(f);if(h<=d&&i>=d){e=i;break}}return(!c.getBool("reach_end_only_when_video_ended",!1)||a.ended)&&(Math.abs(e-b)<=g||Math.abs(d-b)<=g)}function b(a,b){a=a?a.getSourceBufferState():null;if(!a)return 0;b=b.getCurrentTime();return i(b,a.getBufferedRanges())}function i(a,b){__p&&__p();var c=null;for(var b=b,d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;f.startTime<=a&&f.endTime>a&&(c=f)}return!c?0:c.endTime-a}e.exports={getBufferAheadFromCurrentTime:i,getBufferAheadFromPlaybackStates:b,hasEnoughBuffer:a,hasBufferedToOrReachedEnd:h,BUFFER_OVERFLOW_THRESHOLD:d,BUFFER_UNDERFLOW_THRESHOLD:c,BUFFER_FUDGE_FACTOR:g}}),null);
__d("oz-player/playback_controls/OzPlaybackTimeRangeManager",["oz-player/utils/OzBufferingUtils"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=g.getBufferAheadFromCurrentTime;a=function(){__p&&__p();function a(a,b,c){this.$3=null,this.$4=0,this.$5=0,this.$7=!0,this.$6=a,this.$1=b,this.$2=c}var b=a.prototype;b.setTimelineBlockingEnabled=function(a){this.$7=a,this.$7||this.$2.unblockTimeRange()};b.setTimeRangeProvider=function(a){var b=this;this.$3!=null&&this.$3.remove();this.$3=a.addUpdateListener(function(){var c=a.getTimeRanges(),d=0;if(c.length!==0){c=c[c.length-1];d=c.endTime}b.$8(d)})};b.$8=function(a){__p&&__p();if(!this.$7)return;if(this.$4===a)return;this.$4=a;if(this.$1.currentTime<=this.$5)return;a=this.$6.getNumber("livehead_fall_behind_block_threshold",0);var b=this.$6.getNumber("live_time_range_block_margin",0);if(b!==0&&a!==0&&this.$1.duration-this.$1.currentTime>a){a=[];for(var c=0;c<this.$1.buffered.length;c++)a.push({startTime:this.$1.buffered.start(c),endTime:this.$1.buffered.end(c)});c=h(this.$1.currentTime,a);this.$5=this.$1.currentTime+Math.min(c,b);a={startTime:this.$5,endTime:this.$1.duration-b};this.$2.blockTimeRange(a)}};b.destroy=function(){this.$3!=null&&(this.$3.remove(),this.$3=null)};return a}();e.exports=a}),null);
__d("oz-player/strategies/LiveheadSeekaheadStrategy",[],(function(a,b,c,d,e,f){"use strict";var g=.05;function a(a,b){b=Math.max.apply(Math,b.map(function(a){return a.startTime}));return b-a>0?b-a+g:0}e.exports={computeSeekAhead:a}}),null);
__d("oz-player/utils/OzTimelineGapUtil",["oz-player/utils/OzNumericalHelper","oz-player/utils/OzNumericalRangeUtil"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=1.5;function a(a,b){b=b.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}});return new h().findCurrentRangeIndex(a,b)===-1}function b(a,b){var c=b.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}});c=new h().findCurrentRangeIndex(a,c);if(c!==-1){b=b[c];return g.lessThanOrEqual(a,b.endTime)&&b.endTime-a<i}return!1}e.exports={isNearGap:b,isInGap:a}}),null);
__d("oz-player/playback_controls/OzPlayheadManager",["oz-player/shims/OzEventListener","oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozvariant","oz-player/strategies/LiveheadSeekaheadStrategy","oz-player/utils/OzNumericalRangeUtil","oz-player/utils/OzTimelineGapUtil"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m){"use strict";__p&&__p();var n=k.computeSeekAhead,o=m.isInGap,p=m.isNearGap;a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b){__p&&__p();var c;c=a.call(this)||this;c.$OzPlayheadManager2=new i();c.$OzPlayheadManager3=new i();c.$OzPlayheadManager4=new Set();c.$OzPlayheadManager10=new Set();c.$OzPlayheadManager12=function(a){c.$OzPlayheadManager1.currentTime=a};c.$OzPlayheadManager14=!1;var d=b.video,e=b.mpd,f=b.playheadCatchup,h=b.playbackState,j=b.config,k=b.perfLoggerProvider,l=b.seekHandler;b=b.initialPlaybackPosition;c.$OzPlayheadManager1=d;c.$OzPlayheadManager6=j;c.$OzPlayheadManager7=h;c.$OzPlayheadManager8=e;c.$OzPlayheadManager9=f;c.$OzPlayheadManager11=k;l&&(c.$OzPlayheadManager12=l);c.$OzPlayheadManager13=b;c.$OzPlayheadManager2.addSubscriptions(g.listen(c.$OzPlayheadManager1,"durationchange",function(){c.$OzPlayheadManager15(),c.$OzPlayheadManager16("durationchange")}),g.listen(c.$OzPlayheadManager1,"pause",c.$OzPlayheadManager16.bind(babelHelpers.assertThisInitialized(c),"pause")),g.listen(c.$OzPlayheadManager1,"play",c.$OzPlayheadManager16.bind(babelHelpers.assertThisInitialized(c),"play")),g.listen(c.$OzPlayheadManager1,"playing",c.$OzPlayheadManager16.bind(babelHelpers.assertThisInitialized(c),"playing")),g.listen(c.$OzPlayheadManager1,"waiting",c.$OzPlayheadManager16.bind(babelHelpers.assertThisInitialized(c),"waiting")));return c}var c=b.prototype;c.observeSourceBufferState=function(a,b){var c=this;this.$OzPlayheadManager4.has(a)&&j(0,4179);this.$OzPlayheadManager4.add(a);this.$OzPlayheadManager2.addSubscriptions(a.addEventListener("buffer_updated",function(){return c.$OzPlayheadManager17(a,b)}))};c.$OzPlayheadManager17=function(a,b){__p&&__p();var c=[];if(this.$OzPlayheadManager6.getBool("check_buffer_range_once_for_playhead_update",!1)&&this.$OzPlayheadManager10.has(a))return;this.$OzPlayheadManager4.forEach(function(a){a=a.getBufferedRanges();a.length&&c.push(a[0])});c.length>0&&this.$OzPlayheadManager10.add(a);a=this.$OzPlayheadManager6.getBool("seek_ahead_use_native_current_time",!1)?this.$OzPlayheadManager1.currentTime:this.$OzPlayheadManager7.getCurrentTime();a=n(a,c);var d=this.$OzPlayheadManager6.getNumber("timeline_offset_threshold",0);a>0&&(d===0||a<d)&&this.$OzPlayheadManager18(this.$OzPlayheadManager1.currentTime+a,"first_available_buffer","source_buffer",b)};c.setTimeRangeProvider=function(a){this.$OzPlayheadManager3.release(),this.$OzPlayheadManager3.engage(),this.$OzPlayheadManager3.addSubscriptions(a.addUpdateListener(this.$OzPlayheadManager16.bind(this,"time_range_updated"))),this.$OzPlayheadManager5=a,this.$OzPlayheadManager16("time_range_set")};c.$OzPlayheadManager15=function(){var a=this.$OzPlayheadManager1.duration;if(this.$OzPlayheadManager13!==0&&!this.$OzPlayheadManager14&&!isNaN(a)&&a!==Infinity){a=this.$OzPlayheadManager13>0?this.$OzPlayheadManager13:a+this.$OzPlayheadManager13;this.$OzPlayheadManager14=!0;this.$OzPlayheadManager18(a,"initial_playback_position","");this.emit("initialPlaybackPositionSet",a)}};c.$OzPlayheadManager16=function(a,b){__p&&__p();b===void 0&&(b=null);var c=this.$OzPlayheadManager9;if(c&&c.isEnabled(this.$OzPlayheadManager1,this.$OzPlayheadManager8)){c=c.computeNewPlayheadPosition(this.$OzPlayheadManager1,this.$OzPlayheadManager8);if(typeof c==="number"){this.$OzPlayheadManager18(c,"live_catch_up_strategy",a,b);return}}c=this.$OzPlayheadManager6.getNumber("auto_seek_playhead_slack",0);if(c===0)return;var d=this.$OzPlayheadManager5;if(!d)return;var e=this.$OzPlayheadManager7.getCurrentTime(),f=d.getTimeRanges().map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}),g=new l().findNextRangeIndex(e,f);if((p(e,d.getTimeRanges())||o(e,d.getTimeRanges()))&&g!==-1){e=f[g];this.$OzPlayheadManager18(e.rangeStart+c,"jump_over_timeline_gap",a,b)}};c.destroy=function(){this.$OzPlayheadManager2.release(),this.$OzPlayheadManager3.release(),this.$OzPlayheadManager4.clear()};c.$OzPlayheadManager18=function(a,b,c,d){var e=a-this.$OzPlayheadManager1.currentTime,f=this.$OzPlayheadManager6.getNumber("seek_ahead_epsilon",0);if(f>0&&e<=f)return;this.$OzPlayheadManager11.getOperationLogger("playhead_adjustment").setLength(Math.round(e*1e3)).setReason(b).setInitiator(c).setType(d).log();this.$OzPlayheadManager12(a)};return b}(h);e.exports=a}),null);
__d("oz-player/playback_controls/OzPlayheadNudger",["oz-player/shims/OzEventListener","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,b){this.$2=new h(),this.$3=null,this.$1=b,this.$4=a,this.$2.addSubscriptions(g.listen(this.$1,"timeupdate",this.$5.bind(this)),g.listen(this.$1,"playing",this.$6.bind(this)),g.listen(this.$1,"pause",this.$7.bind(this)))}var b=a.prototype;b.$5=function(){var a=this.$4.getNumber("playhead_nudge_slack",0);if(a===0)return;var b=this.$3;b!=null&&!this.$1.paused&&this.$1.readyState===4&&(this.$1.currentTime===b&&(this.$1.currentTime+=a),this.$3=null)};b.$6=function(){this.$3=this.$1.currentTime};b.$7=function(){this.$3=null};b.destroy=function(){this.$2.release()};return a}();e.exports=a}),null);
__d("oz-player/shims/ozThrottle",["throttle"],(function(a,b,c,d,e,f){"use strict";e.exports=b("throttle")}),null);
__d("oz-player/states/OzObservedPlaybackState",["oz-player/loggings/OzMultiDestinationPerfLogger","oz-player/shims/OzEventListener","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozThrottle"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=g.OzMultiDestinationPerfLoggerProvider,l=150;a=function(){__p&&__p();function a(a,b){__p&&__p();var c=this;b===void 0&&(b=new k([]));this.$3=new i();this.$6=function(a){c.$4.getOperationLogger("pause").setState("paused").log()};this.$7=function(a){c.$5(),c.$4.getOperationLogger("playing").setState("playing").log()};this.$5=function(a){c.$2=c.$1.currentTime};this.$1=a;this.$4=b;this.$2=this.$1.currentTime;this.$3.addSubscriptions(h.listen(this.$1,"seeked",this.$5),h.listen(this.$1,"seeking",this.$5),h.listen(this.$1,"timeupdate",j(this.$5,l)),h.listen(this.$1,"pause",this.$6),h.listen(this.$1,"playing",this.$7))}var b=a.prototype;b.isPlaying=function(){return!this.$1.paused};b.getCurrentTime=function(){return this.$2};b.forceUpdateCurrentTime=function(){this.$5()};b.getDuration=function(){return this.$1.duration};b.addEventListener=function(a,b){return h.listen(this.$1,a,b)};b.destroy=function(){this.$3.release()};return a}();e.exports=a}),null);
__d("oz-player/states/OzPlayerDimensions",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){function a(a){this.setDimensions(a)}var b=a.prototype;b.setDimensions=function(a){this.$1=a.width,this.$2=a.height};b.getDimensions=function(){return{width:this.$1,height:this.$2}};return a}();e.exports=a}),null);
__d("oz-player/strategies/OzBandwidthBoundaryStreamSegmentsCountStrategy",["oz-player/networks/OzBandwidthEstimator"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.isActive=function(a){return!0};b.getSegmentsCount=function(a,b,c){var d=g.getBandwidth(this.$1),e=g.getStandardDeviationOfBandwidth(),f=this.$1.getNumber("bandwidth_boundary_standard_deviation_factor",1);a=this.$2.some(function(a){a=a.getBandwidth();return Math.abs(a-d)<e*f})?this.$1.getNumber("segments_to_stream_near_bandwidth_boundary",5):this.$1.getNumber("segments_to_stream",5);c=this.$3(b,d);return Math.min(a,c)};b.$3=function(a,b){__p&&__p();var c=Infinity;a=a.getByteRange();if(a){var d=a.endByte;if(d!==null&&d!==void 0){var e=this.$1.getNumber("per_stream_duration_target",0);d=d-a.startByte;e>1e-5&&d!==0&&(c=Math.ceil(e*b/(d*8)))}}return c};return a}();e.exports=a}),null);
__d("oz-player/strategies/OzPlaybackConfidenceUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=.8;function a(a,b,c,d,e,f,i,j){__p&&__p();c=Math.min(1,c/d);d=1+(1-c)*e;c=a.getBandwidth()*d;if(c>b)return g*(b/c);e=0;if(f!=null&&i!=null&&j>0){d=h(a,b,f,i);d!=null&&d>0&&(e=d/1e3*j)}return 1-(1-g)*c/b-e}function h(a,b,c,d){var e=a.getBandwidth();a=a.getSegment(0);if(a){a=a.getTimeRange();a=(a.endTime-a.startTime)*c;c=a*e/b*1e3+d;return c-a*1e3}}e.exports={getPlaybackConfidence:a,getEstimatedDownloadTimeBufferDeltaMs:h}}),null);
__d("oz-player/utils/OzAbrUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a,b,c,d){var e=a.getNumber("resolution_constraint_factor",0);if(e===0)return b;a=b.filter(function(a){return a.getWidth()<=c.width*d*e||a.getHeight()<=c.height*d*e});return!a.length?[b[0]]:a};b=function(a,b,c,d,e,f){b=b?a.getNumber("min_switch_interval",0):a.getNumber("initial_switch_interval",0);d=d>=a.getNumber("abr_min_bandwidth_samples",0);var g=a.getNumber("abr_eval_buffer_threshold",0);c=!g||c>=g;g=null;e+a.getNumber("min_eval_interval",1e3)>Date.now()?g="min_eval_interval":f+b>Date.now()?g="min_switch_interval":!d?g="min_bandwidth_samples":c||(g="buffer_threshold_not_satisfied");return g};e.exports={excludeLargeRepresentations:a,getReasonToPreventEvaluation:b}}),null);
__d("oz-player/utils/OzPlaybackRestrictionsUtils",[],(function(a,b,c,d,e,f){"use strict";a=function(a,b,c){if(c.length===0)return[];c.sort(function(a,b){return a.getBandwidth()-b.getBandwidth()});return a.reduce(function(a,c){return c.applyRestriction(a,b)},c)};e.exports={applyVideoPlaybackRestrictions:a}}),null);
__d("oz-player/strategies/OzAbrManager",["oz-player/networks/OzBandwidthEstimator","oz-player/utils/OzAbrUtils","oz-player/utils/OzBufferingUtils","oz-player/utils/OzPlaybackRestrictionsUtils","oz-player/strategies/OzBandwidthBoundaryStreamSegmentsCountStrategy","oz-player/strategies/OzPlaybackConfidenceUtils"],(function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";__p&&__p();var m=h.excludeLargeRepresentations,n=h.getReasonToPreventEvaluation,o=i.getBufferAheadFromPlaybackStates,p=j.applyVideoPlaybackRestrictions;a=function(){__p&&__p();function a(a,b,c,d,e,f,g){this.$2=0,this.$3=Date.now(),this.$4=!1,this.$12=null,this.$1=a,this.$5=b,this.$6=this.$15(b,c),this.$7=d,this.$8=e,this.$10=f,this.$13=g,this.$14=new k(a,c)}var b=a.prototype;b.setSourceBuffer=function(a){this.$9=a};b.$15=function(a,b){var c=this.$1.getNumber("abr_restrict_from_index",0),d=this.$1.getNumber("abr_restrict_to_index",0);if(d===0&&c===0)return b;var e=b.findIndex(function(b){return a.getID()===b.getID()});return e===-1?b:b.filter(function(a,b){return b-e>=c&&b-e<=d})};b.$16=function(a){a=m(this.$1,a,this.$10.getDimensions(),this.$13);a=p(this.$7,this.$10.getDimensions(),a);return a};b.getBestRepresentation=function(a){__p&&__p();a===void 0&&(a=null);var b=o(this.$9,this.$8),c=n(this.$1,this.$4,b,g.getSampleCount(),this.$2,this.$3);if(c!==null&&c!==void 0){this.$12=c;return this.$5}c=Date.now();this.$2=c;var d=g.getAdjustedBandwidth(this.$1),e=this.$16(this.$6),f=null;this.$1.getBool("abr_use_download_time",!1)&&a!=null?f=this.$17(e,d,a)||this.$18(e,d,b,a):f=this.$18(e,d,b,a);f=f||this.$6[0];if(this.$19(b,f)){this.$12="high_buffer";return this.$5}this.$5!==f&&(this.$4=!0,this.$3=c,this.$5=f);this.$12="bandwidth";return f};b.$18=function(a,b,c,d){d===void 0&&(d=null);var e=null;for(var f=0;f<a.length;f++){var h=l.getPlaybackConfidence(a[f],b,c,this.$1.getNumber("low_buffer_bandwidth_target_threshold",10),this.$1.getNumber("low_buffer_bandwidth_target_increase_factor",0),d,g.getEstimatedTimeToFirstByteMs(this.$1),this.$1.getNumber("download_time_buffer_delta_penalty_factor",0));h>this.$1.getNumber("abr_confidence_threshold",.7)&&(!e||e.getBandwidth()<a[f].getBandwidth())&&(e=a[f])}return e};b.$17=function(a,b,c){for(var d=a.length-1;d>=0;d--){var e=l.getEstimatedDownloadTimeBufferDeltaMs(a[d],b,c,g.getEstimatedTimeToFirstByteMs(this.$1)||0);if(e!=null&&e+this.$1.getNumber("minimum_download_additional_buffer_ms",0)<0)return a[d]}return null};b.$19=function(a,b){var c=this.$1.getNumber("abr_prevent_down_switch_buffer_threshold",0);return c>0&&a>=c&&this.$5.getBandwidth()>b.getBandwidth()?!0:!1};b.getStreamSegmentsCountStrategy=function(){return this.$14};b.getLastEvaluationReason=function(){return this.$12};return a}();e.exports=a}),null);
__d("oz-player/strategies/OzBufferAheadPriorityStrategy",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozThrottle","oz-player/utils/OzBufferingUtils"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=j.getBufferAheadFromCurrentTime,l=6,m=1e3;a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.$OzBufferAheadPriorityStrategy3=new h();c.$OzBufferAheadPriorityStrategy4=function(){c.emit("state_changed")};c.$OzBufferAheadPriorityStrategy1=b;c.$OzBufferAheadPriorityStrategy3.addSubscriptions(c.$OzBufferAheadPriorityStrategy1.addEventListener("progress",i(c.$OzBufferAheadPriorityStrategy4,m)),c.$OzBufferAheadPriorityStrategy1.addEventListener("timeupdate",i(c.$OzBufferAheadPriorityStrategy4,m)));return c}var c=b.prototype;c.getName=function(){return"buffer_ahead"};c.setSourceBufferState=function(a){if(this.$OzBufferAheadPriorityStrategy2)return;this.$OzBufferAheadPriorityStrategy3.addSubscriptions(a.addEventListener("buffer_updated",i(this.$OzBufferAheadPriorityStrategy4,m)))};c.isActive=function(){return!0};c.getPriority=function(){var a=this.$OzBufferAheadPriorityStrategy2;if(!a)return 1;var b=this.$OzBufferAheadPriorityStrategy1.getCurrentTime();a=a.getBufferedRanges();b=k(b,a);return b>=l?0:1};c.destroy=function(){this.$OzBufferAheadPriorityStrategy3.release()};return b}(g);e.exports=a}),null);
__d("oz-player/strategies/OzBufferAheadTargetStrategy",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){function a(a){this.$1=a}var b=a.prototype;b.isActive=function(){return!0};b.getBufferTarget=function(){return this.$1.getNumber("buffer_ahead_target",10)};return a}();e.exports=a}),null);
__d("oz-player/strategies/OzBufferTargetBoundedStreamSegmentsCountStrategy",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.isActive=function(a){return this.$2.getBool("only_bound_stream_segment_counts_when_paused",!1)?!a.isPlaying():!0};b.getSegmentsCount=function(a,b,c){__p&&__p();a=a.getCurrentTime();var d=this.$1.computeBufferTarget(),e=1,f=b;b=b.getTimeRange().startTime;while(f!==null&&b<d+a){f=c.getSegmentAfter(f);if(!f)break;b=f.getTimeRange().startTime;e++}return e};return a}();e.exports=a}),null);
__d("oz-player/strategies/OzBufferTargetCalculator",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){this.$1=0,this.$2=a}var b=a.prototype;b.computeBufferTarget=function(){__p&&__p();for(var a=this.$2,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;if(d.isActive()){d=d.getBufferTarget();this.$1=d;return d}}return this.$1};return a}();e.exports=a}),null);
__d("oz-player/strategies/OzLiveheadDeltaCatchupStrategy",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){this.$3=a}var b=a.prototype;b.isEnabled=function(a,b){return(!this.$3.getBool("live_catch_up_only_when_paused",!1)||a.paused)&&typeof b.getMinimumUpdatePeriod()==="number"};b.computeNewPlayheadPosition=function(a,b){a=a.currentTime;b=b.getVideoRepresentations()[0];if(!b)return null;b=b.getTimeRanges();if(b.length===0)return null;b=b[b.length-1].endTime;return b-a>this.$3.getNumber("live_catch_up_fall_behind_threshold",20)?b-this.$3.getNumber("live_catch_up_live_head_delta",6):null};return a}();e.exports=a}),null);
__d("oz-player/strategies/OzPausedStreamSegmentsCountStrategy",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.isActive=function(){return!this.$1.isPlaying()};b.getSegmentsCount=function(a,b,c){return this.$2.getNumber("paused_stream_segments_count",0)};return a}();e.exports=a}),null);
__d("oz-player/strategies/OzPlayheadAtInterruptionDetector",["oz-player/shims/OzEventEmitter","oz-player/shims/OzEventListener","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=1;a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.$OzPlayheadAtInterruptionDetector2=null;c.$OzPlayheadAtInterruptionDetector3=new i();c.$OzPlayheadAtInterruptionDetector1=b;c.$OzPlayheadAtInterruptionDetector3.addSubscriptions(h.listen(c.$OzPlayheadAtInterruptionDetector1,"waiting",c.$OzPlayheadAtInterruptionDetector4.bind(babelHelpers.assertThisInitialized(c))));return c}var c=b.prototype;c.notifyStreamInterrupted=function(a){this.$OzPlayheadAtInterruptionDetector2=a,this.$OzPlayheadAtInterruptionDetector4()};c.notifyStreamResumed=function(){this.$OzPlayheadAtInterruptionDetector2=null};c.$OzPlayheadAtInterruptionDetector4=function(){if(this.$OzPlayheadAtInterruptionDetector2!=null){var a=this.$OzPlayheadAtInterruptionDetector2||0;Math.abs(this.$OzPlayheadAtInterruptionDetector1.currentTime-a)<j&&this.emit("playheadAtInterruption",a)}};c.destroy=function(){this.$OzPlayheadAtInterruptionDetector3.release()};return b}(g);e.exports=a}),null);
__d("oz-player/strategies/OzPlayingStatePriorityStrategy",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.$OzPlayingStatePriorityStrategy1=new h();c.$OzPlayingStatePriorityStrategy3=function(){c.emit("state_changed")};c.$OzPlayingStatePriorityStrategy2=b;c.$OzPlayingStatePriorityStrategy1.addSubscriptions(c.$OzPlayingStatePriorityStrategy2.addEventListener("playing",c.$OzPlayingStatePriorityStrategy3),c.$OzPlayingStatePriorityStrategy2.addEventListener("play",c.$OzPlayingStatePriorityStrategy3),c.$OzPlayingStatePriorityStrategy2.addEventListener("pause",c.$OzPlayingStatePriorityStrategy3));return c}var c=b.prototype;c.isActive=function(){return!0};c.getName=function(){return"playing_state"};c.setSourceBufferState=function(a){};c.getPriority=function(){return this.$OzPlayingStatePriorityStrategy2.isPlaying()?1:0};c.destroy=function(){this.$OzPlayingStatePriorityStrategy1.release()};return b}(g);e.exports=a}),null);
__d("oz-player/strategies/OzPriorityCalculator",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.$OzPriorityCalculator2=new h();c.$OzPriorityCalculator1=b;(b=c.$OzPriorityCalculator2).addSubscriptions.apply(b,c.$OzPriorityCalculator1.map(function(a){return a.addListener("state_changed",function(b){c.emit("state_changed",c.compute(),a.getName())})}));return c}var c=b.prototype;c.setSourceBufferState=function(a){this.$OzPriorityCalculator1.forEach(function(b){return b.setSourceBufferState(a)}),this.emit("state_changed",this.compute(),"source_buffer")};c.compute=function(){return this.$OzPriorityCalculator1.reduce(function(a,b){b=b.isActive()?b.getPriority():0;return a+b},0)};c.destroy=function(){this.$OzPriorityCalculator2.release()};return b}(g);e.exports=a}),null);
__d("oz-player/strategies/OzStartupBufferTargetStrategy",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,b){this.$1=a,this.$3=b}var b=a.prototype;b.isActive=function(){var a=this.$1.isPlaying();a&&(this.$2=!0);return!this.$2};b.getBufferTarget=function(){return this.$3.getNumber("pre_start_buffer_ahead_target",10)};return a}();e.exports=a}),null);
__d("oz-player/strategies/OzStaticStreamSegmentsStrategy",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){function a(a){this.$1=a}var b=a.prototype;b.isActive=function(){return!0};b.getSegmentsCount=function(a,b,c){return this.$1.getNumber("segments_to_stream",5)};return a}();e.exports=a}),null);
__d("oz-player/strategies/OzStreamSegmentsCountCalculator",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=1;a=function(){__p&&__p();function a(a){this.$1=a}var b=a.prototype;b.computeMin=function(a,b,c){__p&&__p();var d=Number.MAX_VALUE;for(var e=this.$1,f=Array.isArray(e),h=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(f){if(h>=e.length)break;i=e[h++]}else{h=e.next();if(h.done)break;i=h.value}i=i;i.isActive(a)&&(d=Math.min(d,i.getSegmentsCount(a,b,c)))}return d===Number.MAX_VALUE?g:Math.max(d,g)};return a}();e.exports=a}),null);
__d("oz-player/streams/OzEndOfStreamWatcher",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozvariant"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this)||this;d.$OzEndOfStreamWatcher1=new Map();d.$OzEndOfStreamWatcher2=new h();d.$OzEndOfStreamWatcher3=b;d.$OzEndOfStreamWatcher4=c;return d}var c=b.prototype;c.registerMediaStream=function(a){this.$OzEndOfStreamWatcher1.has(a)&&i(0,5191),this.$OzEndOfStreamWatcher1.set(a,!1)};c.notifyRepresentationSwitched=function(a){this.$OzEndOfStreamWatcher1.has(a)||i(0,5192),this.$OzEndOfStreamWatcher5()};c.notifyMediaStreamEnded=function(a){this.$OzEndOfStreamWatcher1.has(a)||i(0,5192),this.$OzEndOfStreamWatcher1.set(a,!0),this.$OzEndOfStreamWatcher5()};c.$OzEndOfStreamWatcher5=function(){var a=this.$OzEndOfStreamWatcher3.getMediaSource();(this.$OzEndOfStreamWatcher4.getBool("allow_queueing_end_of_stream_when_update",!1)||a.readyState==="open")&&this.$OzEndOfStreamWatcher6()&&(this.$OzEndOfStreamWatcher4.getBool("fix_end_of_stream_during_update",!1)?this.$OzEndOfStreamWatcher3.notifyEndOfStream():a.endOfStream(),this.emit("streamEnd"))};c.$OzEndOfStreamWatcher6=function(){__p&&__p();if(this.$OzEndOfStreamWatcher1.size===0)return!1;for(var a=this.$OzEndOfStreamWatcher1.values(),b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;if(!d)return!1}return!0};c.destroy=function(){this.$OzEndOfStreamWatcher1.clear()};return b}(g);e.exports=a}),null);
__d("oz-player/streams/OzHandleUserRepresentationSwitch",["oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,b,c,d,e){__p&&__p();var f=this;this.$4=null;this.$5=new g();this.$1=a;this.$2=b;this.$3=c;this.$6=d;e.then(function(a){f.$4=a});this.$5.addSubscriptions(d.addListener("switchRepresentation",this.$7.bind(this)))}var b=a.prototype;b.cleanup=function(){this.$5.release(),this.$5.engage()};b.$7=function(a,b){__p&&__p();if(!this.$1.getBool("clear_buffer_on_user_quality_upgrade",!1)||a!=="user")return;a=this.$6.getRepresentationIDAtTime(this.$2.getCurrentTime());var c;if(this.$4){for(var d=0;d<this.$3.length;d++)this.$3[d].getID()===a&&(c=this.$3[d]);if(c&&b&&c.getBandwidth()<b.getBandwidth()){a=c.getSegmentByTime(this.$2.getCurrentTime());a&&(this.$4&&this.$4.clearRange(this.$2.getCurrentTime(),this.$2.getDuration()))}}};return a}();e.exports=a}),null);
__d("oz-player/networks/OzReadableStreamDataReader",["oz-player/utils/ozConcatArrayBuffer","oz-player/networks/OzTransformStream"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.$OzReadableStreamDataReader1=new ArrayBuffer(0);c.$OzReadableStreamDataReader2=b;return c}var c=b.prototype;c.onDataWritten=function(a){this.$OzReadableStreamDataReader1=g(this.$OzReadableStreamDataReader1,a.buffer)};c.onClose=function(){this.$OzReadableStreamDataReader2(this.$OzReadableStreamDataReader1)};return b}(h);e.exports=a}),null);
__d("oz-player/shims/ozPerformanceNow",["performanceNow"],(function(a,b,c,d,e,f){"use strict";e.exports=b("performanceNow")}),null);
__d("oz-player/networks/OzStreamingTask",["Promise","oz-player/loggings/OzLoggingUtils","oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/shims/ozPerformanceNow","oz-player/utils/OzError","oz-player/utils/OzNetworkRequestLoggingUtils"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m){"use strict";__p&&__p();var n=h.monitorPromiseAndLogOperation,o=m.setFetchStreamLoggingAttributes;a=function(){__p&&__p();function a(a,b){this.$3=new i(j),this.$5=!1,this.$1=this.$2=new i(j),this.$6=this.$3.getPromise(),this.$7=k(),this.$8=b,this.$9=a}var b=a.prototype;b.run=function(){var a=this.$8;if(a){var b=k()-this.$7;n(this.$6,a,"streaming_task",function(){},function(a){a.setTimeToRequestSent(Math.floor(b))})}this.$2.resolve();return this.$6};b.cancel=function(){this.$3.reject(new l({type:"OZ_STREAMING_TASK",description:"task cancelled"})),this.$5=!0};b.finish=function(){this.$3.resolve()};b.isCancelled=function(){return this.$5};b.addStream=function(a,b,c){var d=new i(j);this.$10({pausableStreamPromise:g.resolve({pausableStream:a,loggingPayloads:c}),changeStatusDeferred:d,createStreamDeferred:new i(j),loggerProviderWithStreamContext:b,loggingPayloads:c});return{getStream:function(){return a.getStream()},cancel:function(){return a.pauseStream()},getStatusChangePromise:function(){return d.getPromise()}}};b.addStreamDeferred=function(a,b){var c=new i(j),d=new i(j);this.$10({pausableStreamPromise:a,changeStatusDeferred:c,createStreamDeferred:d,loggerProviderWithStreamContext:b});var e=function(){return d.getPromise()};return{genStream:e,cancel:function(){e().then(function(a){return a.pauseStream()})},getStatusChangePromise:function(){return c.getPromise()}}};b.$10=function(a){__p&&__p();var b=this,c=a.pausableStreamPromise,d=a.changeStatusDeferred,e=a.createStreamDeferred,f=a.loggerProviderWithStreamContext,g=a.loggingPayloads;a=this.$1.getPromise();var h=k(),l=this.$1=new i(j);a.then(function(){return c}).then(function(a){__p&&__p();if(a){var c=a.pausableStream;a.loggingPayloads&&(g=a.loggingPayloads);e.resolve(c.getStream());b.$4=c;var d=k();a=b.$11(c.startStream());f&&n(a,f,"fetch_stream",function(){},function(a){g&&o(a,g.getRequestUrl(),g.isPrefetch(),g.segments,d-h)});return a}return null}).then(function(a){b.$4=null,l.resolve(),d.resolve(a||"cancelled")})["catch"](function(a){b.$4=null,b.$3.reject(a),b.$9.getBool("throw_network_error",!1)&&d.reject(a)})};b.$11=function(a){return a.then(function(a){a=a.statusPromise;return a.then(function(a){return a==="stream_done"?"done":"error"})})};return a}();e.exports=a}),null);
__d("oz-player/networks/OzStreamingTaskStateManager",["Promise","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzSubscriptionsHandler","oz-player/networks/OzStreamingTask","oz-player/networks/OzStreamingTaskQueueProvider"],(function(a,b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,b,c,d){__p&&__p();var e=this;this.$3=new i();this.$4=0;this.$9=!1;this.$5=a;this.$1=b;this.$6=k.getQueue(this.$5);this.$7=c;this.$8=d;this.$8.getBool("real_time_priority_update",!1)&&this.$3.addSubscriptions(this.$1.addListener("state_changed",function(a,b){e.$10(a,b),e.$2&&e.$6.updatePriority(e.$2,e.$4)}))}var b=a.prototype;b.startStream=function(a){__p&&__p();var b=a.streamableSegments,c=a.networkManager;a=a.segmentsLoggerProvider;var d=this.$11(a);c=c.createPausableStream(b);b=c.pausableStream;c=c.loggingPayloads;this.$9=!0;d=d.addStream(b,a,c);b={getStream:d.getStream,cancel:d.cancel,getStatusChangePromise:this.$12(d.getStatusChangePromise)};return b};b.startStreamDeferred=function(a){__p&&__p();var b=a.segmentsPromise,c=a.networkManager;a=a.segmentsLoggerProvider;var d=this.$11(a),e=new h(function(a,d){b.then(function(b){b.length>0?a(c.createPausableStream(b)):a(null)})["catch"](function(a){return d(a)})});this.$9=!0;d=d.addStreamDeferred(e,a);e={genStream:d.genStream,cancel:d.cancel,getStatusChangePromise:this.$12(d.getStatusChangePromise)};return e};b.$11=function(a){a=this.$2;this.$10(this.$1.compute(),"start_stream");!a||a.isCancelled()?(a=this.$2=new j(this.$8,this.$7),this.$6.enqueue(a,this.$4)):this.$6.updatePriority(a,this.$4);return a};b.$12=function(a){var b=this;return function(){return a().then(function(a){b.$13();return a})["catch"](function(a){b.$13();return g.reject(a)})}};b.finishTaskIfNoOngoingStream=function(){this.$9||this.$14()};b.destroy=function(){this.$3.release()};b.$13=function(){this.$9=!1,this.$10(this.$1.compute(),"end_stream"),this.$4<k.OZ_QUEUE_MAX_PRIORITY&&this.$14()};b.$14=function(){this.$2&&(this.$2.finish(),this.$2=null)};b.$10=function(a,b){if(a===this.$4)return;this.$4=a;this.$7&&this.$7.getOperationLogger("priority_changed").setPriorityFloat(this.$4).setInitiator(b).log()};return a}();e.exports=a}),null);
__d("TaggedTimeRanges",["sprintf"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this.$1=[],this.$2=0,this.$3=0,this.$4=a?a:function(a,b){return a===b}}var b=a.prototype;b.add=function(a,b,c){__p&&__p();if(b<a)return;if(b===a)return;if(this.$1.length===0){this.$1.push({start:a,end:b,tag:c});return}var d=0,e=0;for(var f=0;f<this.$1.length;f++){if(a===this.$1[f].start&&b===this.$1[f].end){d=f;e=f+1;break}a>=this.$1[f].start&&(d=f+1);b<=this.$1[f].end&&(e=f);if(b<this.$1[f].start)break}this.$1.splice(d,e-d,{start:a,end:b,tag:c});this.$5(d)};b.$5=function(a){var b=this.$1[a],c=null;a!==0&&(c=this.$1[a-1]);c!==null&&(this.$4(c.tag,b.tag)?c.end>=b.start&&(this.$1.splice(a-1,2,{start:c.start,end:Math.max(b.end,c.end),tag:b.tag}),a--):(c.end>b.start&&c.start===b.start?(this.$1.splice(a-1,1),a--):c.end>b.start&&this.$1.splice(a-1,1,{start:c.start,end:b.start,tag:c.tag}),c.end>b.end&&this.$1.splice(a+1,0,{start:b.end,end:c.end,tag:c.tag})));c=null;a!==this.$1.length-1&&(c=this.$1[a+1]);c&&(this.$4(c.tag,b.tag)?c.start<=b.end&&this.$1.splice(a,2,{start:b.start,end:Math.max(c.end,b.end),tag:b.tag}):c.start<=b.end&&(c.end<b.end?(this.$1.splice(a,1,{start:b.start,end:c.start,tag:b.tag}),this.$1.push({start:c.end,end:b.end,tag:b.tag})):this.$1.splice(a+1,1,{start:b.end,end:c.end,tag:c.tag})))};b.get=function(a){var b=a>=this.$3?this.$2:0,c=null;for(var b=b;b<this.$1.length;b++)if(this.$1[b].start<=a&&a<this.$1[b].end){c=b;break}this.$2=c===null?0:c;this.$3=a;return c===null?null:this.$1[c].tag};b.getLength=function(){return this.$1.length};return a}();e.exports=a}),null);
__d("oz-player/shims/OzTaggedTimeRanges",["TaggedTimeRanges"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(){function a(a){this.$1=new g(a)}var b=a.prototype;b.add=function(a,b,c){this.$1.add(a,b,{id:c.id})};b.get=function(a){return this.$1.get(a)};return a}();e.exports=a}),null);
__d("oz-player/strategies/OzStreamLengthStrategy",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={getStreamingSegments:function(a,b,c,d,e){__p&&__p();var f=a.getNumber("segments_to_stream_under_playhead_threshold",0);a=a.getNumber("low_segment_stream_playhead_threshold",0);f>0&&d.getCurrentTime()<a&&(b=f);d=[];d.push(e);for(var a=1;a<b;a++){f=c.getSegmentAfter(e);if(!f)break;e=f;d.push(e)}return d}};e.exports=a}),null);
__d("oz-player/streams/OzMediaStreamLoopDriver",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){__p&&__p();var b=this;this.$2=null;this.$3=!1;this.$4=function(){__p&&__p();b.$5();if(b.$3)return;var a=b.$1.execute(),c=b.$1.getLoopInterval();c&&(b.$2=setTimeout(function(){b.$4()},c));a&&a.then(b.$4)["catch"](function(a){b.$5();a=b.$1.handleError(a);a?b.$2=setTimeout(b.$4,a):b.$3=!0})};this.$1=a}var b=a.prototype;b.start=function(){if(this.$3)throw new Error("restart is not implemented");this.$4()};b.stop=function(){this.$5(),this.$3=!0};b.$5=function(){this.$2&&(clearTimeout(this.$2),this.$2=null)};return a}();e.exports=a}),null);
__d("oz-player/utils/OzRangeUtils",[],(function(a,b,c,d,e,f){"use strict";a={getRangeForTime:function(a,b){b=b.filter(function(b){return b.startTime<=a&&b.endTime>=a});return b!=null&&b.length>0?b[0]:null}};e.exports=a}),null);
__d("oz-player/streams/OzSegmentLocator",["oz-player/utils/OzNumericalRangeUtil","oz-player/utils/OzRangeUtils"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=h.getRangeForTime;a={getSegment:function(a,b,c,d,e,f,h,j){__p&&__p();var k=b.getCurrentTime();k=d?i(k,d.getBufferedRanges()):null;d=f?f.getTimeRange().endTime:0;if(h.getBool("use_stream_end_time_in_segment_locator",!1)&&k&&k.endTime===j)return null;f=b.getCurrentTime()||0;d?f=d:k&&(f=k.endTime);j=f-b.getCurrentTime();if(h.getBool("compute_buffer_ahead_with_timeline_gaps",!1)){d=e.getTimeRanges();j=new g().findDiffCoveredByRanges(b.getCurrentTime(),f,d.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}))}if(j>c)return null;k=a.getSegment(0);h.getNumber("auto_seek_playhead_slack",0)===0&&k&&k.getTimeRange().startTime>f&&(f=k.getTimeRange().startTime);e=a.getSegmentByTime(f);return e}};e.exports=a}),null);
__d("oz-player/utils/OzMimeUtil",[],(function(a,b,c,d,e,f){"use strict";function a(a){return(a.split("/")[0]||"").trim()}e.exports={getMimeType:a}}),null);
__d("oz-player/streams/OzMediaStream",["oz-player/networks/OzNetworkManager","oz-player/networks/OzReadableStreamDataReader","oz-player/networks/OzStreamingTask","oz-player/networks/OzStreamingTaskQueueProvider","oz-player/networks/OzStreamingTaskStateManager","oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/OzTaggedTimeRanges","oz-player/shims/ozvariant","oz-player/strategies/OzStreamLengthStrategy","oz-player/utils/OzError","oz-player/utils/OzErrorEmitter","oz-player/utils/OzMimeUtil","oz-player/utils/OzRangeUtils","oz-player/streams/OzMediaStreamLoopDriver","oz-player/streams/OzSegmentLocator","oz-player/shims/OzEventEmitter"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){"use strict";__p&&__p();var y=t.getMimeType,z=u.getRangeForTime,A=1e3,B=.2;a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b,c,d,e,f,g,h,i,j,l,m,p,q,r){__p&&__p();var t;t=a.call(this)||this;t.$OzMediaStream9=null;t.$OzMediaStream11=!1;t.$OzMediaStream12=null;t.$OzMediaStream13=new n();t.$OzMediaStream15=[];t.$OzMediaStream19=0;t.$OzMediaStream26=!0;t.$OzMediaStream28=!1;t.$OzMediaStream29=null;t.$OzMediaStream30=new s();t.$OzMediaStream1=b;t.$OzMediaStream2=c;t.$OzMediaStream2.then(function(a){t.$OzMediaStream3=a,t.$OzMediaStream12&&t.$OzMediaStream12.setSourceBuffer(a),t.$OzMediaStream24.setSourceBufferState(a.getSourceBufferState()),t.$OzMediaStream32()});t.$OzMediaStream17=d;t.$OzMediaStream8=e;t.$OzMediaStream4=f;t.$OzMediaStream10=g;t.$OzMediaStream10.registerMediaStream(babelHelpers.assertThisInitialized(t));t.$OzMediaStream23=h;t.$OzMediaStream24=i;t.$OzMediaStream25=j;t.$OzMediaStream12=l;t.$OzMediaStream14=q.cloneContext();t.$OzMediaStream22=new o(function(a,b){return a.id===b.id});t.$OzMediaStream13.addSubscriptions(t.$OzMediaStream4.addEventListener("seeking",function(){t.$OzMediaStream1.getBool("fix_seek_performance",!1)?t.$OzMediaStream33():((!t.$OzMediaStream1.getBool("keep_anchor_when_seeking_into_same_buffer",!1)||!t.$OzMediaStream34())&&(t.$OzMediaStream6=null),t.$OzMediaStream28=!1,t.$OzMediaStream21&&t.$OzMediaStream21.resolve())}));t.$OzMediaStream18=y(p.getMimeCodecs());t.$OzMediaStream27=new k(t.$OzMediaStream18,t.$OzMediaStream24,t.$OzMediaStream14,t.$OzMediaStream1);t.$OzMediaStream20=new v(babelHelpers.assertThisInitialized(t));m===p.getID()?t.$OzMediaStream5=p:t.$OzMediaStream35(p);return t}var c=b.prototype;c.start=function(){this.$OzMediaStream20.start()};c.getCurrentRepresentation=function(){return this.$OzMediaStream5};c.switchRepresentation=function(a){this.$OzMediaStream35(a,"user")};c.onError=function(a){return this.$OzMediaStream30.onError(a)};c.updateRunTimeConfigs=function(a){a=a.videoStreamDataHandler;a!==void 0&&(this.$OzMediaStream31=a)};c.$OzMediaStream35=function(a,b){var c=this;b===void 0&&(b="internal");this.$OzMediaStream1.getBool("clear_buffer_on_user_quality_upgrade",!1)&&(this.$OzMediaStream6=null);var d=this.$OzMediaStream14.cloneContext().setType(this.$OzMediaStream18+";init"),e=this.$OzMediaStream8.request([a.getInitSegment()],d),f=d.getOperationLogger("stream_switch").setPreviousRepresentationID(this.$OzMediaStream5?this.$OzMediaStream5.getID():null).setRepresentationID(a.getID()).setReason(this.$OzMediaStream12&&this.$OzMediaStream12.getLastEvaluationReason()).start();this.$OzMediaStream5=a;this.emit("switchRepresentation",b,a);this.$OzMediaStream36(e.getStream(),function(){f.log(),c.emit("initAppended"),c.$OzMediaStream10.notifyRepresentationSwitched(c)},function(a){f.setError(a).log(),c.$OzMediaStream1.getBool("fallback_on_append_error",!1)&&a instanceof r&&a.getType()!=="OZ_NETWORK"&&c.$OzMediaStream30.emitError(a)},d.cloneContext(),0)};c.getLoopInterval=function(){return this.$OzMediaStream19};c.execute=function(){var a=this.$OzMediaStream37();if(a){var b=this.$OzMediaStream21=new l(m);a.then(function(){return b.resolve()})["catch"](function(a){return b.reject(a)});return b.getPromise()}return null};c.$OzMediaStream38=function(a){a===void 0&&(a=null);if(this.$OzMediaStream12&&this.$OzMediaStream26&&(this.$OzMediaStream1.getBool("enable_abr_for_first_request",!1)||this.$OzMediaStream11||this.$OzMediaStream17>0)){a=this.$OzMediaStream12.getBestRepresentation(a);if(this.$OzMediaStream5!==a)return a}return null};c.$OzMediaStream39=function(a){var b=this.$OzMediaStream3?this.$OzMediaStream3.getSourceBufferState():null,c=this.$OzMediaStream17>0?this.$OzMediaStream5.getSegment(this.$OzMediaStream17-1):null,d=null;a&&(d=this.$OzMediaStream5.getCustomFieldFirstSegment());d||(d=w.getSegment(this.$OzMediaStream5,this.$OzMediaStream4,this.$OzMediaStream23.computeBufferTarget(),b,this.$OzMediaStream5,this.$OzMediaStream6||c,this.$OzMediaStream1,this.$OzMediaStream29));return d};c.$OzMediaStream40=function(){return!this.$OzMediaStream11&&this.$OzMediaStream17===0};c.$OzMediaStream41=function(a,b){__p&&__p();if(b)b=[a];else{var c=this.$OzMediaStream25.computeMin(this.$OzMediaStream4,a,this.$OzMediaStream5);if(this.$OzMediaStream1.getBool("switch_when_getting_segments",!1)){var d=this.$OzMediaStream38(c);if(d){this.$OzMediaStream35(d);d=this.$OzMediaStream39(!1);if(d)return this.$OzMediaStream41(d,!1)}}b=q.getStreamingSegments(this.$OzMediaStream1,c,this.$OzMediaStream5,this.$OzMediaStream4,a);b=g.getStreamableSegmentsRange(b)}return b};c.$OzMediaStream42=function(){var a=this;return new m(function(b,c){var d=a.getCurrentRepresentation().addUpdateListener(function(){b(),a.$OzMediaStream16=null,d.remove()});a.$OzMediaStream16=d})};c.$OzMediaStream43=function(a,b){var c=this;return new m(function(b,d){d=c.$OzMediaStream39(a);d==null?b([]):b(c.$OzMediaStream41(d,a))})};c.$OzMediaStream37=function(){__p&&__p();var a=this,b=this.$OzMediaStream3?this.$OzMediaStream3.getSourceBufferState():null,c=this.$OzMediaStream40(),d=this.$OzMediaStream39(c),e=this.$OzMediaStream28&&this.$OzMediaStream1.getBool("block_stream_on_ongoing_stream",!1);if(this.$OzMediaStream28&&this.$OzMediaStream1.getBool("no_new_loop_body_promise_when_stream_ongoing",!1)){this.$OzMediaStream19=A;return null}if(!d||e){this.$OzMediaStream19=A;this.$OzMediaStream28||this.$OzMediaStream27.finishTaskIfNoOngoingStream();return this.$OzMediaStream42()}this.$OzMediaStream19=0;var f=this.$OzMediaStream41(d,c);if(!this.$OzMediaStream1.getBool("switch_when_getting_segments",!1)){e=this.$OzMediaStream38(f.length);if(e){this.$OzMediaStream35(e);return m.resolve()}}this.$OzMediaStream11=!0;var g=f[f.length-1]||null;this.$OzMediaStream1.getBool("updates_stream_anchor_when_promise_resolved",!1)||(this.$OzMediaStream6=g);g&&(this.$OzMediaStream17=0);var h=!1;g&&(h=this.$OzMediaStream5.isEndingSegment(g));p(f.length!==0,"There must be one or more segment");d=f[0];e=d.getTimeRange().startTime;var k=g.getTimeRange().endTime,l=this.$OzMediaStream14.cloneContext();l.setRepresentationID(this.$OzMediaStream5.getID()).setSegmentStartTime(e).setSegmentEndTime(k);var n,o,q=null,s=this.$OzMediaStream1.getBool("scheduler_ignore_prefetch",!1)&&c,t=this.$OzMediaStream1.getBool("disable_audio_scheduler",!1)&&this.$OzMediaStream18.indexOf("audio")!==-1;if(this.$OzMediaStream1.getBool("use_scheduler",!1)&&!t&&!s)if(this.$OzMediaStream1.getBool("use_streaming_task_state_manager",!1))this.$OzMediaStream1.getBool("use_deferred_streaming_task",!1)?o=this.$OzMediaStream27.startStreamDeferred({segmentsPromise:this.$OzMediaStream43(c,f),networkManager:this.$OzMediaStream8,sourceBufferState:b,playbackState:this.$OzMediaStream4,segmentsLoggerProvider:l}):n=this.$OzMediaStream27.startStream({streamableSegments:f,networkManager:this.$OzMediaStream8,sourceBufferState:b,playbackState:this.$OzMediaStream4,segmentsLoggerProvider:l});else{t=j.getQueue(this.$OzMediaStream18);s=this.$OzMediaStream8.createPausableStream(f,this.$OzMediaStream14);c=s.pausableStream;b=s.loggingPayloads;q=new i(this.$OzMediaStream1,this.$OzMediaStream14);s=this.$OzMediaStream24.compute();n=q.addStream(c,l,b);t.enqueue(q,s)}else n=this.$OzMediaStream8.request(f,l);this.$OzMediaStream9=n;this.$OzMediaStream28=!0;var u=0,v=null;u=this.$OzMediaStream44(d,g,f.length);v={startTime:e,endTime:k,tag:{id:this.$OzMediaStream5.getID()}};var w=l.getOperationLogger("queued_append");w.start().setReason(this.$OzMediaStream12&&this.$OzMediaStream12.getLastEvaluationReason());var x=function(b){a.$OzMediaStream36(b,function(b){w.setAppendedBufferMs(Math.round(b*1e3)).log(),f.forEach(function(b){a.emit("SegmentAppended",a.$OzMediaStream45(b))}),h&&a.endStream()},function(b){w.setError(b).log(),a.$OzMediaStream1.getBool("fallback_on_append_error",!1)&&b instanceof r&&b.getType()!=="OZ_NETWORK"&&a.$OzMediaStream30.emitError(b)},l,u,v)},y;p(!!o||!!n,"request tracker must exist");o?(o.genStream().then(function(a){return x(a)})["catch"](function(b){return a.$OzMediaStream30.emitError(b)}),y=o.getStatusChangePromise()):n&&(x(n.getStream()),y=n.getStatusChangePromise());return y.then(function(b){a.$OzMediaStream46(b,g);return a.$OzMediaStream47(q)})["catch"](function(b){return a.$OzMediaStream48(b,q)})};c.handleError=function(a){return 0};c.$OzMediaStream46=function(a,b){this.$OzMediaStream1.getBool("updates_stream_anchor_when_promise_resolved",!1)&&a!=="cancelled"&&(this.$OzMediaStream6=b)};c.$OzMediaStream47=function(a){this.$OzMediaStream28=!1,a&&a.finish()};c.$OzMediaStream48=function(a,b){__p&&__p();this.$OzMediaStream28=!1;if(this.$OzMediaStream1.getBool("throw_network_error",!1)){var c,d;a instanceof r?(c=a.getExtra().code||"",d=a):(c=a.status.toString(),d=new r({type:"OZ_NETWORK",description:a.message,extra:{originalError:a,code:c,url:a.url}}));var e=JSON.parse(this.$OzMediaStream1.getString("network_retry_intervals_json","{}")),f=e[c];if(f){b&&b.finish();this.$OzMediaStream27.finishTaskIfNoOngoingStream();return this.$OzMediaStream1.getBool("retry_error_during_stream",!1)&&this.$OzMediaStream3?this.$OzMediaStream3.cancelOperationAndCleanQueue().then(function(){return new m(function(a,b){setTimeout(a,f)})}):new m(function(a,b){setTimeout(a,f)})}this.$OzMediaStream30.emitError(d)}return a instanceof r&&a.getType()==="OZ_NETWORK"&&this.$OzMediaStream3?this.$OzMediaStream3.cancelOperationAndCleanQueue():m.resolve()};c.$OzMediaStream36=function(a,b,c,d,e,f){f===void 0&&(f=null),this.$OzMediaStream15.push({stream:a,dataAppendedCallback:b,dataAppendedErrorCallback:c,loggerProvider:d,appendTarget:e,timeRange:f}),this.$OzMediaStream3&&this.$OzMediaStream32()};c.$OzMediaStream32=function(){var a=this;this.$OzMediaStream15.forEach(function(b){var c=b.stream,d=b.dataAppendedCallback,e=b.dataAppendedErrorCallback,f=b.loggerProvider,g=b.appendTarget,i=b.timeRange;b=a.$OzMediaStream31==null?c:c.pipeThrough(new h(a.$OzMediaStream31.bind(a,a.$OzMediaStream5)));a.$OzMediaStream3&&a.$OzMediaStream3.queueData(b,f,g).then(function(b){d(b),i&&a.$OzMediaStream22.add(i.startTime,i.endTime,i.tag)})["catch"](function(a){e(a)})});this.$OzMediaStream15=[]};c.$OzMediaStream44=function(a,b,c){var d=0,e=this.$OzMediaStream1.getNumber("appends_per_segment",0);if(e>0){a=a.getByteRange();b=b.getByteRange();a&&b&&b.endByte!=null&&(d=Math.ceil((b.endByte-a.startByte+1)/(c*e)))}d===0&&(d=this.$OzMediaStream1.getNumber("append_byte_target_without_range",0));return d};c.enableAdaptation=function(){this.$OzMediaStream26=!0};c.disableAdaptation=function(){this.$OzMediaStream26=!1};c.cleanup=function(){this.$OzMediaStream2.then(function(a){a.destroy()}),this.$OzMediaStream27.destroy(),this.$OzMediaStream13.release(),this.$OzMediaStream13.engage(),this.$OzMediaStream16&&this.$OzMediaStream16.remove(),this.$OzMediaStream20.stop()};c.getRepresentationIDAtTime=function(a){var b=this.$OzMediaStream22.get(a);if(!b&&this.$OzMediaStream1.getBool("fix_tagged_range_at_end_of_stream",!1)){var c=this.$OzMediaStream5.getTimeRanges();c=c[c.length-1];var d=.001;c&&a>=c.endTime&&a<=this.$OzMediaStream4.getDuration()+d&&(b=this.$OzMediaStream22.get(c.endTime-d))}return b?b.id:null};c.endStream=function(){this.$OzMediaStream10.notifyMediaStreamEnded(this),this.$OzMediaStream49()};c.endStreamIfBufferedToEndTime=function(){var a=this.$OzMediaStream5.getTimeRanges();if(a.length>0){a=a[a.length-1].endTime;if(this.$OzMediaStream3){var b=this.$OzMediaStream3.getSourceBufferState().getBufferedRanges();b.length>0&&(Math.abs(b[b.length-1].endTime-a)<B&&this.endStream())}}};c.$OzMediaStream45=function(a){return{type:this.$OzMediaStream18.charAt(0),segment:a,sourceBuffer:this.$OzMediaStream3?this.$OzMediaStream3.getDebug().SourceBuffer:null}};c.$OzMediaStream33=function(){(!this.$OzMediaStream1.getBool("keep_anchor_when_seeking_into_same_buffer",!1)||!this.$OzMediaStream34())&&(this.$OzMediaStream6=null),this.$OzMediaStream28=!1,this.$OzMediaStream9&&this.$OzMediaStream9.cancel(),this.$OzMediaStream19!==0&&this.$OzMediaStream21&&this.$OzMediaStream21.resolve()};c.$OzMediaStream34=function(){var a=this.$OzMediaStream3?this.$OzMediaStream3.getSourceBufferState():null;a=a?z(this.$OzMediaStream4.getCurrentTime(),a.getBufferedRanges()):null;return this.$OzMediaStream6&&a?a.endTime>this.$OzMediaStream6.getTimeRange().startTime:!1};c.$OzMediaStream49=function(){if(this.$OzMediaStream3){var a=this.$OzMediaStream3.getSourceBufferState().getBufferedRanges();a.length>0&&(this.$OzMediaStream29=a[a.length-1].endTime)}};c.getDebug=function(){return{SourceBufferManager:this.$OzMediaStream3,MediaStreamAbrManager:this.$OzMediaStream12}};return b}(x);e.exports=a}),null);
__d("oz-player/utils/getRepresentationInCache",["oz-player/mocks/MockRequestParamCreator"],(function(a,b,c,d,e,f,g){"use strict";var h=new g();function a(a,b){b===void 0&&(b=null);return a.find(function(a){a=a.getInitSegment();var c=a&&a.getByteRange();return a&&c&&b?b.hasCacheValue(h.createRequestParam(a.getURI(),c).uri.toString()):!1})||null}e.exports=a}),null);
__d("oz-player/Player",["Promise","oz-player/loggings/OzDevConsolePerfLogger","oz-player/loggings/OzLoggingUtils","oz-player/loggings/OzMultiDestinationPerfLogger","oz-player/loggings/OzOperationLoggerObserver","oz-player/manifests/OzVideoRepresentation","oz-player/media_source/MediaSourceManager","oz-player/media_source/OzMediaSeekableRangeManager","oz-player/networks/OzNetworkManager","oz-player/parsers/OzMpdParser","oz-player/parsers/OzMpdUpdater","oz-player/playback_controls/OzPlaybackTimeRangeManager","oz-player/playback_controls/OzPlayheadManager","oz-player/playback_controls/OzPlayheadNudger","oz-player/shims/OzEventEmitter","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzSubscriptionsHandler","oz-player/states/OzObservedPlaybackState","oz-player/states/OzPlayerDimensions","oz-player/strategies/OzAbrManager","oz-player/strategies/OzBufferAheadPriorityStrategy","oz-player/strategies/OzBufferAheadTargetStrategy","oz-player/strategies/OzBufferTargetBoundedStreamSegmentsCountStrategy","oz-player/strategies/OzBufferTargetCalculator","oz-player/strategies/OzLiveheadDeltaCatchupStrategy","oz-player/strategies/OzPausedStreamSegmentsCountStrategy","oz-player/strategies/OzPlayheadAtInterruptionDetector","oz-player/strategies/OzPlayingStatePriorityStrategy","oz-player/strategies/OzPriorityCalculator","oz-player/strategies/OzStartupBufferTargetStrategy","oz-player/strategies/OzStaticStreamSegmentsStrategy","oz-player/strategies/OzStreamSegmentsCountCalculator","oz-player/streams/OzEndOfStreamWatcher","oz-player/streams/OzHandleUserRepresentationSwitch","oz-player/streams/OzMediaStream","oz-player/utils/getRepresentationInCache","oz-player/utils/OzError","oz-player/utils/OzErrorEmitter","oz-player/utils/OzPlaybackRestrictionsUtils"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S){"use strict";__p&&__p();var T=h.OzDevConsolePerfLoggerProvider,U=i.executeOperationAndLog,V=i.monitorPromiseAndLogOperation,W=j.OzMultiDestinationPerfLoggerProvider,X=S.applyVideoPlaybackRestrictions;a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b,c,d,e,f,g,h,i,j,l,p,q,r,s,t,u,v,z){__p&&__p();var A;f===void 0&&(f=null);g===void 0&&(g={perfLoggerProviders:[],observedOperationLoggers:[],isOzDevConsoleEnabled:!1});h===void 0&&(h=null);j===void 0&&(j=[]);l===void 0&&(l=new Map());p===void 0&&(p="");q===void 0&&(q=[]);r===void 0&&(r={});s===void 0&&(s=null);t===void 0&&(t=null);u===void 0&&(u=null);v===void 0&&(v=0);z===void 0&&(z=0);A=a.call(this)||this;A.$Player3=new Map();A.$Player4=new Map();A.$Player9=new w();A.$Player10=new R();A.$Player24=[];A.$Player30=null;A.$Player31=null;A.$Player35=function(a){};A.$Player39=!0;var B=g,C=B.perfLoggerProviders;B=B.observedOperationLoggers;g=g;g=g.isOzDevConsoleEnabled;A.$Player15=g||!1;A.$Player14=new W(A.$Player41().concat(C));A.$Player2=c;A.$Player42();A.$Player21=new k();A.$Player21.observe(B,A.$Player14);A.$Player23=h;g=h&&h.getCachedRepresentations(p);A.$Player24=g||j;A.$Player26=l;A.$Player29=q;A.$Player27=r;A.$Player33=s;A.$Player34=t;u&&(A.$Player35=u);A.$Player37=z;A.$Player38=v;b instanceof HTMLVideoElement?(A.$Player1=b,A.$Player5=new m(A.$Player1,A.$Player2,A.$Player14)):(A.$Player1=b.getVideoNode(),A.$Player5=b.getMediaSourceManager(),A.$Player6=b);A.$Player40=i;A.$Player11=new o(A.$Player2,A.$Player23,A.$Player40);A.$Player16=f;A.$Player7=d;A.$Player12=new x(A.$Player1,A.$Player14);A.$Player28=new y(e);A.$Player13=new M(A.$Player5,A.$Player2);A.$Player9.addSubscriptions(A.$Player13.addListener("streamEnd",A.emit.bind(babelHelpers.assertThisInitialized(A),"streamEnd")));A.$Player22=new n(A.$Player5,A.$Player2);A.$Player25=A.$Player43();return A}var c=b.prototype;c.setupPlayer=function(){__p&&__p();this.$Player2.getBool("listen_for_quick_starter_errors",!1)&&this.$Player6&&this.$Player9.addSubscriptions(this.$Player6.onError(this.$Player10.emitError));try{this.$Player8=U(this.$Player14,"parse_manifest",this.$Player44.bind(this,this.$Player7));if(this.$Player16!==null&&this.$Player16!==void 0){var a=new q(this.$Player2,this.$Player8,this.$Player11,this.$Player12,this.$Player14);this.$Player45(a);this.$Player9.addSubscriptions(a.onError(this.$Player10.emitError),a.addListener("streamGone",this.$Player46.bind(this)),a.addListener("streamTransitionToStatic",this.$Player47.bind(this)));a.setupUpdateLoop();this.$Player20=a}this.$Player37=this.$Player8.isStaticMpd()?this.$Player37:this.$Player38;this.$Player17=new s({video:this.$Player1,mpd:this.$Player8,playheadCatchup:this.$Player32,playbackState:this.$Player12,config:this.$Player2,perfLoggerProvider:this.$Player14,seekHandler:this.$Player34,initialPlaybackPosition:this.$Player37});this.$Player18=new t(this.$Player2,this.$Player1);this.$Player19=new r(this.$Player2,this.$Player1,this.$Player8);this.setupStreamsAndFireDebugEvent()}catch(a){if(a instanceof Q)this.$Player10.emitError(a);else throw a}};c.updatePlayerRunTimeConfig=function(a){a=a.videoStreamDataHandler;if(a!==void 0){var b=this.$Player3.get("video");b&&b.updateRunTimeConfigs({videoStreamDataHandler:a})}};c.$Player48=function(a,b){var c=this,d=a.getMimeCodecs(),e,f=0,g=null,h=this.$Player6;h&&(e=h.getSourceBufferManagerPromise(d),f=h.getPrependedSegmentsCount(d),this.$Player2.getBool("fix_quick_starter_overhead",!1)&&(g=h.getRepresentationId(d)));e||(e=this.$Player5.createSourceBufferManager(d,this.$Player2.getBool("set_source_buffer_append_window_end",!1)));this.$Player49(e,b,g,a,f);return V(e,this.$Player14,"source_attach",function(a){a.setType(b)}).then(function(a){return c.$Player17.observeSourceBufferState(a.getSourceBufferState(),b)})};c.$Player50=function(a){a=[this.$Player2,a,this.$Player8.getVideoRepresentations(),this.$Player29,this.$Player12,this.$Player28,window.devicePixelRatio||1];return this.$Player33?this.$Player33.apply(this,a):new(Function.prototype.bind.apply(z,[null].concat(a)))()};c.$Player49=function(a,b,c,d,e){var f=this,g=this.$Player4.get(b),h=new O(this.$Player2,a,e,this.$Player11,this.$Player12,this.$Player13,this.$Player25,this.$Player51(),this.$Player52(g),g,c,d,this.$Player14.cloneContext().setType(b));this.$Player37===0?h.start():this.$Player9.addSubscriptions(this.$Player17.addListener("initialPlaybackPositionSet",function(){f.$Player12.forceUpdateCurrentTime(),h.start()}));this.$Player9.addSubscriptions(h.onError(this.$Player10.emitError),this.$Player22.listenToMediaStreamInitAppended(h));b==="video"&&(this.$Player31=new N(this.$Player2,this.$Player12,X(this.$Player29,this.$Player28.getDimensions(),this.$Player8.getVideoRepresentations()),h,a));this.$Player3.set(b,h);this.$Player9.addSubscriptions(h.addListener("switchRepresentation",function(){b==="video"&&f.emit("switchVideoRepresentation")}),h.addListener("SegmentAppended",function(a){f.$Player53("SegmentAppended",a)}))};c.$Player43=function(){return new D([new J(this.$Player12,this.$Player2),new B(this.$Player2)])};c.$Player45=function(a){var b=this;if(this.$Player2.getNumber("stream_interrupt_check_mpd_stale_count_threshold",0)>0){var c=new G(this.$Player1);this.$Player9.addSubscriptions(c.addListener("playheadAtInterruption",function(a){return b.emit("streamInterruptAt",a)}),a.addListener("streamInterruptAt",function(a){return c.notifyStreamInterrupted(a)}),a.addListener("streamResumedAt",function(a){c.notifyStreamResumed(),b.emit("streamResumedAt",a)}));this.$Player30=c}};c.$Player51=function(){var a=[];this.$Player2.getBool("scheduler_with_priority_update",!1)&&(a=[new H(this.$Player12),new A(this.$Player12)]);return new I(a)};c.$Player52=function(a){var b=[new K(this.$Player2)];this.$Player2.getBool("buffer_target_bounded_stream_count",!1)&&b.push(new C(this.$Player25,this.$Player2));this.$Player2.getNumber("paused_stream_segments_count",0)!==0&&b.push(new F(this.$Player12,this.$Player2));if(a){a=a.getStreamSegmentsCountStrategy();a&&b.push(a)}return new L(b)};c.onError=function(a){return this.$Player10.onError(a)};c.getCurrentQuality=function(){var a=this.$Player3.get("video");a=a&&a.getCurrentRepresentation();return a instanceof l?a.getQualityLabel():this.$Player8.getVideoRepresentations()[0].getQualityLabel()};c.switchToVideoQuality=function(a){var b=this.$Player8.getVideoRepresentations().find(function(b){return b.getQualityLabel()===a});if(b){var c=this.$Player3.get("video");c&&(c.switchRepresentation(b),c.disableAdaptation())}};c.enableVideoQualityAdaptation=function(){var a=this.$Player3.get("video");a&&a.enableAdaptation()};c.getVideoQualities=function(){return this.$Player8.getVideoRepresentations().map(function(a){return a.getQualityLabel()})};c.setEnableLiveheadCatchup=function(a){this.$Player19&&(a?this.$Player14.getOperationLogger("live_catchup_enabled").log():this.$Player14.getOperationLogger("live_catchup_disabled").log(),this.$Player19.setTimelineBlockingEnabled(a))};c.setupStreamsAndFireDebugEvent=function(){var a=this,b=[this.setupVideoStream(),this.setupAudioStreamIfExist()],c=[];return g.all(b).then(function(){var b=a.$Player3.get("video"),d=a.$Player3.get("audio");b&&c.push(b.getCurrentRepresentation());d&&c.push(d.getCurrentRepresentation());c.forEach(function(b){a.$Player9.addSubscriptions(b.addUpdateListener(function(){a.$Player53("SegmentIndexesUpdated",c)}))});a.$Player53("InitialSegmentIndexes",c)})};c.setupVideoStream=function(){__p&&__p();var a=X(this.$Player29,this.$Player28.getDimensions(),this.$Player8.getVideoRepresentations());if(!a.length)return v.reject(new Error("no representation available."));this.$Player22.setTimeRangeProvider(a[0]);this.$Player17.setTimeRangeProvider(a[0]);this.$Player19!=null&&this.$Player19.setTimeRangeProvider(a[0]);var b=this.$Player54("video",a);if(this.$Player2.getBool("enable_adaptation",!1)){var c=this.$Player50(b||a[0]);this.$Player4.set("video",c);this.$Player2.getBool("use_abr_for_missing_default_representation",!1)&&!b&&(b=c.getBestRepresentation())}return this.$Player48(b||a[0],"video")};c.setupAudioStreamIfExist=function(){var a=this.$Player8.getAudioRepresentations();return a.length?this.$Player48(this.$Player54("audio",a)||a[0],"audio"):v.resolve()};c.getMpd=function(){return this.$Player8};c.destroy=function(){__p&&__p();var a=this.$Player14.getOperationLogger("unload").start();this.$Player3.forEach(function(a){a.cleanup()});this.$Player31&&this.$Player31.cleanup();this.$Player3=new Map();this.$Player9.release();this.$Player9.engage();this.$Player12.destroy();this.$Player17.destroy();this.$Player18&&(this.$Player18.destroy(),this.$Player18=null);this.$Player19&&(this.$Player19.destroy(),this.$Player19=null);var b=g.resolve();this.$Player2.getBool("cleanup_video_node_on_destroy",!1)&&(this.$Player1.pause(),this.$Player1.src="",this.$Player1.setMediaKeys&&"function"===typeof this.$Player1.setMediaKeys&&(b=this.$Player1.setMediaKeys(null)));this.$Player20&&this.$Player20.destroy();this.$Player30&&this.$Player30.destroy();this.$Player21.destroy();this.$Player22.destroy();a.log();this.emit("destroyed");a=[b];return g.all(a)};c.$Player54=function(a,b){__p&&__p();var c=this,d;d=b.find(function(a){return c.$Player24.indexOf(a.getID())!==-1});if(!d&&this.$Player6&&this.$Player2.getBool("fix_quick_starter_overhead",!1)){var e=this.$Player6.getRepresentationId(a);e!==null&&e!==void 0&&(d=b.find(function(a){return a.getID()===e}))}d||(d=P(b,this.$Player23));return d||null};c.$Player44=function(a){var b=new p(this.$Player2,{mpdUrl:this.$Player16,customParsers:this.$Player26,customRepresentationParsers:this.$Player27},this.$Player11,this.$Player14);this.$Player9.addSubscriptions(b.onError(this.$Player10.emitError));return b.parse(a)};c.$Player41=function(){var a=[];this.$Player15&&a.push(new T());return a};c.setDimensions=function(a){this.$Player28.setDimensions(a)};c.$Player55=function(a,b){b=this.$Player3.get(b);return b?b.getRepresentationIDAtTime(a):null};c.getAudioRepresentationIDAtTime=function(a){return this.$Player55(a,"audio")};c.getVideoRepresentationIDAtTime=function(a){return this.$Player55(a,"video")};c.$Player46=function(){this.$Player35!=null&&this.$Player35(Array.from(this.$Player3.values()))};c.$Player47=function(){this.$Player2.getBool("end_buffered_streams_on_transition_to_static",!1)&&this.$Player3.forEach(function(a){return a.endStreamIfBufferedToEndTime()})};c.getDebug=function(){var a=this,b=this.$Player3.get("video"),c=this.$Player3.get("audio"),d,e,f,g,h;b&&(d=b.getDebug().MediaStreamAbrManager,e=b.getDebug().SourceBufferManager,e&&(f=e.getDebug().SourceBuffer));c&&(g=c.getDebug().SourceBufferManager,g&&(h=g.getDebug().SourceBuffer));return{getManifest:function(){return a.$Player8},indentifiersIntact:!0,VideoSourceStream:b,VideoAbrManager:d,VideoBufferManager:e,VideoSourceBuffer:f,AudioSourceStream:c,AudioBufferManager:g,AudioSourceBuffer:h}};c.$Player53=function(a,b){this.emit("debug/dashPlayerEvent",{detail:{type:a,event:b}})};c.$Player42=function(){this.$Player2.getBool("live_playhead_catch_up",!1)&&(this.$Player32=new E(this.$Player2))};return b}(u);e.exports=a}),null);
__d("oz-player",["oz-player/Player"],(function(a,b,c,d,e,f){"use strict";e.exports=b("oz-player/Player")}),null);
__d("oz-player/strategies/OzBufferingDetectorStates",["oz-player/utils/OzBufferingUtils"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=g.BUFFER_OVERFLOW_THRESHOLD,i=g.BUFFER_UNDERFLOW_THRESHOLD,j=g.hasEnoughBuffer,k=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.handleEvent=function(a,b,c){if(a.type==="pause"||b.paused)return new l(this.$1);a=this.$2 instanceof m?this.$1.getNumber("in_play_buffer_overflow_target",h):this.$1.getNumber("start_buffer_underflow_target",h);return j(b,a,c,this.$1)?new m(this.$1):this};return a}(),l=function(){__p&&__p();function a(a){this.$1=a}var b=a.prototype;b.handleEvent=function(a,b,c){if(a.type==="play"||a.type==="playing"||!b.paused){a=this.$1.getNumber("start_buffer_underflow_target",i);return j(b,a,c,this.$1)?new m(this.$1):new k(this.$1,this)}return this};return a}(),m=function(){function a(a){this.$1=a}var b=a.prototype;b.handleEvent=function(a,b,c){if(a.type==="pause"||b.paused)return new l(this.$1);a=this.$1.getNumber("in_play_buffer_underflow_target",i);return!j(b,a,c,this.$1)?new k(this.$1,this):this};return a}();e.exports={OzVideoBufferingState:k,OzVideoPausedState:l,OzVideoPlayingState:m}}),null);
__d("oz-player/shims/OzEvent",["Event"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Event")}),null);
__d("oz-player/utils/OzDomEventCapturer",["oz-player/shims/OzEventListener","oz-player/shims/ozKillEvent"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){this.$2=new Map(),this.$1=a}var b=a.prototype;b.capture=function(a,b){var c=this,d=this.$1.parentNode;return!d?{remove:function(){}}:g.capture(d,a,function(a){if(a.target!==c.$1)return;var d=b(a);d&&c.$3(a)})};b.dispatchIfSuppressed=function(a){var b=this.$2.get(a);b&&this.$1.dispatchEvent(b);this.$2["delete"](a)};b.$3=function(a){h(a),this.$2.set(a.type,a)};return a}();e.exports=a}),null);
__d("oz-player/strategies/OzBufferingDetector",["oz-player/shims/OzEventEmitter","oz-player/shims/OzEventListener","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozThrottle","oz-player/utils/OzBufferingUtils","oz-player/utils/OzDomEventCapturer","oz-player/strategies/OzBufferingDetectorStates"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m){"use strict";__p&&__p();k.BUFFER_OVERFLOW_THRESHOLD;var n=k.BUFFER_UNDERFLOW_THRESHOLD,o=k.hasEnoughBuffer,p=m.OzVideoBufferingState,q=m.OzVideoPausedState,r=m.OzVideoPlayingState,s=150;a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b,c,d){__p&&__p();var e;e=a.call(this)||this;e.$OzBufferingDetector3=new i();e.$OzBufferingDetector7=function(a){__p&&__p();a=e.$OzBufferingDetector1.handleEvent(a,e.$OzBufferingDetector2,e.$OzBufferingDetector6());var b=e.$OzBufferingDetector1;e.$OzBufferingDetector1=a;var c=a instanceof p,d=b instanceof p;if(a===b)return a;if(c){c=b instanceof r?"in_play":"start/unpause";e.emit("enter_buffering",c)}else d&&e.emit("leave_buffering");a instanceof r&&e.$OzBufferingDetector4.dispatchIfSuppressed("playing");return a};e.$OzBufferingDetector8=function(a){a=e.$OzBufferingDetector7(a)instanceof p;return e.$OzBufferingDetector5.getBool("suppress_playing_event_while_buffering",!1)?a:!1};e.$OzBufferingDetector2=b;e.$OzBufferingDetector5=c;e.$OzBufferingDetector6=d;e.$OzBufferingDetector2.paused?e.$OzBufferingDetector1=new q(e.$OzBufferingDetector5):e.$OzBufferingDetector1=o(e.$OzBufferingDetector2,e.$OzBufferingDetector5.getNumber("in_play_buffer_underflow_target",n),e.$OzBufferingDetector6(),e.$OzBufferingDetector5)?new r(e.$OzBufferingDetector5):new p(e.$OzBufferingDetector5,null);e.$OzBufferingDetector4=new l(e.$OzBufferingDetector2);e.$OzBufferingDetector3.addSubscriptions(h.listen(e.$OzBufferingDetector2,"pause",e.$OzBufferingDetector7),h.listen(e.$OzBufferingDetector2,"play",e.$OzBufferingDetector7),e.$OzBufferingDetector4.capture("playing",e.$OzBufferingDetector8),h.listen(e.$OzBufferingDetector2,"progress",j(e.$OzBufferingDetector7,s)),h.listen(e.$OzBufferingDetector2,"timeupdate",j(e.$OzBufferingDetector7,s)),h.listen(e.$OzBufferingDetector2,"seeked",e.$OzBufferingDetector7),h.listen(e.$OzBufferingDetector2,"seeking",e.$OzBufferingDetector7),h.listen(e.$OzBufferingDetector2,"waiting",e.$OzBufferingDetector7));return e}var c=b.prototype;c.destroy=function(){this.$OzBufferingDetector3.release()};return b}(g);e.exports=a}),null);
__d("shouldUseOzPlayer",["BanzaiODS","FBLogger","MOzExperiments"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function a(a,b){__p&&__p();b===void 0&&(b=!1);if(!i.mtouch_use_oz_player)return!1;g.bumpEntityKey("MOzVideoPlayerApi","setup");var c,d=function(a){var b=/mimeType=\"([^\"]*)\"\s*codecs=\"([^\"]*)\"/g,c;while(c=b.exec(a)){c=c[1]+'; codecs="'+c[2]+'"';if(!window.MediaSource.isTypeSupported(c)){h("mtouch_video").debug("Unsupported DASH type: %s",c);return!0}}return!1};!a.dashManifest?c="noDashManifest":!window.MediaSource?c="noMediaSourceSupport":!window.fetch?c="noFetch":!window.ReadableStream?c="noReadableStream":d(a.dashManifest)&&(c="codecNotSupported");if(c){b&&g.bumpEntityKey("MOzVideoPlayerApi","fallback."+c);return!1}return!0}e.exports=a}),null);
__d("MOzVideoPlayerApi",["BanzaiODS","EventListener","FBLogger","MMediaFactory","MOzDashPrefetchCache","MOzExperiments","MVideoDashPrefetchCache","MVideoExperiments","MVideoPlayerApiBase","MVideoPlayerOzPerfLoggerProvider","MVideoUtils","OzExperimentsConfig","OzMinimumSmallestDimensionRestriction","OzNetworkRequestStreamHandler","VideoPlayerLoggerErrorStates","VideoPlayerLoggerEvent","VideoPlayerVersions","guid","oz-player","oz-player/configs/DummyOzConfig","oz-player/configs/OzGlobalConfig","oz-player/networks/OzBandwidthEstimator","oz-player/strategies/OzBufferingDetector","oz-player/utils/OzError","shouldUseOzPlayer"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E){__p&&__p();a=o.MVideoPlayerApiBase;A.setGlobalConfig(new z(l));j.populate();var F=720;function G(a){switch(a){case 1:return"The fetching process for the media resource was aborted by the user agent at the users request.";case 2:return"A network error of some description caused the user agent to stop fetching the media resource, after the resource was established to be usable.";case 3:return"An error of some description occurred while decoding the media resource, after the resource was established to be usable.";case 4:return"The media resource indicated by the src attribute was not suitable."}return null}function H(a){switch(a){case 1:return"MEDIA_ERR_ABORTED";case 2:return"MEDIA_ERR_NETWORK";case 3:return"MEDIA_ERR_DECODE";case 4:return"MEDIA_ERR_SRC_NOT_SUPPORTED";default:return"Error code "+a+" is unknown"}}function I(a,b,c){b=m.createQueryStringURL(b);b=m.getCacheValue(b);if(!b){a.push(c);return null}return b}function J(a,b){return a.find(function(a){return a.segment_type===b})}function K(a,b,c){__p&&__p();var d=J(b,"init");b=J(b,"data");if(d){var e=I(a,d,c+" init");if(!e)return null;var f;b&&(f=I(a,b,c+" data"));return{initializationPromise:e,segmentPromise:f,mimeCodec:d.mime_codec,representationID:d.representation_id}}return null}b=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b){__p&&__p();var c;c=a.call(this,b)||this;c.$MOzVideoPlayerApi5=null;c.getVideoQuality=function(){return c.$MOzVideoPlayerApi1};c.toggleVideoQuality=function(){__p&&__p();if(!c.$MOzVideoPlayerApi2)return;var a=c.$MOzVideoPlayerApi2.getVideoQualities();if(!a||a.length===1)return;var b=a.indexOf(c.$MOzVideoPlayerApi1);b===-1&&(b=a.length-1);b=b>=a.length-1?0:b+1;a=a[b];c.$MOzVideoPlayerApi2.switchToVideoQuality(a);c.$MOzVideoPlayerApi1=a};return c}var c=b.prototype;c.postInit=function(){__p&&__p();var a=this,b=new r(l);this.$MOzVideoPlayerApi6=b;this.$MOzVideoPlayerApi7(b);try{var c=this.getVideoData().dashManifest;if(!c)throw new Error("No manifest available in VideoData. Aborting.");this.getSubscriptions().addSubscriptions(h.listen(this.getVideoElement(),"error",this.$MOzVideoPlayerApi8.bind(this)));try{var d=[this.getPreInitLoggerProvider()];this.getVideoData().quickStarter&&(d=d.concat(this.getVideoData().quickStarter.getObservedOperationLoggers()));var e=this.getDimensions();this.$MOzVideoPlayerApi2=new y(this.getVideoData().quickStarter||this.getVideoElement(),b,c,{width:e.width,height:e.height},null,{perfLoggerProviders:this.$MOzVideoPlayerApi9(),observedOperationLoggers:d},new k(),new t(b),void 0,void 0,this.getVideoID(),this.$MOzVideoPlayerApi10(),this.$MOzVideoPlayerApi11())}catch(a){g.bumpEntityKey("MOzVideoPlayerApi","error.createDashPlayer");throw a}this.$MOzVideoPlayerApi2.onError(function(b){return a.$MOzVideoPlayerApi12(b,"DashPlayer.onError")});this.$MOzVideoPlayerApi2.setupPlayer();c=this.$MOzVideoPlayerApi2.getVideoQualities();c.length>1&&(this.$MOzVideoPlayerApi1=this.$MOzVideoPlayerApi2.getCurrentQuality())}catch(a){g.bumpEntityKey("MOzVideoPlayerApi","failed.exception");this.$MOzVideoPlayerApi12(a,"caught");throw a}};c.$MOzVideoPlayerApi10=function(){var a=[];l.respect_force_hd_prop&&this.getVideoData().defaultQuality==="HD"&&a.push(new s(F));return a};c.$MOzVideoPlayerApi11=function(){var a={};l.parse_custom_quality_label&&(a.qualityLabel=function(a){try{return a.$.FBQualityLabel}catch(a){return null}});return a};c.$MOzVideoPlayerApi7=function(a){if(!l.use_buffering_detector)return;var b=this.getVideoElement();a=new C(b,a,function(){return b.duration});this.$MOzVideoPlayerApi3=a;a.addListener("enter_buffering",this.$MOzVideoPlayerApi13.bind(this));a.addListener("leave_buffering",this.$MOzVideoPlayerApi14.bind(this))};c.$MOzVideoPlayerApi13=function(){this.getLogger().startBuffering(this.getVideoElement().currentTime),this.$MOzVideoPlayerApi4=this.getPreInitLoggerProvider().getOperationLogger("buffering").setType(this.isPlayScheduled()&&!this.isCurrentlyPlaying()?"start/unpause":"in_play").setInitiator(this.getLastActionReason()).start(),this.eventEmitter.emit("buffering")};c.$MOzVideoPlayerApi14=function(){this.getLogger().endBuffering(),this.$MOzVideoPlayerApi4&&(this.$MOzVideoPlayerApi4.log(),this.$MOzVideoPlayerApi4=null),this.eventEmitter.emit("buffered")};c.onTimeUpdateBase=function(b){a.prototype.onTimeUpdateBase.call(this,b),n.send_representation_ended&&this.$MOzVideoPlayerApi15(b.target.currentTime)};c.$MOzVideoPlayerApi15=function(a){a=this.$MOzVideoPlayerApi2.getVideoRepresentationIDAtTime(a);if(a!=null&&a!==this.$MOzVideoPlayerApi5){var b=this.$MOzVideoPlayerApi5;this.$MOzVideoPlayerApi5=a;b!=null&&this.logEvent(v.REPRESENTATION_ENDED,{representation_id:b,next_representation_id:a})}};c.$MOzVideoPlayerApi12=function(a,b,c){__p&&__p();c===void 0&&(c=u.PLAYER_FAILURE);var d="(empty)",e="(empty)",f=null,g=null,h=null;if(a){h=a.stack;if(a instanceof D){var i=a.getExtra();e=a.getType();d=a.getDescription();f=i.code;g=i.url}else a.message?d=a.message:a.code?d=G(a.code):d=a.toString(),a.code?e=H(a.code):a.name?e=a.name:e=a.toString(),d=e+" "+(d?d:"(unknown)"),e="OZ_JAVASCRIPT_NATIVE"}i=(b?b+": ":"")+d;this.logEvent(v.ERROR,{error:e,error_description:i,state:c,httpStatus:f,url:g,stack:h})};c.getPlayerVersion=function(){return w.MTOUCH_OZ};c.$MOzVideoPlayerApi8=function(a){g.bumpEntityKey("MOzVideoPlayerApi","error.onMediaElementError");a=this.getVideoElement().error;a&&this.$MOzVideoPlayerApi12(a,"onError",u.PLAYBACK_FAILURE)};c.$MOzVideoPlayerApi9=function(){var a=this,b=[];p&&p.isEnabled&&typeof p.isEnabled==="function"&&p.isEnabled()&&(b.push(new p({videoID:this.getVideoID(),isLive:!1,video:this.getVideoElement(),uniqueID:x(),playerOrigin:this.getPlayerOrigin(),playerSuborigin:this.getPlayerSuborigin(),accessToken:null,representationId:null,preloadTime:this.getVideoData().preloadTime,getBandwidthEstimate:function(){return B.getAdjustedBandwidth(a.$MOzVideoPlayerApi6)}})),this.getVideoData().preloadTime=null);return b};c.shouldDisablePlayDelay=function(){return l.immediate_play};c.shouldIgnoreInitialMuteOperation=function(){return l.ignore_initial_mute_operation};c.unload=function(){l.fix_call_destroy&&this.$MOzVideoPlayerApi2.destroy();var b=this.getVideoData();b.quickStarter&&(b.quickStarter=null);this.$MOzVideoPlayerApi3&&this.$MOzVideoPlayerApi3.destroy();a.prototype.unload.call(this)};b.prepare=function(a,b,c){__p&&__p();a=q.getVideoDataFromMVideo(a);var d=E(a);a.preloadTime=Date.now();if(l.precreate_video_node&&d){d=j.get();a.videoElement=d.node;g.bumpEntityKey("MOzVideoPlayerApi","precreate_video_node");if(d.quickStarter){a.quickStarter=d.quickStarter;if(b&&l.feed_quick_starter&&(!l.no_quickstarter_for_ctp||!c||c.isAutoplayable())){d=[];c=K(d,b.prefetch_data.video,"video");if(c){a.quickStarter.addPrefetchTrack(c);c=K(d,b.prefetch_data.audio,"audio");c&&a.quickStarter.addPrefetchTrack(c)}d.length!==0&&!l.no_prefetch_for_ctp&&i("mtouch_oz").mustfix("Unable to feed OzQuickStarter because some of the prefetches are missing: %s",d.join(", "))}}}};c.getAdditionalLogData=function(b){var c=a.prototype.getAdditionalLogData.call(this,b);n.send_representation_ended&&b!==v.REPRESENTATION_ENDED&&(c.representation_id=this.$MOzVideoPlayerApi5);return c};return b}(a);e.exports=b}),null);
__d("MProgressiveVideoPlayerApi",["DOM","MVideoPlayerApiBase","VideoPlayerVersions"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();a=h.MVideoPlayerApiBase;b=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b){return a.call(this,b)||this}var c=b.prototype;c.postInit=function(){a.prototype.postInit.call(this),this.$MProgressiveVideoPlayerApi1()};c.$MProgressiveVideoPlayerApi1=function(){var a=this.getVideoData(),b=this.getVideoElement();a=a.effectiveSrc;Array.isArray(a)&&a.length===1&&(a=a[0]);Array.isArray(a)?a.forEach(function(a){b.appendChild(g.create("source",a))}):a&&b.setAttribute("src",a);b.load()};c.getAdditionalLogData=function(b){b=a.prototype.getAdditionalLogData.call(this,b);var c={},d=this.getVideoData().playbackIsLiveStreaming;d&&(c.playback_is_live_streaming=this.getVideoData().playbackIsLiveStreaming);return Object.assign({},b,c)};c.getPlayerVersion=function(){return i.HTML5};return b}(a);e.exports=b}),null);
__d("MSphericalVideoPlayerApi",["Bootloader","MVideoCache","MProgressiveVideoPlayerApi","MVideoUtils","VideoPlayerVersions","promiseDone"],(function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b){__p&&__p();var c;c=a.call(this,b)||this;c.getVideoQuality=function(){return c.$MSphericalVideoPlayerApi1};c.toggleVideoQuality=function(){__p&&__p();if(c.getVideoElement().tagName!=="VIDEO"||h.isSupported()&&h.getCachedVideoByID(c.getVideoID()))return;var a=c.getVideoData().availableQualities;if(!a)return;var b;for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)&&d!==c.$MSphericalVideoPlayerApi1){b=d;break}if(!b)return;c.$MSphericalVideoPlayerApi1=b;a=a[c.$MSphericalVideoPlayerApi1];if(!a)return;c.getVideoElement().pause();var e=c.getVideoElement().currentTime;c.getVideoElement().setAttribute("src",a);c.getVideoElement().currentTime=e;c.getVideoElement().load();c.getVideoElement().play()};return c}var c=b.prototype;c.postInit=function(){var b=this;a.prototype.postInit.call(this);this.getVideoElement().load();this.$MSphericalVideoPlayerApi1=this.getVideoData().defaultQuality;l(this.setupControls().then(function(){return b.play(b.getVideoPlayReason())}));this.$MSphericalVideoPlayerApi3()};c.prepareDOMNode=function(){a.prototype.prepareDOMNode.call(this),this.getVideoElement().setAttribute("crossorigin","anonymous")};c.$MSphericalVideoPlayerApi3=function(){__p&&__p();var a=this;if(this.$MSphericalVideoPlayerApi2)return;var b=this.getVideoData();b=b&&b.sphericalParams||{};var c={projectionType:b.projection,initialHeading:b.initialYaw,initialPitch:b.initialPitch,fieldOfView:b.initialFieldOfView,expansionCoef:1.01};b={disableTouchControls:b.disableSphericalTouchControls};var d={videoID:this.getVideoID(),logEvent:this.logEvent.bind(this),viewportConfig:b};g.loadModules(["MVideoPlayerHTML5Spherical"],function(b){a.$MSphericalVideoPlayerApi2=new b(a,a.getVideoElement(),c,d),a.play()},"MSphericalVideoPlayerApi")};c.show=function(){a.prototype.show.call(this),this.toggleClassOnMVideoElement(j.SPHERICAL_CLASS,!0)};c.play=function(b){if(!this.getEmbeddedVideoControls()||!this.$MSphericalVideoPlayerApi2)return;a.prototype.play.call(this,b)};c.getEmbeddedVideoControlsConfig=function(){return{fullScreenControlHidden:!0}};c.unload=function(){a.prototype.unload.call(this),this.$MSphericalVideoPlayerApi2&&(this.$MSphericalVideoPlayerApi2.unload(),this.$MSphericalVideoPlayerApi2=null)};c.getPlayerVersion=function(){return k.MTOUCH_SPHERICAL};return b}(i);e.exports=a}),null);
__d("MVideoMediaSourceState",[],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this.$2=!1,this.$1=!1,this.$3=a}var b=a.prototype;b.getMediaSource=function(){return this.$3};b.videoStreamEnded=function(){this.$2=!0,this.$4()};b.audioStreamEnded=function(){this.$1=!0,this.$4()};b.$4=function(){this.$1&&this.$2&&this.$3.endOfStream()};return a}();e.exports=a}),null);
__d("showVideoUnavailableDialog",["MCustomDialog","fbt"],(function(a,b,c,d,e,f,g,h){function a(){var a=h._("Videos No Longer Available"),b=h._("Please connect to the Internet and try again."),c=h._("OK");g.show({titleString:a,descriptionString:b,dismissButtonString:c})}e.exports=a}),null);
__d("MInlineVideo",["EventListener","FBLogger","MFullScreen","MLegacyDataStore","MOzLiveVideoPlayerApi","MOzVideoPlayerApi","MProgressiveVideoPlayerApi","MSphericalVideoPlayerApi","MVideoCache","MVideoCacheCleanUp","MVideoDownloadConfig","MVideoExperiments","MVideoMediaSourceState","MVideoUtils","Stratcom","SubscriptionsHandler","VideoPlayerReason","emptyFunction","getElementPosition","qex","shouldUseOzPlayer","showVideoUnavailableDialog","throttle"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C){__p&&__p();var D,E,F=!1,G=null,H;function a(a,b){__p&&__p();b&&(D=b);if(F)return;a&&a.setup();u.listen("click",t.PLAY_SIGIL,R);u.listen("m:page:unload",null,J);b=["m:jewel:flyout:open","m:popup:show","m:side-area:show","m:feed-ufi:show","m:chrome:tab:show"];u.listen(b,null,K);r.remove_hidden_video_on_blur&&g.listen(window,"blur",Y);F=!0}function I(){G&&G.isVisible()&&G.getVideoData().playInFullScreen==="true"&&!i.isFullScreen()&&(J(),i.removeFullScreenEventListeners(window,I))}function J(){if(!G)return;r.reuse_api_instance?G.unload():G.destroy();G=null;E=null;H&&(H.release(),H=null)}function K(){if(!G||!G.hasActivePlayer())return;j.get(E).type!=="video"?J():G&&(G.pause(w.PAGE_VISIBILITY),G.hide())}function L(){return G?G.getLastActionReason():w.USER}function b(){return E}function M(a){G&&G.pause(a)}function N(a){G&&G.play(a)}function c(a){G&&G.setLastActionReason(a)}function O(a,b){__p&&__p();var c=null,d=null;b.videoCodec?(c=a.getMediaSource().addSourceBuffer('video/mp4; codecs="'+b.videoCodec+'"'),c.addEventListener("updateend",function(){a.videoStreamEnded()},!1)):a.videoStreamEnded();b.audioCodec?(d=a.getMediaSource().addSourceBuffer('audio/mp4; codecs="'+b.audioCodec+'"'),d.addEventListener("updateend",function(){a.audioStreamEnded()},!1)):a.audioStreamEnded();b.videoCodec&&o.getCachedVideoStream(b,function(a){var b=new FileReader();b.addEventListener("loadend",function(){c.appendBuffer(b.result)});b.readAsArrayBuffer(a)},x);b.audioCodec&&o.getCachedAudioStream(b,function(a){var b=new FileReader();b.addEventListener("loadend",function(){d.appendBuffer(b.result)});b.readAsArrayBuffer(a)},x)}function P(a,b){__p&&__p();var c=null,d=null,e=null,f=null,g=function(a,b,c){b.getNextBuffer(function(b){if(b){var d=new FileReader();d.addEventListener("loadend",function(){a.appendBuffer(d.result)});d.readAsArrayBuffer(b)}else c()})};b.videoCodec?(e=o.getCachedVideoStreamObject(b),c=a.getMediaSource().addSourceBuffer('video/mp4; codecs="'+b.videoCodec+'"'),c.addEventListener("updateend",function(){g(c,e,function(){a.videoStreamEnded()})},!1)):a.videoStreamEnded();b.audioCodec?(f=o.getCachedAudioStreamObject(b),d=a.getMediaSource().addSourceBuffer('audio/mp4; codecs="'+b.audioCodec+'"'),d.addEventListener("updateend",function(){g(d,f,function(){a.audioStreamEnded()})},!1)):a.audioStreamEnded();b.videoCodec&&g(c,e,function(){a.videoStreamEnded()});b.audioCodec&&g(d,f,function(){a.audioStreamEnded()})}function Q(a){if(!G||!G.isVisible())return;G.isPlayingState()?M(w.USER):N(w.USER)}function R(a,b,c,d){S(a,b,c,d)}function S(a,b,c,d){__p&&__p();b||(b=a.getNode(t.INSERTION_POINT_SIGIL));d=d||w.USER;var e=t.getVideoDataFromMVideo(b),f=o.isVideoDownloading(e.videoID);if(f)return!1;if(G&&G.getMVideoElement()===b&&G.isVisible()){z._("773042")&&Q(a);return!1}a&&a.prevent();e.effectiveSrc=e.src;var g=o.isSupported()&&e.canUseOffline&&o.getCachedVideoByID(e.videoID);if(g){f=g&&p.checkAccess(g);o.logPlaybackRequest(e.videoID,f,d);if(!f){B();return!1}else{var h=new s(new MediaSource());h.getMediaSource().addEventListener("sourceopen",function(){q.cache_chunked_playback_enabled?P(h,g):O(h,g)},!1);e.effectiveSrc=window.URL.createObjectURL(h.getMediaSource())}}e.muted=e.playMuted!=null?e.playMuted:!!c;return U(a,b,e,d)}function T(a){a=V(a);return new a(E)}function U(a,b,c,d){(!G||G.getMVideoElement()!==b)&&(u.invoke("m:video:player:prepare",null,{videoElement:b}),J(),E=b,(E===null||E===void 0)&&h("mtouch_video").warn("mVideoContainer is not available"),r.create_api_on_serverside?(G=c[t.API_INSTANCE_KEY],G||(r.reuse_api_instance&&h("mtouch_video").mustfix("_videoUnit is expected but not found"),G=T(c))):G=T(c),G.init(d),D&&D.setVideoUnit(G));G.show();b=c.playOnClick&&c.type==="video";b&&(G.play(d),c.playInFullScreen&&i.isSupported()&&(i.listenForFullScreenEvent(window,I),c.useOzLive?(i.enableFullScreen(E),screen&&screen.orientation&&screen.orientation.lock&&screen.orientation.lock("landscape")):i.enableFullScreen(G.getVideoElement())));G.showLoadingSpinner();W(E,c,G.getVideoElement());a&&t.handleLoggingOnPlay(a,G,c);return b}function V(a){if(a.useOzLive)return k;else if(r.enableSphericalVideo&&a.spherical)return n;else if(A(a,!0))return l;return m}function W(a,b,c){var d=500;b.videoScrollUseLowThrottleRate&&(d=200);H||(H=new v());H.addSubscriptions(u.listen("scroll",null,C(function(){return X(a,b,c)},d)))}function X(a,b,c){if(!G)return;b=i.isFullScreen()||t.isVisible(y(a));c=G.isPlayingState();!b&&c&&L()!==w.AUTOPLAY?M(w.VIDEO_VISIBILITY):b&&!c&&L()===w.VIDEO_VISIBILITY&&N(w.VIDEO_VISIBILITY)}function d(){return G?G.isPlayScheduled()?t.PLAYER_STATE.playing:t.PLAYER_STATE.paused:t.PLAYER_STATE.paused}function Y(){G&&!G.isVisible()&&J()}f.getLastActionReason=L;f.getPlayerState=d;f.getPlayerDOMVideoElement=b;f.pause=M;f.play=N;f.removePlayer=J;f.setLastActionReason=c;f.setupListeners=a;f.showPlayer=S}),null);