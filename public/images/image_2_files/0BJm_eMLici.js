if (self.CavalryLogger) { CavalryLogger.start_js(["LEdls"]); }

__d("MSearchKeywordsConst",[],(function(a,b,c,d,e,f){e.exports={keywordType:"keyword",keywordTypes:{celebrity:"celebrity",trending:"trending",keyword:"keyword",football:"am_football",photos:"photos",videos:"videos",hashtag:"hashtag",local:"local",localCategory:"local_category",company:"company",movie:"movie",happeningNow:"happening_now",link:"link",specialIntentGeneric:"special_intent_gener"},intentKeys:["isTrending","isCelebrity","isFootball","isPhotos","isVideos","isHashtag","isLocal","isCompany","isMovie","isHappeningNow","isSpecialIntentGeneric","isLink"],keywordBootstrapTypes:{recent:"recent_search_suggestion",popular:"popular_search_suggestion",trending:"trending_search_suggestion",serp_first:"serp_first_suggestion",people:"people_suggestion",null_state:"null_state_suggestion",awareness:"awareness_suggestion",interest:"interest_suggestion",cf_search:"collaborative_filtered_search_suggestion"}}}),null);
__d("MSideNavMarauderLogger",["MarauderLogger","MLegacyDataStore","MTouchClick","Stratcom"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();var k="";function a(a){g.toggleModule("sidebar_menu",!0)}function b(a){g.toggleModule("sidebar_menu",!1)}function c(a){var b=a.getNode("tag:a");a=a.getNode("tag:div");g.log("open_application","sidebar_menu",{application_link_type:"local_module",display_name:a?a.innerText:"unknown",url:b&&b.href});g.setNavigationModule("sidebar_menu")}function d(){o("session_start")}function f(){o("cancel")}function l(a){__p&&__p();a=a.getData();if(a.node.rel<=0)return;var b=0,c="",d=h.get(a.node);d&&(b=d.bootstrap?1:0,c=d.type);d=0;var e=null;for(var f=0;f<a.results.length;f++){var g=a.results[f];if(g.rel>0){if(g.rel==a.node.rel){e=d;break}d++}}o("click",{query:a.query,is_bootstrapped:b,display_position:e},c,a.node.rel)}function m(a){a=a.getData();o("click",{query:a.query,is_bootstrapped:a.node.bootstrap?1:0,display_position:a.position},a.node.type,a.node.id)}function n(a){k!==a&&o("search_keystroke",{prev_query:k,new_query:a}),k=a}function o(a,b,c,d){g.log(a,"search_typeahead",b,c,d)}function p(a){return a.listen("change",n)}j.listen("m:side-area:show",null,a);j.listen("m:side-area:hide",null,b);j.listen("click","side-menu-item",c);a=i.hasTouchEvents()?"touchend":"click";j.listen(a,"search-activator",d);j.listen(a,"graph-search-activator",d);j.listen("click","graph-search-entry-point",d);j.listen("m:search-overlay:cancel",null,f);j.listen("m:search-overlay:cancel-react",null,f);j.listen("m:search-typeahead:select",null,l);j.listen("m:search-typeahead:select-react",null,m);e.exports={setupTypeaheadListener:p}}),null);
__d("BrowseWebSLRPELoggerClickType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ITEM_IN_MODULE_TAPPED:"graph_search_results_item_in_module_tapped",ITEM_TAPPED:"graph_search_results_item_tapped",SEE_MORE_TAPPED:"graph_search_results_see_more_on_module_tapped",INLINE_FRIEND_REQUEST:"inline_friend_request",INLINE_PAGE_LIKE_REQUEST:"inline_page_like_request",MODULE_TAPPED:"graph_search_results_module_tapped",VIEW_PORT_VIEWS_ON_SEARCH_RESULTS:"view_port_views_on_search_results",INLINE_ACTION:"inline_action"})}),null);
__d("XGroupSearchResultsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/groups/search/",{groupID:{type:"Int"},query:{type:"String"},name:{type:"String"},cursor:{type:"String"},source:{type:"String"}})}),null);
__d("MSearchSimplificationUtils",["MHistory","URI","XGroupSearchResultsController"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=new RegExp("^/(search/top|graphsearch/str.+/keywords_(top|search))"),k=new RegExp("^/(search|graphsearch|groups/search)"),l=new RegExp("^/(groups/search)"),m="/search-jewel/";function n(a){var b=g.getPath();b=new h(b).getPath();return b.match(a)!=null}var o={getKeywordSemantic:function(a){return"keywords_search("+a+")"},getKeywordURI:function(a){return new h("/search/top/").addQueryData("q",a)},getGroupSearchURI:function(a,b){return i.getURIBuilder().setInt("groupID",a).setString("query",b).getURI()},isSearchURI:function(a){return a.getPath().match(k)!=null},isTopTabURI:function(a){return a.getPath().match(j)!=null},isCurrentPathTopTabPath:function(){return n(j)},isCurrentPathSERPPath:function(){return n(k)},isCurrentPathScopedSearchPath:function(){return n(l)},isCurrentPathSearchJewelPermalink:function(){var a=new h(g.getPath());a=a.getPath();return a===m},isTypeaheadOpen:function(){return g.getParam(g.SOFT_STATE_KEY)==="search"},isTabOverlayOpen:function(){return g.getParam(g.SOFT_STATE_KEY)!=null},getQueryFromCurrentPath:function(){if(!o.isCurrentPathSERPPath())return null;var a=new h(g.getPath()),b=a.getQueryData();if(b.q!=null)return b.q;b=a.getPath();a=b.match(/\/graphsearch\/str\/([^\/]+)/);return a!=null?decodeURIComponent(a[1]).replace(/\+/g," "):null}};e.exports=o}),null);
__d("mSearchSimplificationResultTransformer",["MSearchSimplificationUtils","URI"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b=a.type==="keyword",c=a.display,d=a.path,e=a.id,f=a.type;c=(a.display||a.text).toLowerCase();e=g.getKeywordSemantic(c);d=new h(d);b||(d=g.getKeywordURI(c).toString(),f="keyword");return{boldedSubtext:a.boldedSubtext,cost:a.cost,display:c,id:e,idx:a.idx,isScoped:a.is_scoped,isVerified:a.is_verified,keyword_type:a.keyword_type,keywordBoldedSubtext:a.keywordBoldedSubtext,keywordRenderType:a.keywordRenderType,logInfo:a.logInfo,name:a.text,photo:a.photo,showGrayCheck:a.show_gray_check,subtext:a.subtext,tokens:a.tokens,type:f,uri:d,verticalType:a.vertical_type,keywordSource:a.keywordSource}}e.exports=a}),null);
__d("MGraphSearchTypeaheadTouchSource",["MTypeaheadTouchSource","mSearchSimplificationResultTransformer"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b,c){b=a.call(this,b,c)||this;b.setNormalizer(function(a){return a.toLowerCase()});return b}var c=b.prototype;c.renderNodes=function(b,c){__p&&__p();if(this._shouldOnlyPrefixMatch){var d=[];for(var e=c,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{g=e.next();if(g.done)break;h=g.value}h=h;var i=this._raw[h];i.display.toLowerCase().indexOf(b.toLowerCase())===0&&d.push(h)}c=d}return a.prototype.renderNodes.call(this,b,c)};c.checkFragmentMatches=function(a,b,c,d){if(a.substr(0,b.length)!==b)return!1;c=c[c.length-1]!==" ";return!c||b!==d?a==b:!0};c.tokenize=function(b){b=a.prototype.tokenize.call(this,b);b[b.length-1]===""&&b.pop();return b};c.setConvertEntityToKeyword=function(a){this.convertEntityToKeyword=a};c.getTransformer=function(){var a=this;return function(b){return a.convertEntityToKeyword?babelHelpers["extends"]({},h(b),{bootstrapped:!0}):{name:b.text,uri:b.path,id:b.uid,display:b.display||b.text,photo:b.photo,category:b.category,cost:b.cost,idx:b.idx,tokens:b.tokens,type:b.untranslated_type||b.type,verticalType:b.vertical_type,subtext:b.text_only_subtext||b.subtext,logInfo:b.logInfo,bootstrapped:!0,saved_context:b.saved_context,render_type:b.render_type,isVerified:b.is_verified,showGrayCheck:b.show_gray_check,isWorkForeignEntity:b.is_work_foreign_entity}}};c.setShouldOnlyPrefixMatch=function(a){this._shouldOnlyPrefixMatch=a};return b}(g);e.exports=a}),null);
__d("SearchLoggingClientUnitIdPrefix",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({WWW_BEM:"www_bem",WWW_BEM_RES:"www_bem_res",WWW_INSTANT_BEM:"www_instant_bem",WWW_SPELLER:"www_speller",MTOUCH_BEM:"mtouch_bem",MTOUCH_BEM_RES:"mtouch_bem_res"})}),null);
__d("XSearchBEMUnitDataLoggingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/search/async/log_bem_unit_data/",{session_id:{type:"String",required:!0},logging_unit_id:{type:"String",required:!0},query:{type:"String",required:!0},query_function:{type:"String",required:!0},results_module_role:{type:"String",required:!0},tapped_result_entity_id:{type:"String"},entity_ids:{type:"StringSet"},bootstrap_item_count:{type:"Int"},should_log_module_impression:{type:"Bool",defaultValue:!1},is_high_confidence_module:{type:"Bool",defaultValue:!1}})}),null);
__d("MSearchBootstrapEntityModuleLoggingUtils",["MRequest","MViewableImpressionTracking","SearchEntityModuleServerConstants","SearchLoggingClientUnitIdPrefix","SearchMSiteTrackableClientViewConfig","XSearchBEMUnitDataLoggingController","invariant","md5","memoizeWithArgs","randomInt"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){"use strict";__p&&__p();var q={getModuleTrackingData:o(function(a,b){var c=i.SEARCH_RESULTS_TRACKABLE;c=c+JSON.stringify({session_id:a,unit_id:q._getModuleUnitID(a),unit_id_click_type:b});return{"data-xt":c,"data-xt-vimp":JSON.stringify(k)}},function(a,b){return a+(b!=null?b:"")}),getSerializedResultTrackingData:o(function(a,b,c,d){var e=b.type,f=i.SEARCH_RESULTS_TRACKABLE,g=i.MTOUCH_BEM_CLICK_TYPE,h=i.RESULT_TYPE_TO_MODULE_ROLE,j=i.TYPE_TO_BROWSE_TYPE,k=q._getResultUnitID(a,b);return f+JSON.stringify({browse_result_type:j[e],click_type:g,module_result_position:c.indexOf(b),module_role:h[e],result_id:b.id,session_id:a,unit_id:k,unit_id_click_type:d,unit_id_result_id:b.id})},function(a,b,c,d){return a+b.id+c.map(function(a){return a.id}).join(",")+(d!=null?d:"")}),logUnitData:function(a,b,c,d){__p&&__p();var e=q._getModuleUnitID(a),f=b.first();f!=null||m(0,3535);f=f.type;var h=i.RESULT_TYPE_TO_MODULE_ROLE,j=i.BROWSE_EDGE_KEYWORDS_SEARCH;j=j+"("+c+")";h=h[f];f=l.getURIBuilder().setString("session_id",a).setString("query",c).setString("query_function",j).setString("results_module_role",h).setString("logging_unit_id",e).setInt("bootstrap_item_count",b.size).setStringSet("entity_ids",b.map(function(a){return a.id}).toArray()).setBool("is_high_confidence_module",d.isHighConfidenceModule).setBool("should_log_module_impression",!0);new g(f.getURI()).send();for(var e=b,b=Array.isArray(e),k=0,e=b?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var n;if(b){if(k>=e.length)break;n=e[k++]}else{k=e.next();if(k.done)break;n=k.value}n=n;var o=q._getResultUnitID(a,n);f=l.getURIBuilder().setString("session_id",a).setString("query",c).setString("query_function",j).setString("results_module_role",h).setString("logging_unit_id",o).setString("tapped_result_entity_id",String(n.id)).setBool("is_high_confidence_module",d.isHighConfidenceModule);new g(f.getURI()).send()}},initVPVDLogging:function(){h.init()},_getModuleUnitID:o(function(a){return q._generateUnitID(j.MTOUCH_BEM)},function(a){return a}),_getResultUnitID:o(function(a,b){return q._generateUnitID(j.MTOUCH_BEM_RES)},function(a,b){return a+b.id}),_generateUnitID:function(a){return a+":"+n(String(p(0,Number.MAX_SAFE_INTEGER)))}};e.exports=q}),null);
__d("XSearchEntityPrimaryActionsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/search/entity_primary_actions/",{container_id:{type:"String",required:!0},ent_id:{type:"FBID",required:!0},result_type:{type:"String",required:!0}})}),null);
__d("XSearchProfilePictureController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/search/async/profile_picture/",{fbid:{type:"FBID",required:!0},width:{type:"Int",required:!0},height:{type:"Int",required:!0}})}),null);
__d("MSearchEntityResult",["DOM","MRequest","MRequestTypes","XSearchEntityPrimaryActionsController","XSearchProfilePictureController","cx","setImmediateAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m){"use strict";__p&&__p();var n=64;function o(a){var b=a.result.photo,c=a.result.type==="user";c&&(b=k.getURIBuilder().setFBID("fbid",String(a.result.id)).setInt("width",n).setInt("height",n).getURI().toString());return b==null?null:g.create("a",{href:a.result.uri,touchable:!0},g.create("img",{className:"_uod",src:b}))}function p(a){var b=a.result,c=b.name,d=b.subtext,e=b.isVerified;b=b.showGrayCheck;var f;b?f=g.create("i",{className:"_uog"}):e&&(f=g.create("i",{className:"_uoe"}));return g.create("a",{className:"_uoh touchable",href:a.result.uri},[g.create("div",{className:"_uoi"},[g.create("div",{className:"_uok"},c),f]),g.create("div",{className:"_1e8d"},d)])}function q(a){var b=a.result,c="bem_"+b.id;a=g.create("div",{id:c,className:"_5_fr"},g.create("div",{className:"_55ym _55yq"}));m(function(){var a=j.getURIBuilder().setString("container_id",c).setFBID("ent_id",String(b.id)).setString("result_type","browse_type_"+b.type).getURI();new h(a).setMethod("GET").setType(i.INDEPENDENT).send()});return a}function a(a){return g.create("div",{className:"_uoq _3o0d"+(a.ddSplit?" _73jw":"")},[o(a),p(a),q(a)])}e.exports=a}),null);
__d("TokenizeUtil",["nullthrows"],(function(a,b,c,d,e,f,g){__p&&__p();var h=/[ ]+/g,i=/[^ ]+/g;f=new RegExp("[^ "+l()+"]+|"+a(),"g");var j=new RegExp(a(),"g"),k=1e3;function l(){return".,+*?$|#{}()'\\^\\-\\[\\]\\\\\\/!@%\"~=<>_:;\u30fb\u3001\u3002\u3008-\u3011\u3014-\u301f\uff1a-\uff1f\uff01-\uff0f\uff3b-\uff40\uff5b-\uff65\u2e2e\u061f\u066a-\u066c\u061b\u060c\u060d\ufd3e\ufd3f\u1801\u0964\u104a\u104b\u2010-\u2027\u2030-\u205e\xa1-\xb1\xb4-\xb8\xba\xbb\xbf"}function a(){return"["+l()+"]"}var m={},n={a:"\u0430 \xe0 \xe1 \xe2 \xe3 \xe4 \xe5 \u0101",b:"\u0431",c:"\u0446 \xe7 \u010d",d:"\u0434 \xf0 \u010f \u0111",e:"\u044d \u0435 \xe8 \xe9 \xea \xeb \u011b \u0113",f:"\u0444",g:"\u0433 \u011f \u0123",h:"\u0445 \u0127",i:"\u0438 \xec \xed \xee \xef \u0131 \u012b",j:"\u0439",k:"\u043a \u0138 \u0137",l:"\u043b \u013e \u013a \u0140 \u0142 \u013c",m:"\u043c",n:"\u043d \xf1 \u0148 \u0149 \u014b \u0146",o:"\u043e \xf8 \xf6 \xf5 \xf4 \xf3 \xf2",p:"\u043f",r:"\u0440 \u0159 \u0155",s:"\u0441 \u015f \u0161 \u017f",t:"\u0442 \u0165 \u0167 \xfe",u:"\u0443 \u044e \xfc \xfb \xfa \xf9 \u016f \u016b",v:"\u0432",y:"\u044b \xff \xfd",z:"\u0437 \u017e",ae:"\xe6",oe:"\u0153",ts:"\u0446",ch:"\u0447",ij:"\u0133",sh:"\u0448",ss:"\xdf",ya:"\u044f"};for(var o in n){var p=n[o].split(" ");for(var q=0;q<p.length;q++)m[p[q]]=o}function b(a){return a.replace(j," ")}function r(a){a=a.toLowerCase();var b="",c;for(var d=a.length;d--;)c=a.charAt(d),b=(m[c]||c)+b;return b.replace(h," ")}function s(a,b){b===void 0&&(b=i);var c=[],d=b.exec(a);while(d)d=d[0],c.push(d),d=b.exec(a);return c}function c(a,b){__p&&__p();b===void 0&&(b=i);var c={},d=0;return function(e,f){if(!Object.prototype.hasOwnProperty.call(c,e)){d>=k&&(c={},d=0);var g=r(e),h=a(g);c[e]={value:e,flatValue:g,tokens:s(h,b),isPrefixQuery:!!h&&h[h.length-1]!=" "};d++}f!=null&&f!==!1&&c[e].sortedTokens===void 0&&(c[e].sortedTokens=c[e].tokens.slice(),c[e].sortedTokens.sort(function(a,b){return b.length-a.length}));return c[e]}}var t=c(b),u=c(function(a){return a},f);function d(a,b,c){__p&&__p();var d=a=="query"||a=="query_punc",e=a=="aligned",f=a=="query_punc"?u:t;b=f(b,a=="prefix");var h=a=="prefix"?g(b.sortedTokens):b.tokens,i=f(c).tokens,j={},k=b.isPrefixQuery&&(d||e)?h.length-1:null;f=function(b,c){for(var f=0;f<i.length;++f){var g=i[f];if(!j[f]&&(g==b||((d||e)&&c===k||a=="prefix")&&g.indexOf(b)===0))return j[f]=!0;if(e&&!j[f])return!1}return!1};return Boolean(h.length&&h.every(f))}p={flatten:r,parse:t,parseIncludingPunctuations:u,getPunctuation:a,makeParse:c,isExactMatch:d.bind(null,"exact"),isQueryMatch:d.bind(null,"query"),isQueryMatchIncludingPunctuations:d.bind(null,"query_punc"),isAlignedMatch:d.bind(null,"aligned"),isPrefixMatch:d.bind(null,"prefix"),tokenize:s};e.exports=p}),null);
__d("search_hcm_MatchCriteria",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({EXACT:0,PARTIAL:1,FIRST_TOKEN:2,PREFIX:3,NO_CONSTRAINT:4,TRIMMED:5})}),null);
__d("SearchHCMMatchUtil",["FBLogger","SearchHCMServerConstants","TokenizeUtil","search_hcm_MatchCriteria"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k={};Object.keys(h.MATCH_CRITERIA_TO_STRING).forEach(function(a){a=Number(a);a=a;k[h.MATCH_CRITERIA_TO_STRING[a]]=a});function l(a){return i.parse(a).tokens.join("")}function a(a,b,c){__p&&__p();b=b.toLowerCase().trim();c=c.toLowerCase().trim();a=typeof a==="string"?k[a]:a;switch(a){case j.EXACT:return b===c;case j.PARTIAL:return c.indexOf(b)!==-1;case j.PREFIX:return c.indexOf(b)===0;case j.NO_CONSTRAINT:return!0;case j.TRIMMED:return l(b)===l(c);default:g("search").warn("Unexpected HCM match criteria %s",a);return b===c}}e.exports={match:a}}),null);
__d("SearchHCMUtil",["SearchEntityModuleServerConstants","SearchHCMMatchUtil","invariant","search_hcm_MatchCriteria"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k={shouldTriggerBEMHCM:function(a,b){if(!b.bemHCMEnabled)return!1;var c=b.hcm_match_criteria;if(c==null&&b.type==="user"&&h.match(j.EXACT,a,b.text))return!0;return b.show_hcm_experience!==!0?!1:c!=null&&h.match(c,a,b.text)},getHighConfidenceArgument:function(a,b){if(!k.shouldTriggerBEMHCM(a,b))return null;b!=null||i(0,1463);return{id:b.id,module_role:g.RESULT_TYPE_TO_MODULE_ROLE[b.type],module_logging_unit_id:null,result_logging_unit_id:null,supported_attachments:null,source:null}}};e.exports=k}),null);
__d("XTrackableImpressionController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/xt/i/",{xt:{type:"String",required:!0},isv:{type:"Int"},cts:{type:"Int"},csp:{type:"Int"},hba:{type:"Bool",defaultValue:!1},ui:{type:"Bool",defaultValue:!1},me:{type:"String"}})}),null);
__d("generateBrowseSessionID",["CurrentUser","md5"],(function(a,b,c,d,e,f,g,h){var i={mtouch:"412378670482",www:"256281040558"};function a(a){var b=a.appName;a=a.edge;return h([i[b],g.getID(),a,Math.floor(Date.now()/30)].join(":"))}e.exports=a}),null);
__d("MSearchBootstrapEntityModule",["Base64","BrowseWebSLRPELoggerClickType","CSS","DOM","MGraphSearchTypeaheadTouchSource","MPageFetcher","MRequest","MRequestTypes","MSearchBootstrapEntityModuleLoggingUtils","MSearchBootstrapEntityModuleSettings","MSearchEntityResult","MSearchHighConfUserAttachmentsExperiment","MSearchSimplificationUtils","MViewport","SearchEntityModuleServerConstants","SearchHCMUtil","Stratcom","Style","SubscriptionsHandler","URI","XTrackableImpressionController","csx","cx","fbt","generateBrowseSessionID","immutable"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F){"use strict";__p&&__p();a=function(){__p&&__p();function a(a){__p&&__p();var b=this;this.$2=function(){__p&&__p();var a=b.state.query,c=F.List(b.source.getMatchedResults(a));if(c.size===0){b.setState({results:F.List(),resultType:null,isVisible:!1,sessionID:E({appName:"mtouch",edge:"keywords_search"})});return}c.forEach(function(a){a.render_type==="place"&&(a.type="place")});var d=c.first(),e=d.type;if(e==null){b.setState({results:F.List(),isVisible:!1,sessionID:E({appName:"mtouch",edge:"keywords_search"})});return}c=c.filter(function(a){return a.render_type===e||a.type===e});d=E({appName:"mtouch",edge:"keywords_search"});var f=s.isCurrentPathTopTabPath(),g=s.isTypeaheadOpen();b.setState({results:c,isVisible:c.size>0&&(b.state.serpIsLoading||f&&!g),sessionID:d});f=b.getPossibleHCMResult(c);g=f!=null&&v.shouldTriggerBEMHCM(a,f);o.logUnitData(b.state.sessionID,b.state.results,b.state.query,{isHighConfidenceModule:g});o.initVPVDLogging();b.resultsElement=j.create("div",o.getModuleTrackingData(b.state.sessionID,h.VIEW_PORT_VIEWS_ON_SEARCH_RESULTS));var k=p.ddEnabled&&e!=="user";d=p.ddRoundCorners;f=c.map(function(a,d){a.uri=new z(a.uri).addQueryData({refid:u.MTOUCH_SEARCH_REFID,ref:u.BROWSE_NAV_SOURCE_CONTENT_FILTERS,__xts__:[o.getSerializedResultTrackingData(b.state.sessionID,a,c,h.ITEM_IN_MODULE_TAPPED)]}).toString();return[b.$7(a),q({result:a,ddSplit:k})]}).toArray();var l=null;b.footer=null;!g&&!k&&(b.footer=b.$8(e,a),l=b.$9(e));g=[l,j.create("div",{},f),b.footer];!k&&d&&(g=j.create("div",{className:d?"_73jt":""},g));j.setContent(b.resultsElement,g);j.setContent(b.root,b.resultsElement);k?i.addClass(b.root,"_756c"):i.removeClass(b.root,"_756c")};this.$3=function(){var a=s.isCurrentPathSERPPath(),c=s.isCurrentPathTopTabPath(),d=s.isTypeaheadOpen(),e=s.getQueryFromCurrentPath(),f=b.state.query;e!=null&&(f=e);b.setState({query:f,isVisible:c&&!d&&b.state.results.size>0,spinnerIsVisible:a&&!d&&b.state.serpIsLoading});c&&t.scrollToHeader()};this.$4=function(){var a=s.isCurrentPathSERPPath();b.setState({footerIsVisible:!1,spinnerIsVisible:a,serpIsLoading:a})};this.$5=function(){__p&&__p();b.setState({spinnerIsVisible:!1,serpIsLoading:!1});var a=s.isCurrentPathTopTabPath();if(!a)return;a=b.state.results;if(a.size===0)return;a=a.first();a=a.render_type!=null?a.render_type:a.type;var c=document.querySelector("._45fx [data-module-result-type]");c==null||c.getAttribute("data-module-result-type")!==a?b.setState({footerIsVisible:!0}):c!=null&&x.set(c,"margin-top",0)};this.$6=function(a,c,d){__p&&__p();d=b.state;var e=d.results;d=d.query;if(!s.isTopTabURI(c)||e.size===0)return null;var f=e.first();f=f.render_type!=null?f.render_type:f.type;var h=b.getPossibleHCMResult(e);a=new m(c.toString()).setType(n.TRANSITION).setFullPage(!0).setMethod(a).addData((c={preloaded_entity_ids:e.map(function(a){return a.id}).toArray(),preloaded_entity_type:f},c[u.SERP_SESSION_ID]=b.state.sessionID,c));h!=null&&v.shouldTriggerBEMHCM(d,h)&&a.addData({high_confidence_argument:g.encode(JSON.stringify(v.getHighConfidenceArgument(d,h)))});return a};this.typeahead=a}var b=a.prototype;b.enable=function(){this.state={query:this.typeahead.getValue(),isVisible:!1,spinnerIsVisible:!1,footerIsVisible:!1,serpIsLoading:!1,results:F.List(),sessionID:E({appName:"mtouch",edge:"keywords_search"})},this.$1(),this.source=new k(p.bootstrapSource,p.bootstrapKey),this.source.clientRendered=!0,this.source.setMaximumResultCount(p.maxBootstrapResults),this.subscriptions=new y(),this.subscriptions.addSubscriptions(this.source.listen("resultsready",this.$2),w.listen("m:history:change",null,this.$3),w.listen("m:page:request-sent",null,this.$4),w.listen("m:page:render:complete",null,this.$5)),this.source.didStart(),l.addHandler(this.$6)};b.disable=function(){this.subscriptions.release(),j.remove(this.root)};b.$1=function(){var a=p.ddRoundCorners;this.root=j.create("div",{className:"_234-"+(p.ddEnabled?" _756d":"")+(a?" _73ku":"")});this.state.isVisible?j.show(this.root):j.hide(this.root);j.appendContent(this.typeahead.getRoot(),this.root);this.spinner=j.create("div",{className:"_5_ee"},j.create("div",{className:"_55ym _55yq"}));this.state.spinnerIsVisible?j.show(this.spinner):j.hide(this.spinner);j.appendContent(this.typeahead.getRoot(),this.spinner)};b.$10=function(a){__p&&__p();var b=null;switch(a){case"user":b=D._("People");break;case"page":b=D._("Pages");break;case"group":b=D._("Groups");break;case"place":b=D._("Places");break;case"event":b=D._("Events");break}return b};b.$9=function(a){return j.create("div",{className:"_5_50"},this.$10(a))};b.$8=function(a,b){a=new z(u.TYPE_TO_SERP_PATH[a]).setQueryData({q:b,source:"pivot",tsid:this.typeahead.getSessionID(),__xts__:[o.getModuleTrackingData(this.state.sessionID,h.SEE_MORE_TAPPED)["data-xt"]]});this.footer!=null?this.footer.setAttribute("href",a.toString()):this.footer=j.create("a",{href:a.toString(),className:"_235a"},D._("See All"));this.state.footerIsVisible?j.show(this.footer):j.hide(this.footer);return this.footer};b.$7=function(a){a=A.getURIBuilder().setString("xt",o.getSerializedResultTrackingData(this.state.sessionID,a,this.state.results)).getURI();a=j.create("iframe",{src:new z(a),width:0,height:0,frameborder:0,scrolling:"no",className:"fbEmuTracking"});a.setAttribute("aria-hidden","true");return a};b.setState=function(a){var b=babelHelpers["extends"]({},this.state);this.state=babelHelpers["extends"]({},this.state,a);b.query!==this.state.query&&this.source.didChange(this.state.query);b.isVisible!==this.state.isVisible&&(this.state.isVisible?(j.show(this.root),i.addClass(this.spinner,"_5_ef")):(j.hide(this.root),i.removeClass(this.spinner,"_5_ef")));(b.serpIsLoading!==this.state.serpIsLoading||b.footerIsVisible!==this.state.footerIsVisible)&&(this.state.serpIsLoading?i.removeClass(this.root,"_5_eg"):!this.state.footerIsVisible?i.addClass(this.root,"_5_eg"):this.state.footerIsVisible&&i.removeClass(this.root,"_5_eg"));this.footer!=null&&b.footerIsVisible!==this.state.footerIsVisible&&(this.state.footerIsVisible?j.show(this.footer):j.hide(this.footer));b.spinnerIsVisible!==this.state.spinnerIsVisible&&(this.state.spinnerIsVisible?j.show(this.spinner):j.hide(this.spinner))};b.getPossibleHCMResult=function(a){var b=a.first();return a.size!==1||b==null?null:{id:b.id,text:b.name!=null?b.name:"",type:b.type,bemHCMEnabled:r.bemHCMEnabled}};return a}();e.exports=a}),null);
__d("MActionBubbleMask",["CSS","DOM","MViewport","Stratcom","cx","requestAnimationFrame"],(function(a,b,c,d,e,f,g,h,i,j,k,l){__p&&__p();var m="_5nvw",n="_5nvx",o=300;a=function(){"use strict";__p&&__p();function a(a){this.$1=null,this.$2=null,this.$3=a}var b=a.prototype;b.enable=function(){var a=this.$3.getRoot().getAttribute("data-mask-class");a||(a=m);this.$2=h.create("div",{className:a});this.$1=[this.$3.addListener("show",this.$4.bind(this)),this.$3.addListener("hide",this.$5.bind(this)),this.$3.addListener("reposition",this.$6.bind(this)),h.listen(this.$2,"touchend",null,function(a){a.stop()})];this.$3.isShown()&&this.$4()};b.disable=function(){this.$5();while(this.$1.length)this.$1.pop().remove();this.$1=null;this.$2=null};b.$4=function(){h.insertBefore(this.$3.getRoot(),this.$2),g.addClass(this.$3.getCausalElement(),n),this.$7=j.listen("scroll",null,this.$6.bind(this)),this.$6()};b.$5=function(){h.remove(this.$2);var a=this.$3.getCausalElement();a&&g.removeClass(a,n);this.$7&&this.$7.remove();this.$7=null};b.$6=function(){l(function(){this.$2.style.top=i.getScrollTop()-o+"px",this.$2.style.height=i.getHeight()+o*2+"px"}.bind(this))};return a}();e.exports=a}),null);
__d("MSearchTabBar",["CSS","DOM","InitMScrollArea","MActionBubbleMask","MFlyout","MLayerDestroyOnTransition","MLayerHideOnBlur","MLayerHideOnCloseClick","Stratcom","SubscriptionsHandler","gkx","containsNode","cx","fbt","throttle"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){"use strict";__p&&__p();var v=i.main,w=q("806984");a=function(){__p&&__p();function a(a,b,c){__p&&__p();var d=this;c===void 0&&(c={destroyOnTransition:!0});this.render=function(){__p&&__p();if(w){if(d.$5==null){var a=h.create("div",{id:"msite-search-tabs-container",className:"_7egl","data-sigil":"scroll-area-body"}),b=[];for(var c=d.$2,e=Array.isArray(c),f=0,c=e?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(e){if(f>=c.length)break;i=c[f++]}else{f=c.next();if(f.done)break;i=f.value}i=i;var o=h.create("a",{href:i.uri,className:"_7egm","data-sigil":"mlayer-hide-on-click"},i.label);i=h.create("div",{className:"_7egn"+(i.is_selected===!0?" selected":""),"data-sigil":"mlayer-hide-on-click"},o);h.appendContent(a,i);b.push(i)}d.$5=b;h.appendContent(d.$1,a);d.$1.setAttribute("id","msite-search-tabs-root");d.$1.setAttribute("data-sigil","scroll-area");d.$1.setAttribute("data-store",JSON.stringify({direction:"horizontal",scrollSnapType:"mandatory"}));v({id:d.$1.id,bodyId:a.id})}else d.$5.forEach(function(a,b){b=d.$2[b].is_selected;a.classList.toggle("selected",b)});return}d.$3==null&&(d.$3=h.create("div",{className:"button touchable _x02 _x03",tabIndex:0,"aria-label":t._("More"),role:"button"},h.create("div",{className:"_x04"})),d.$7.addSubscriptions(h.listen(d.$3,"click",null,d.$12)),h.appendContent(d.$1,d.$3));d.$4==null&&(d.$4=h.create("div",{className:"_x08"}));if(d.$6==null){o=[m,j,n];d.$8.destroyOnTransition&&o.push(l);d.$6=new k({classNames:["_55i2","accelerate"],nubalign:"center",offsetY:5,position:"below",margin:"none",width:"wide",addedBehaviors:o,context:d.$3},d.$4)}i=d.$5;if(i==null){i=[];for(var f=d.$2,e=Array.isArray(f),c=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(c>=f.length)break;b=f[c++]}else{c=f.next();if(c.done)break;b=c.value}a=b;i.push(h.create("a",{href:a.uri,className:"_x0a"+(a.is_selected===!0?" _x0b":""),"data-sigil":"mlayer-hide-on-click"},a.label))}h.prependContent(d.$1,i);d.$5=i}o=d.$9;o==null&&(o=d.$3.offsetWidth,o!==0&&(d.$9=o));b=d.$1.offsetWidth-o;a=0;c=0;e=i.length;var p;for(;c<i.length;c++){d.$2[c].is_selected&&(p=c);f=d.$10[c];f==null&&(f=i[c].offsetWidth,f!==0&&(d.$10[c]=f));a+=f;e===i.length&&a>b&&(e=c)}o=i.slice();if(e<o.length&&p!=null&&p>=e){f=o[p];o.splice(p,1);o.splice(e-1,0,f)}for(var c=0;c<o.length;c++)c<e?h.appendContent(d.$1,o[c]):h.appendContent(d.$4,o[c]);h.appendContent(d.$1,d.$3);e<o.length?g.removeClass(d.$3,"_x03"):g.addClass(d.$3,"_x03")};this.$12=function(a){if(!r(d.$3,a.getTarget()))return;g.addClass(d.$3,"_x0d");o.addSigil(d.$3,"selected");o.removeCurrentListener()};this.$11=function(){g.removeClass(d.$3,"_x0d"),o.removeSigil(d.$3,"selected"),o.listen("click",null,d.$12)};this.$1=a;this.$8=c;this.$10=[];this.$7=new p();w||(this.$7.addSubscriptions(o.listen("m:flyout:close",null,this.$11),o.listen(["m:viewport:orientation-change","resize"],null,u(this.render,200))),c.destroyOnTransition&&this.$7.addSubscriptions(o.listen("m:page:unload",null,function(){d.$7.release()})));b!=null&&this.setTabs(b)}var b=a.prototype;b.setTabs=function(a){this.$2=a;w||(this.$5!=null&&this.$5.forEach(function(a){return h.remove(a)}),this.$5=null);this.render();return this};a.init=function(b,c,d){d===void 0&&(d={destroyOnTransition:!0});return new a(b,c,d)};return a}();e.exports=a}),null);
__d("MSearchTabsAboveBEM",["DOM","MSearchSimplificationUtils","MSearchTabBar","Stratcom","SubscriptionsHandler","URI","csx","cx","fbt","gkx","requestAnimationFrame"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){"use strict";__p&&__p();var r=p("806984");a=function(){__p&&__p();function a(b){__p&&__p();var c=this;this.$10=function(){c.$13()};this.$9=function(){c.$13()};this.$12=function(){c.$3.isVisible()&&q(function(){a.$7.render()})};this.$11=function(){var b=h.isCurrentPathSERPPath();b||(r?a.$7.render():a.setTabs(c.$8()))};this.$3=b}var b=a.prototype;b.enable=function(){this.$1={isVisible:!1};this.$2=g.create("div",{className:r?"_7egj":"_1t4h"});var b=document.querySelector("._234-");b!=null?g.insertBefore(b,this.$2):g.appendContent(this.$3.getRoot(),this.$2);a.$7=i.init(this.$2,a.$6!=null?a.$6:this.$8(),{destroyOnTransition:!1});g.hide(this.$2);this.$4=new k();this.$4.addSubscriptions(j.listen("m:page:render:complete",null,this.$9),j.listen("m:history:change",null,this.$10),j.listen("m:page:unload",null,this.$11),this.$3.listen("visibility-changed",this.$12));this.$13()};b.disable=function(){this.$4.release(),g.remove(this.$2)};b.$13=function(){var a=h.isCurrentPathSERPPath(),b=h.isTypeaheadOpen(),c=h.isCurrentPathScopedSearchPath(),d=h.isCurrentPathSearchJewelPermalink();this.$14({isVisible:a&&!b&&!c&&!d})};b.$14=function(b){var c=babelHelpers["extends"]({},this.$1);this.$1=babelHelpers["extends"]({},this.$1,b);r&&a.$7.render();c.isVisible!==this.$1.isVisible&&(this.$1.isVisible?(g.show(this.$2),r||a.$7.render()):g.hide(this.$2))};b.$8=function(){this.$5==null&&(this.$5=[{is_selected:!0,label:o._("All"),uri:new l("#")},{label:o._("Posts"),uri:new l("#")},{label:o._("People"),uri:new l("#")},{label:o._("Photos"),uri:new l("#")},{label:o._("Videos"),uri:new l("#")},{label:o._("Pages"),uri:new l("#")},{label:o._("Places"),uri:new l("#")},{label:o._("Groups"),uri:new l("#")},{label:o._("Apps"),uri:new l("#")},{label:o._("Events"),uri:new l("#")}]);return this.$5};a.setTabs=function(b){a.$6=b;var c=a.$7;c!=null&&c.setTabs(b)};return a}();e.exports=a}),null);
__d("MSearchResultPagePerfLogger",["Banzai","Stratcom","SubscriptionsHandler","URI"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();a=function(){__p&&__p();function a(a,b){__p&&__p();var c=this;this.$6=3;this.onResultLinkReady=function(a){c.$4=a.href,c.$5=Date.now()};this.onEnterPressed=function(a){c.$4=a,c.$5=Date.now()};this.$2=b;this.$1=a;this.$3="mtouch_serp_log_perf";this.$4="";this.$8()}var b=a.prototype;b.$8=function(){__p&&__p();var a=this;this.$7=new i();this.$7.addSubscriptions(this.$1.listen("select",this.onResultLinkReady),this.$1.listen("on-enter-pressed",this.onEnterPressed),h.listen("m:page:render:complete",null,function(b){var c=new j(a.$4);b=new j(b.getData().path);var d=Date.now()-a.$5;if(c.getPath()===b.getPath()&&d>=0){b={tti:d,typeaheadType:a.$2,uriPath:c.getPath()};g.post(a.$3,b,{delay:a.$6,retry:!0})}a.$4=""}))};b.destroy=function(){this.$7.release()};return a}();e.exports=a}),null);
__d("XMobileSearchTrendingLoggingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/graphsearch/trending/logging/",{topic_ids:{type:"IntVector",required:!0},source:{type:"String",required:!0},positions:{type:"IntVector",required:!0},query_id:{type:"Int",required:!0},event:{type:"String",required:!0}})}),null);
__d("MSearchTrendingLogger",["MRequest","MSearchConst","Run","Stratcom","XMobileSearchTrendingLoggingController","forEachObject"],(function(a,b,c,d,e,f,g,h,i,j,k,l){__p&&__p();var m=null;a={registerTrendingTopicListeners:function(a,b,c,d){__p&&__p();var e=this;m||(m={},i.onLeave(function(){l(m,function(a){return a.remove()}),m=null}));var f=[],g=function(g){var h=a[g];if(h==null||m[h])return"continue";m[h]=j.listen("click",h,function(){e._logTrendingTopicClick(h,b,c[g],d)});f.push(m[h])};for(var h=0;h<a.length;h++){var k=g(h);if(k==="continue")continue}return f},logTrendingTopicImpressions:function(a,b,c,d){if(!a||a.length===0)return;for(var e=0;e<a.length;e++)a[e]==null&&(a.splice(e,1),c.splice(e,1),e--);e=k.getURIBuilder().setIntVector("topic_ids",a).setString("source",b).setIntVector("positions",c).setInt("query_id",d).setString("event",h.event_impression).getURI();a=new g(e);a.send()},_logTrendingTopicClick:function(a,b,c,d){if(!a)return;return function(){var e=k.getURIBuilder().setIntVector("topic_ids",[a]).setString("source",b).setIntVector("positions",[c]).setInt("query_id",d).setString("event",h.event_click).getURI();e=new g(e);e.send()}}};e.exports=a}),null);
__d("MGraphSearchTypeaheadBucketizer",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=20;function h(a){__p&&__p();if(a.isTrending&&a.isNullStateSuggestion)return"trending";else if(a.isRecentSearch)return"recent";else if(a.isPopularSearch&&a.isNullStateSuggestion)return"popular";else if(a.isPYMK)return"pymk";else if(a.isScoped)return a.isNullStateSuggestion?"group_popular":"group_search";else if(a.isSeeMore)return"see_more";else if(a.type==="keyword")return"suggested";else return"top_matches"}a=function(){__p&&__p();function a(a){a=a||{},this.maxResults=a.maxResults||g}var b=a.prototype;b.bucketize=function(a,b){__p&&__p();var c={},d=[],e=Math.min(a.length,this.maxResults);for(var f=0;f<e;f++){var g=a[f],i=h(g);if(!c[i]){var j=[];c[i]=j;d.push({headerType:i,results:j})}c[i].push(g)}c.suggested!=null&&b!=null&&c.suggested.splice(b-1,c.suggested.length-b);return d};return a}();e.exports=a}),null);
__d("MGraphSearchTypeaheadHeaders",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a={pymk:g._("People You May Know"),recent:g._("Recent Searches"),popular:g._("Popular Searches"),suggested:g._("Searches"),top_matches:g._("Top Matches"),trending:g._("Trending"),group_popular:g._("Popular in this group"),group_search:g._("Search this group"),suggested_global:g._("Search all of Facebook")};b={pymk:g._("PEOPLE YOU MAY KNOW"),recent:g._("RECENT SEARCHES"),popular:g._("POPULAR SEARCHES"),suggested:g._("SEARCHES"),top_matches:g._("TOP MATCHES"),trending:g._("TRENDING"),group_popular:g._("POPULAR IN THIS GROUP"),group_search:g._("SEARCH THIS GROUP"),suggested_global:g._("SEARCH ALL OF FACEBOOK")};e.exports={Labels:a,CapitalizedLabels:b}}),null);
__d("MSearchSimplificationHeader",["DOM","MGraphSearchTypeaheadHeaders","cx","fbt","joinClasses"],(function(a,b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l=h.CapitalizedLabels;function m(a){a=a.activityLogURI;a=g.create("a",{href:a,className:k("touchable","_z-v")},j._("Edit"));a.setAttribute("data-edit-recent-searches",!0);return g.create("div",{className:"_z-w"},[g.create("div",{className:"_z-z"},l.recent),a])}function a(a){var b=a.type,c=a.query,d=a.searchMode,e=a.isFirst;if(b==="recent")return m(a);if(c===""||d==="group")return g.create("div",{className:"_z-w"},g.create("div",{className:"_z-z"},l[b]));else if(!e)return g.create("div",{className:"_z--"});return null}e.exports=a}),null);
__d("MSearchSimplificationNullstateResult",["DOM","HTML","Locale","MSearchKeywordsConst","cx"],(function(a,b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l=" \xb7 ";function m(a){var b=a.result.id;if(b==null||String(b).match(/^[0-9]+$/)==null)return null;b=a.result.photo;return b==null?null:g.create("img",{className:"_1e86",src:b})}function n(a){__p&&__p();var b=a.result,c=b.subtext,d=b.boldedSubtext,e=b.isVerified;b=b.showGrayCheck;a=a.result.display;var f;e&&(f=g.create("i",{className:"_1e87"}));var j;b&&(j=g.create("i",{className:"_1e88"}));e=[a];i.isRTL()&&e.push(new h("&#8206;"));return g.create("div",{className:"_1e89"},[g.create("div",{className:"_7j7o"},g.create("span",{className:"_1e8b"},e),[f,j]),g.create("div",{className:"_1e8d"},[d,d&&c?l:null,c])])}function a(a){var b=a.result,c=b.id,d=b.isTrending,e=b.type;b=b.uriWithSession;e=e===j.keywordType;var f;(d||e)&&(f=g.create("i",{className:"_1e8e _7mty"}));return g.create("a",{className:"touchable _1e8h",href:b,rel:c},[m(a),f,n(a)])}e.exports=a}),null);
__d("MSearchSimplificationSeeMoreRecentResultsButton",["DOM","cx","fbt"],(function(a,b,c,d,e,f,g,h,i){"use strict";function a(){return g.create("a",{className:"_4x4z"},[i._("See More"),g.create("span",{className:"_4x4-"})])}e.exports=a}),null);
__d("mayHaveConnectedCharacters",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.match(/[\u0900-\u097F\u0980-\u09FF\u0A00-\u0A7F\u0A80-\u0AFF\u0B00-\u0B7F\u0B80-\u0BFF\u0C00-\u0C7F\u0C80-\u0CFF\u0D00-\u0D7F\u0D80-\u0DFF\u0E00-\u0E7F\u0E80-\u0EFF\u0F00-\u0FFF\u1000-\u109F\u1700-\u171F\u1720-\u173F\u1740-\u175F\u1760-\u177F\u1780-\u17FF\u1900-\u194F\u1950-\u197F\u1980-\u19DF\u19E0-\u19FF\u1A00-\u1A1F\u1A20-\u1AAF\u1B00-\u1B7F\u1B80-\u1BBF\u1BC0-\u1BFF\u1C00-\u1C4F\u1CC0-\u1CCF\uA800-\uA82F\uA840-\uA87F\uA880-\uA8DF\uA8E0-\uA8FF\uA930-\uA95F\uA980-\uA9DF\uA9E0-\uA9FF\uAA00-\uAA5F\uAA60-\uAA7F\uAA80-\uAADF\uAAE0-\uAAFF\uABC0-\uABFF\u0600-\u06FF\u0750–\u077F\u08A0–\u08FF\uFB50–\uFDFF\uFE70–\uFEFF\u4e00-\u9faf\u0D80-\u0DFF\u0E80-\u0EFF]/)!=null}e.exports=a}),null);
__d("MSearchSimplificationTypedResult",["DOM","HTML","Locale","cx","fbt","gkx","mayHaveConnectedCharacters"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m){"use strict";__p&&__p();var n=l("676819");function o(){return g.create("button",{className:"_niv"},[g.create("span",{className:"_nix"+(i.isRTL()?" _4uv-":"")})])}function p(a){__p&&__p();var b=a.result.isSeeMore,c=a.result.display;if(b)c=k._("See more results for \"{query}\"",[k._param("query",c)]);else{a=a.query;a=a.toLowerCase();!m(c)&&c.indexOf(a)===0&&(c=[a,g.create("strong",{},c.slice(a.length,c.length))])}a=[c];!b&&i.isRTL()&&a.push(new h("&#8206;"));return g.create("div",{className:"_7msg"},g.create("span",{className:"_7msl"},a))}function a(a){var b=a.result,c=b.id,d=b.isSeeMore,e=b.uriWithSession;b=b.fromRecentSearchCache;a=[p(a)];n&&!d&&a.push(o());if(!d){b=g.create("i",{className:"_7msm"+(b?"":" _7msn")+(b?" _7mso":"")});a.unshift(b)}return g.create("a",{className:"touchable _io2"+(d?" _iop":""),href:e,rel:c},a)}e.exports=a}),null);
__d("MGraphSearchCompositeSource",["SearchMTouchGlobalOptions","TypeaheadCompositeSource"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$MGraphSearchCompositeSource1=new Set(),b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.mergeResults=function(b,c){__p&&__p();this.$MGraphSearchCompositeSource2(c);b=a.prototype.mergeResults.call(this,b,c);if(!b||!this.$MGraphSearchCompositeSource3||b.some(function(a){return a.type==="trending"})||b.some(function(a){return a.isRecentSearch})||b.some(function(a){return a.isPopularSearch}))return b;b.length=Math.min(b.length,this.$MGraphSearchCompositeSource3.maxResults);if(g.keywordsOnlyEnabled){c=[];var d={};for(var e=b,f=Array.isArray(e),h=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(f){if(h>=e.length)break;i=e[h++]}else{h=e.next();if(h.done)break;i=h.value}i=i;d[i.id]||(d[i.id]=!0,c.push(i))}return c}if(this.$MGraphSearchCompositeSource3.enableLegacyStyleBucketization)return this.bucketResults(b);i=!1;h=b[0];h&&(h.bootstrapped||h.bootstrap||h.type==="user"&&h.cost<this.$MGraphSearchCompositeSource3.minCostForUserToSurfaceAtTop)&&(i=!0);f=!1;for(var e=0;e<this.$MGraphSearchCompositeSource3.maxPositionOfEntityToDivideKeywords;e++)b[e]&&b[e].type!=="keyword"&&(f=!0);d=[];c=[];h=[];var j;for(var e=0;e<b.length;e++){j=b[e];if(!(j.bootstrapped&&this.$MGraphSearchCompositeSource3.keepBootstrapped)&&j.type in this.$MGraphSearchCompositeSource3.filterOutTypes)continue;j.type==="keyword"?!i&&(!f||c.length<this.$MGraphSearchCompositeSource3.maxKeywordAboveEntities)?c.push(j):h.push(j):d.push(j)}if(this.$MGraphSearchCompositeSource3.overrideKWRankingBehavior){j=c;j.push.apply(j,h);i=j.slice(0,this.$MGraphSearchCompositeSource3.numKeywordsAboveEntities);e=j.slice(this.$MGraphSearchCompositeSource3.numKeywordsAboveEntities);b=i;(f=b).push.apply(f,d);if(this.$MGraphSearchCompositeSource3.hasKeywordsBelowEntities){(j=b).push.apply(j,e)}}else{b=c;(i=b).push.apply(i,d);(f=b).push.apply(f,h)}return b};c.bucketResults=function(a){if(!a.length)return a;var b,c,d=[],e={};for(var f=0,g=a.length;f<g;f++)b=a[f],c=this.getBucketType(b),!e[c]?(d.push(c),e[c]=[b]):e[c].push(b);return d.reduce(function(a,b){return a.concat(e[b])},[])};c.getBucketType=function(a){return a.type==="keyword"||a.is_grammar?"keyword":"entity"};c.setConfig=function(a){this.$MGraphSearchCompositeSource3=a};c.$MGraphSearchCompositeSource2=function(a){var b=this;a.forEach(function(a){a.isRecentSearch&&b.$MGraphSearchCompositeSource1.add(a.name),a.fromRecentSearchCache=b.$MGraphSearchCompositeSource1.has(a.name)})};return b}(h);e.exports=a}),null);
__d("MGraphSearchTypeaheadOnDemandSource",["MSearchKeywordsConst","MTypeaheadOnDemandSource","SearchMTouchGlobalOptions","Stratcom","TokenizeUtil","URI","createArrayFromMixed","mSearchSimplificationResultTransformer"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){__p&&__p();var o="graph-search-entry-point";a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b,c){__p&&__p();var d;c=c||{};d=a.call(this,b,c)||this;d.enableImmediateReturnOfCachedResults=!0;d.setNormalizer(function(a){return a.toLowerCase()});d.setSanitizer(function(a){return a});d.queryCache={};d.groupID=null;d.isScoped=!1;d.numResultsToFetch=c.numResultsToFetch;j.listen("setCurrentProfileID",o,function(a){var b=l.getRequestURI(),c=b.getQueryData();c=c.groupID;(c!==void 0||b.getPath().startsWith("/groups/"))&&(d.groupID=a.getData().profileID,d.clearCache())});return d}var c=b.prototype;c.getMatchedResults=function(a){__p&&__p();var b=a.toLowerCase();while(b.length>0&&!(b in this.queryCache))b=b.substr(0,b.length-1);if(!b)return[];var c=[];if(b===a){c=this.queryCache[a];return this.renderNodes(a,c)}for(var d=0;d<this.queryCache[b].length;d++){var e=this.queryCache[b][d];k.isQueryMatch(a,this._raw[e].display)&&c.push(e)}return this.renderNodes(a,c)};c.addToLookup=function(a,b){this.addToQueryCache(a,b)};c.addResult=function(a,b){var c=a.uid;c in this._raw||(a=(this.getTransformer()||this._defaultTransformer)(a),this._raw[c]=a);this._raw[c].idx=a.idx;this.addToQueryCache(c,b)};c.addToQueryCache=function(a,b){this.queryCache[b]||(this.queryCache[b]=[]),this.queryCache[b].indexOf(a)===-1&&this.queryCache[b].push(a)};c.setGroupID=function(a){this.groupID=a};c.setIsScoped=function(a){this.isScoped=a};c.setSelectedIntent=function(a){this.selectedIntent=a};c.getAuxiliaryData=function(){var a={};this.isScoped&&this.groupID!=null&&(a.group_id=this.groupID);return babelHelpers["extends"]({max_results:this.numResultsToFetch},a)};c.tokenize=function(b){b=a.prototype.tokenize.call(this,b);b[b.length-1]===""&&b.pop();return b};c.ondata=function(b,c,d){d.payload.results?(c&&(c=c.toLowerCase()),a.prototype.ondata.call(this,b,c,m(d.payload.results))):(this.invoke("req_recv",0),this.invoke("complete"))};c.getTransformer=function(){__p&&__p();return i.keywordsOnlyEnabled?n:function(a){__p&&__p();if(a.type==="keyword"){var b={cost:a.cost,idx:a.idx,display:a.text,name:a.text,type:a.untranslated_type||a.type,id:a.uid,uri:a.path,logInfo:a.logInfo,subtext:a.subtext,is_grammar:a.grammar_type!=null,isScoped:a.is_scoped,boldedSubtext:a.boldedSubtext,keywordBoldedSubtext:a.keywordBoldedSubtext,keywordRenderType:a.keywordRenderType,keyword_type:a.keyword_type},c=g.keywordTypes;Object.keys(g.keywordTypes).map(function(d){var e="is"+d.charAt(0).toUpperCase()+d.slice(1);b[e]=a.keyword_type===c[d]});g.intentKeys.map(function(a){b.isSpecialIntent=b.isSpecialIntent||b[a]});return b}return{name:a.text,uri:a.path,id:a.uid,display:a.display||a.text,photo:a.photo,category:a.category,cost:a.cost,idx:a.idx,tokens:a.tokens,type:a.untranslated_type||a.type,verticalType:a.vertical_type,subtext:a.subtext,isVerified:a.is_verified,showGrayCheck:a.show_gray_check,isWorkForeignEntity:a.is_work_foreign_entity,logInfo:a.logInfo}}};c.clearCache=function(){a.prototype.clearCache.call(this),this.queryCache={}};return b}(h);e.exports=a}),null);
__d("MSearchTypeaheadNeueSources",["MGraphSearchCompositeSource","MGraphSearchTypeaheadOnDemandSource","MGraphSearchTypeaheadTouchSource","MSearchTypeaheadConfig","MTypeaheadNullstateSource","SearchMTouchGlobalOptions"],(function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";__p&&__p();var m={};function a(a){var b=a.searchMode,c;b!=null&&(c=m[b]);if(c)return c;a=n(a);b!=null&&(m[b]=a);return a}function n(a){__p&&__p();var b=l.queryThrottleTime,c=l.enableQueryThrottle,d=l.enableEagerSendRequest,e=l.queryWaitTime,f=j.sources,g=[],h;f.bootstrapped&&a.searchMode!=="group"&&(h=q(f.bootstrapped.src,f.bootstrapped.source_key),h.setConvertEntityToKeyword(l.keywordsOnlyEnabled),h.setShouldOnlyPrefixMatch(l.prefixMatchEntityBootstrap),f.bootstrapped.max_results!=null&&h.setMaximumResultCount(f.bootstrapped.max_results),h.setShowSecondaryAction(!0),h.clientRendered=!0,g.push(h));if(f.nullstate){var i=r(f.nullstate.src);i.setMaximumResultCount(f.nullstate.max_results);i.setShowSecondaryAction(!0);i.clientRendered=!0;i.setCurrentProfileID(a.currentProfileID);a.searchMode==="group"&&(i.setEnableScoped(!0),i.setCurrentProfileID(a.groupID));g.push(i)}i=f.online;i&&(h=p(a,i.src),h.setMaximumResultCount(i.max_results),h.setEnableImmediateReturnOfCachedResults(i.enable_caching),h.setMaxResults(j.numResultsToFetch),c&&h.setThrottleSendRequest(b),h.setEnableEagerSendRequest(d),h.setQueryDelay(e),h.setShowSecondaryAction(!0),h.clientRendered=!0,g.push(h));f=o(g);f.clientRendered=!0;f.mergeKey="id";f.didStart();return f}function o(a){a=new g(a);a.setConfig(j.compositeSourceConfig);return a}function p(a,b){var c=j.disableLongerQueryCacheHit,d=j.numResultsToFetch;b=new h(b,{disableLongerQueryCacheHit:c,numResultsToFetch:d});a.searchMode==="group"&&(b.setIsScoped(!0),b.setGroupID(a.groupID));return b}function q(a,b){return new i(a,b)}function r(a){return new k(a)}e.exports={getOrCreate:a}}),null);
__d("XWarmUserRequestArgsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/search/browse/warm/requestargs/",{query:{type:"String"},csid:{type:"String"}})}),null);
__d("MSearchTypeaheadNeue",["BehaviorsMixin","CancelableEventListener","CSS","DOM","EventEmitter","MGraphSearchTypeaheadBucketizer","MHistory","MJewels","MPageController","MRecentSearchesUpdater","MRequest","MSearchConst","MSearchResultPagePerfLogger","MSearchSimplificationUtils","MSearchTrendingLogger","MSearchTypeaheadConfig","MSearchTypeaheadLogger","MSearchTypeaheadNeueSources","MSearchTypeaheadPerfLoggerUtil","MSideNavMarauderLogger","MTouchClick","Parent","SearchMTouchGlobalOptions","Stratcom","SubscriptionsHandler","URI","XWarmUserRequestArgsController","csx","cx","fbt","gkx","mixin","runMaybeOnAfterTTI","throttle"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N){"use strict";__p&&__p();var O="/search/metrics.php",P="result",Q=!1;a=function(a){__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b){__p&&__p();var c;c=a.call(this)||this;c.$MSearchTypeaheadNeue6={};c.$MSearchTypeaheadNeue7={};c.$MSearchTypeaheadNeue10=!1;c.$MSearchTypeaheadNeue12=!1;c.$MSearchTypeaheadNeue13=!1;c.$MSearchTypeaheadNeue14=!1;c.$MSearchTypeaheadNeue15=!1;c.$MSearchTypeaheadNeue34=function(){c.state.isShowingAllRecentResults=!0,c.$MSearchTypeaheadNeue37()};c.$MSearchTypeaheadNeue23=function(){var a=c.state.query;c.$MSearchTypeaheadNeue39("update",[a]);c.$MSearchTypeaheadNeue39("change",[a])};c.onInputChange=function(){c.setQuery(c.$MSearchTypeaheadNeue17.value.trimLeft()),c.$MSearchTypeaheadNeue49(),c.$MSearchTypeaheadNeue8()};c.onInputBlur=function(){c.setInputFocused(!1)};c.onInputFocus=function(){__p&&__p();var a=c.$MSearchTypeaheadNeue17.value;c.setQuery(a);c.setInputFocused(!0);m.pushSoftState(n.SEARCH);var b=new F(window.location),d=new F(c.props.activityLogURI);(c.$MSearchTypeaheadNeue12||b.getPath()===d.getPath())&&(c.$MSearchTypeaheadNeue12=!1,c.$MSearchTypeaheadNeue39("refreshRecent",[a]));if(c.$MSearchTypeaheadNeue10){b=A.hasTouchEvents()?"touchend":"click";D.invoke(b,"graph-search-activator")}c.$MSearchTypeaheadNeue39("focus");c.$MSearchTypeaheadNeue39("change",[a]);if(!Q){d=new q(G.getURIBuilder().getURI());d.send();Q=!0}};c.onClearButtonEvent=function(a){a.prevent();a="";c.setQuery(a,!0);c.$MSearchTypeaheadNeue17.focus();c.$MSearchTypeaheadNeue39("update",[a])};c.$MSearchTypeaheadNeue29=function(a){__p&&__p();var b=a.getTarget();if(!(b instanceof HTMLElement))return;var d=B.byTag(b,"a");if(d==null)return;var e=B.bySelector(d,"[data-edit-recent-searches]");if(e){c.$MSearchTypeaheadNeue41();return}a.prevent();e=c.$MSearchTypeaheadNeue50(b);if(e==null)return;a=c.$MSearchTypeaheadNeue51(e);c.setQuery(a);c.setResultsListOpen(!1);c.$MSearchTypeaheadNeue39("save-query",[a]);c.$MSearchTypeaheadNeue39("select",[d]);c.$MSearchTypeaheadNeue39("result-selected",[e]);c.$MSearchTypeaheadNeue52(new F(e.uriWithSession))};c.$MSearchTypeaheadNeue31=function(a){__p&&__p();a.prevent();a=c.$MSearchTypeaheadNeue17.value;var b="";if(a==="")return;b=c.$MSearchTypeaheadNeue36(a).addQueryData("ref","content_filter").addQueryData("tsid",c.$MSearchTypeaheadNeue11).addQueryData("source","typeahead");c.$MSearchTypeaheadNeue39("on-enter-pressed",[b.toString()]);c.$MSearchTypeaheadNeue39("save-query",[a]);c.$MSearchTypeaheadNeue52(new F(b));c.$MSearchTypeaheadNeue17.blur();c.setQuery(a);c.setResultsListOpen(!1);c.$MSearchTypeaheadNeue39("query",[c.state.results])};c.$MSearchTypeaheadNeue30=function(a){__p&&__p();var b=a.getTarget();if(b instanceof HTMLElement&&K("676819")&&j.isType(b,["button"])){a.prevent();a=c.$MSearchTypeaheadNeue50(b);b=c.$MSearchTypeaheadNeue51(a);b.length>0&&(b+=" ");c.setQuery(b);c.$MSearchTypeaheadNeue39("save-query",[b]);c.$MSearchTypeaheadNeue23()}else c.$MSearchTypeaheadNeue17.blur()};c.$MSearchTypeaheadNeue26=function(){c.setIsWaiting(!0)};c.$MSearchTypeaheadNeue27=function(a){c.state.isResultsListOpen&&c.$MSearchTypeaheadNeue39("render_start");a=Array.from(a);a.forEach(function(a){a.uri=new F(a.uri).addQueryData("refid",r.refid).toString()});var b=c.state,d=b.query;b=b.searchMode;d!==""&&b==="global"&&(a=c.$MSearchTypeaheadNeue35(a));c.state.results=a;c.$MSearchTypeaheadNeue37()};c.$MSearchTypeaheadNeue28=function(){c.setIsWaiting(!1)};c.$MSearchTypeaheadNeue45=function(a){c.$MSearchTypeaheadNeue16!=null&&c.$MSearchTypeaheadNeue16.startSession(a.getData().sessionID,a.getData().query);var b=c.$MSearchTypeaheadNeue18;if(b==null)return;var d=j.scry(b,"input","search-typeahead-session-id")[0];d||(d=document.createElement("input"),d.type="hidden",d.name="tsid",b.appendChild(d),D.addSigil(d,"search-typeahead-session-id"));b=a.getData().sessionID;d.value=b;c.$MSearchTypeaheadNeue11=b};c.props=b;c.state={query:b.initialQuery,results:[],isShowingAllRecentResults:!1,isWaiting:!1,searchMode:c.getInitialSearchMode(),isInputFocused:!1,groupID:c.$MSearchTypeaheadNeue22(),groupName:c.props.groupName};c.$MSearchTypeaheadNeue5=new k();c.$MSearchTypeaheadNeue2=new E();c.$MSearchTypeaheadNeue3=new l({maxResults:v.compositeSourceConfig.maxResults});c.$MSearchTypeaheadNeue8=N(c.$MSearchTypeaheadNeue23,200);c.$MSearchTypeaheadNeue13=v.sources.online!=null&&C.redirectPages;b=c.props.root;c.$MSearchTypeaheadNeue17=j.find(b,"input","search-small-box");c.$MSearchTypeaheadNeue18=j.find(b,"form","search-typeahead-form");c.$MSearchTypeaheadNeue19=b.getElementsByClassName("_5-lw")[0];c.$MSearchTypeaheadNeue20=b.getElementsByClassName("_5-ly")[0];c.$MSearchTypeaheadNeue21=b.getElementsByClassName("_3k_n")[0];c.$MSearchTypeaheadNeue24();M(function(){c.initBehaviors(c.props.behaviors)});D.invoke("m:graph-search:ready");return c}var c=b.prototype;c.getTypeaheadType=function(){var a=v.keywordsOnlyEnabled;return a?"m_simplification":"m_graph_search"};c.getValue=function(){return this.$MSearchTypeaheadNeue17.value};c.getSessionID=function(){return this.$MSearchTypeaheadNeue11};c.$MSearchTypeaheadNeue25=function(a){this.$MSearchTypeaheadNeue4=a,this.$MSearchTypeaheadNeue9=new E(),this.$MSearchTypeaheadNeue9.addSubscriptions(a.listen("req_dispatch",this.$MSearchTypeaheadNeue26),a.listen("resultsready",this.$MSearchTypeaheadNeue27),a.listen("after_complete",this.$MSearchTypeaheadNeue28)),a.bindToTypeahead(this)};c.$MSearchTypeaheadNeue24=function(){this.$MSearchTypeaheadNeue2.addSubscriptions(j.listen(this.$MSearchTypeaheadNeue19,"click",null,this.$MSearchTypeaheadNeue29),h.listen(this.$MSearchTypeaheadNeue19,"touchmove",null,this.$MSearchTypeaheadNeue30),h.listen(this.$MSearchTypeaheadNeue19,"touchstart",null,this.$MSearchTypeaheadNeue30),j.listen(this.$MSearchTypeaheadNeue17,"focus",null,this.onInputFocus),j.listen(this.$MSearchTypeaheadNeue17,"blur",null,this.onInputBlur),j.listen(this.$MSearchTypeaheadNeue20,"mousedown",null,this.onClearButtonEvent),h.listen(this.$MSearchTypeaheadNeue20,"touchstart",null,this.onClearButtonEvent),j.listen(this.$MSearchTypeaheadNeue18,"submit",null,this.$MSearchTypeaheadNeue31)),K("676820")?this.$MSearchTypeaheadNeue2.addSubscriptions(j.listen(this.$MSearchTypeaheadNeue17,"input",null,this.onInputChange)):this.$MSearchTypeaheadNeue2.addSubscriptions(j.listen(this.$MSearchTypeaheadNeue17,"keyup",null,this.onInputChange)),this.$MSearchTypeaheadNeue21!=null&&this.$MSearchTypeaheadNeue2.addSubscriptions(j.listen(this.$MSearchTypeaheadNeue21,"click",null,this.$MSearchTypeaheadNeue32))};c.$MSearchTypeaheadNeue33=function(a){j.listen(a,"click",null,this.$MSearchTypeaheadNeue34)};c.$MSearchTypeaheadNeue35=function(a){var b=this.state.query;b={id:t.getKeywordSemantic(b),type:"keyword",isSeeMore:!0,display:b,uri:this.$MSearchTypeaheadNeue36(b).toString(),keyword_type:"escape"};a.push(b);return a};c.$MSearchTypeaheadNeue37=function(){__p&&__p();var a=this,b=v.keywordsOnlyEnabled,c=v.keywordBucketSize,d=v.defaultNumTopResultsToShow,e=v.initialNumRecentResultsToShow,f=this.state.results,g=this.state,h=g.query,i=g.searchMode,k=this.$MSearchTypeaheadNeue3.bucketize(f,b?c:d),l=[],m=[];g=-1;f=k.find(function(a){return a.headerType==="recent"});var n=[];b=f?f.results.length:0;var o=0;f&&b>e&&!this.state.isShowingAllRecentResults&&f.results.splice(e);var p=[];k.forEach(function(b,c){__p&&__p();var d=b.headerType;b=b.results;d==="suggested"&&"group_search"in k&&(d="suggested_global");if(h.length===0||c<k.length-1){c=a.props.renderers.Header({activityLogURI:a.props.activityLogURI,isFirst:c===0,query:h,searchMode:i,type:d});c!=null&&n.push(c)}d=b.map(function(c,b){p.push(c);a.state.isVisible&&c.isTrending&&c.isNullStateSuggestion&&(l[o]=c.topicID,m[o]=o+1,g=c.trendingQueryID);return a.$MSearchTypeaheadNeue38(c)});n.push.apply(n,d)});this.$MSearchTypeaheadNeue39("show",[p,{preventSessionStart:!0}]);if(l.length>0&&!this.$MSearchTypeaheadNeue1){this.$MSearchTypeaheadNeue1=new E();(c=this.$MSearchTypeaheadNeue1).addSubscriptions.apply(c,u.registerTrendingTopicListeners(l,r.msite_news_null_state,m,g));u.logTrendingTopicImpressions(l,r.msite_news_null_state,m,g)}else this.$MSearchTypeaheadNeue1!=null&&(this.$MSearchTypeaheadNeue1.release(),this.$MSearchTypeaheadNeue1=null);j.empty(this.$MSearchTypeaheadNeue19);j.appendContent(this.$MSearchTypeaheadNeue19,n);this.state.isResultsListOpen&&this.$MSearchTypeaheadNeue39("rendered")};c.$MSearchTypeaheadNeue38=function(a){var b=this.state.results.indexOf(a);a.uri&&(this.$MSearchTypeaheadNeue13&&a.type=="page"?a.uriWithSession=new F("/search/").addQueryData({query:a.name,tsid:this.$MSearchTypeaheadNeue11,source:P}).toString():a.uriWithSession=new F(a.uri).addQueryData({tsid:this.$MSearchTypeaheadNeue11,source:P}).toString());a.isTrending&&(a.uriWithSession=new F(a.uriWithSession).addQueryData("position",b+1).toString());b=this.$MSearchTypeaheadNeue40(a);b=b({query:this.state.query,result:a});a.isSeeMoreRecentResults&&this.$MSearchTypeaheadNeue33(b);return b};c.$MSearchTypeaheadNeue40=function(a){if(a.isNullStateSuggestion)return this.props.renderers.NullstateResult;return a.isSeeMoreRecentResults?this.props.renderers.SeeMoreRecentResultsButton:this.props.renderers.TypedResult};c.$MSearchTypeaheadNeue41=function(){this.$MSearchTypeaheadNeue12=!0};c.$MSearchTypeaheadNeue42=function(a){if(this.$MSearchTypeaheadNeue4!=null&&!a)return;this.$MSearchTypeaheadNeue9&&this.$MSearchTypeaheadNeue9.release();this.$MSearchTypeaheadNeue4&&this.$MSearchTypeaheadNeue4.unbindFromTypeahead();a=x.getOrCreate({searchMode:this.state.searchMode,currentProfileID:this.props.currentProfileID,groupID:this.state.groupID});this.$MSearchTypeaheadNeue25(a)};c.$MSearchTypeaheadNeue43=function(){if(this.$MSearchTypeaheadNeue14)return;this.$MSearchTypeaheadNeue2.addSubscriptions(z.setupTypeaheadListener(this));this.$MSearchTypeaheadNeue14=!0};c.$MSearchTypeaheadNeue44=function(){if(this.$MSearchTypeaheadNeue15)return;var a=new w(this,O);this.$MSearchTypeaheadNeue2.addSubscriptions({remove:function(){return a.destroy()}});this.$MSearchTypeaheadNeue2.addSubscriptions(D.listen("m-typeahead-logger:new-session-id",null,this.$MSearchTypeaheadNeue45));this.$MSearchTypeaheadNeue15=!0;this.$MSearchTypeaheadNeue2.addSubscriptions(D.listen("log-m-search-session-end",null,function(b){a.blur(b.getData().reason)}))};c.$MSearchTypeaheadNeue46=function(){if(v.hasRecentSearches){var a=new p(this);this.$MSearchTypeaheadNeue2.addSubscriptions({remove:function(){return a.destroy()}})}};c.$MSearchTypeaheadNeue47=function(){var a=this.state.searchMode;if(!v.typeaheadScubaInfo||this.$MSearchTypeaheadNeue6[a])return;var b=y.getNewMSearchTypeaheadPerfLogger(this,v.typeaheadScubaInfo,v.sources.online.enable_caching||!1);this.$MSearchTypeaheadNeue2.addSubscriptions({remove:function(){return b.destroy()}});this.$MSearchTypeaheadNeue16=b;this.$MSearchTypeaheadNeue6[a]=!0};c.$MSearchTypeaheadNeue48=function(){var a=this.state.searchMode;if(!v.typeaheadScubaInfo||this.$MSearchTypeaheadNeue7[a])return;var b=new s(this,v.typeaheadScubaInfo.type);this.$MSearchTypeaheadNeue2.addSubscriptions({remove:function(){return b.destroy()}});this.$MSearchTypeaheadNeue7[a]=!0};c.$MSearchTypeaheadNeue49=function(){var a=this.$MSearchTypeaheadNeue17.value;this.$MSearchTypeaheadNeue39("keypress",[a])};c.listen=function(a,b){var c=this.$MSearchTypeaheadNeue5.addListener(a,b);return{type:a,callback:b,remove:function(){c.remove()}}};c.$MSearchTypeaheadNeue39=function(a,b){var c;b===void 0&&(b=[]);(c=this.$MSearchTypeaheadNeue5).emit.apply(c,[a].concat(b))};c.$MSearchTypeaheadNeue32=function(a){a.prevent(),m.popSoftState(n.SEARCH)};c.$MSearchTypeaheadNeue36=function(a){a=a.trim();var b=this.state.groupID;return b&&this.state.searchMode==="group"?t.getGroupSearchURI(b,a):t.getKeywordURI(a)};c.$MSearchTypeaheadNeue22=function(){var a=new F(window.location);return a.getQueryData().groupID};c.$MSearchTypeaheadNeue51=function(a){return a!=null&&a.type==="keyword"?a.display:""};c.$MSearchTypeaheadNeue50=function(a){var b=B.byTag(a,"a");a=null;b!=null&&(a=this.state.results.find(function(a){return String(a.id)===String(b.getAttribute("rel"))}));return a};c.$MSearchTypeaheadNeue53=function(a){return a.getQueryData().groupID?"group":null};c.getInitialSearchMode=function(){var a=new F(window.location);a=this.$MSearchTypeaheadNeue53(a);return a!=null?a:"global"};c.$MSearchTypeaheadNeue54=function(){if(this.state.searchMode==="group")return J._("Search in {groupName}",[J._param("groupName",this.state.groupName)]);else return J._("Search")};c.$MSearchTypeaheadNeue52=function(a){o.load(a)};c.setSearchMode=function(a,b,c){var d=this.state.searchMode!==a;this.state=babelHelpers["extends"]({},this.state,{searchMode:a,groupName:b||"",groupID:c});d&&this.$MSearchTypeaheadNeue10&&(this.$MSearchTypeaheadNeue42(!0),this.$MSearchTypeaheadNeue47(),this.$MSearchTypeaheadNeue48(),this.$MSearchTypeaheadNeue23());d&&this.$MSearchTypeaheadNeue17.setAttribute("placeholder",String(this.$MSearchTypeaheadNeue54()))};c.isVisible=function(){return!!this.state.isVisible};c.setVisibility=function(a){__p&&__p();var b=this.state.isVisible!==a;this.state.isVisible=a;if(b&&this.state.isVisible&&!this.$MSearchTypeaheadNeue10){this.$MSearchTypeaheadNeue42();this.$MSearchTypeaheadNeue43();this.$MSearchTypeaheadNeue44();this.$MSearchTypeaheadNeue47();this.$MSearchTypeaheadNeue48();this.$MSearchTypeaheadNeue46();a=A.hasTouchEvents()?"touchend":"click";D.invoke(a,"graph-search-activator");this.$MSearchTypeaheadNeue39("change",[this.$MSearchTypeaheadNeue17.value]);this.$MSearchTypeaheadNeue10=!0}b&&(this.$MSearchTypeaheadNeue39("visibility-changed",[!!this.state.isVisible]),i.conditionClass(this.props.root,"_13gt",!this.state.isVisible))};c.isResultsListOpen=function(){return!!this.state.isResultsListOpen};c.setResultsListOpen=function(a){var b=a!==this.state.isResultsListOpen;this.state.isResultsListOpen=a;a=this.props.root;b&&i.conditionClass(a,"_7n0e",!this.state.isResultsListOpen);b&&!this.state.isResultsListOpen&&(this.$MSearchTypeaheadNeue17.blur(),this.$MSearchTypeaheadNeue39("closed"))};c.setIsWaiting=function(a){var b=a!==this.state.isWaiting;this.state.isWaiting=a;b&&i.conditionClass(this.props.root,"_13gv",this.state.isWaiting)};c.setQuery=function(a,b,c){b===void 0&&(b=!1),this.state.query=a,this.$MSearchTypeaheadNeue17.value!==this.state.query&&(this.$MSearchTypeaheadNeue17.value=this.state.query),this.state.query&&this.state.isInputFocused?j.show(this.$MSearchTypeaheadNeue20):j.hide(this.$MSearchTypeaheadNeue20),b&&this.$MSearchTypeaheadNeue39("change",[a,c])};c.setInputFocused=function(a){this.state.isInputFocused=a,this.state.query&&this.state.isInputFocused?j.show(this.$MSearchTypeaheadNeue20):j.hide(this.$MSearchTypeaheadNeue20)};c.focusInput=function(){this.$MSearchTypeaheadNeue17.focus()};c.release=function(){this.$MSearchTypeaheadNeue2.release()};c.initBehaviors=function(a){var b=this;a.forEach(function(a){b.enableBehavior(a)})};c.getRoot=function(){return this.props.root};return b}(L(g));e.exports=a}),null);
__d("findTag",["TAAL","$","ex"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();a=function(a,b){__p&&__p();var c=h(a);if(!b){if(c instanceof HTMLElement)return c;throw new Error(g.blameToPreviousFile(i('Element with ID "%s" is not an HTMLElement',a)))}var d=c.tagName.toLowerCase();if(d!==b)throw new Error(g.blameToPreviousFile(i("Expected $('%s') to be of type '%s' but got '%s' instead.",a,b,d)));return c};e.exports=a}),null);
__d("MSearchTypeaheadNeueFlyout",["CSS","DOM","MHistory","MJewel","MJewels","MSearchTypeaheadNeue","MTouchClick","Stratcom","SubscriptionsHandler","URI","findTag","ge","throttle"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){"use strict";__p&&__p();var t=new RegExp("^/(search|graphsearch|topic/trending|groups/search)");a=function(){__p&&__p();function a(a){__p&&__p();var b=this;this.$5=function(a){__p&&__p();var c=a.getTarget();if(!(c instanceof HTMLElement))return;var d=c.getAttribute("data-ft");c=c.getAttribute("data-name");if(!d||!c)return;a.prevent();b.typeaheadInstance.setSearchMode("group",c,d);b.typeaheadInstance.setResultsListOpen(!0);b.typeaheadInstance.state.results=[];b.typeaheadInstance.setVisibility(!0);b.typeaheadInstance.focusInput()};this.$3=function(){__p&&__p();var a=i.getPath(),c=i.getParam(i.SOFT_STATE_KEY),d=c==="search";a=new p(a).getPath();a=a.match(t)!=null;a=d||a&&(c==null||d);c=a?b.$2:"";a&&d&&n.invoke("m:graph-search:rendered");b.typeaheadInstance.setQuery(c);b.typeaheadInstance.setVisibility(a);b.typeaheadInstance.setResultsListOpen(d);d&&b.typeaheadInstance.focusInput()};this.$7=function(){n.invoke("log-m-search-session-end",null,{reason:"navigated_away"}),b.typeaheadInstance.$12!=null&&b.typeaheadInstance.$12.endSession(),b.typeaheadInstance.setSearchMode("global")};this.$6=function(a){a=a.getData().title||"";b.typeaheadInstance.isResultsListOpen()||(b.typeaheadInstance.setQuery(a,!0,{preventSessionStart:!0}),b.typeaheadInstance.setSearchMode(b.typeaheadInstance.getInitialSearchMode()),b.typeaheadInstance.setVisibility(a!==""));b.$10(a)};this.$10=function(a){b.$2=a};this.$1=new o();this.typeaheadInstance=new l(a);this.$2=a.initialQuery||"";this.$3();this.$4()}var b=a.prototype;b.$4=function(){this.$1.addSubscriptions(n.listen(m.hasTouchEvents()?"touchend":"click","m-groups-scoped-search-button",this.$5),n.listen("m:history:change",null,this.$3),n.listen("setSearchText","graph-search-entry-point",this.$6),n.listen("m:chrome:tab:hide",k.SEARCH,this.$7),this.typeaheadInstance.listen("visibility-changed",this.$8),this.typeaheadInstance.listen("rendered",s(this.$9,500)),this.typeaheadInstance.listen("save-query",this.$10),this.typeaheadInstance.listen("closed",this.$11))};b.$8=function(a){var b=r(j.JEWEL_NAV_NODE_ID);if(b!=null){b=h.scry(b,"*","search")[0];b&&g.conditionClass(b,"isActive",a)}};b.$9=function(){g.hide(q("root","div"))};b.$11=function(){g.show(q("root","div"))};a.init=function(b){return new a(b)};return a}();e.exports=a}),null);