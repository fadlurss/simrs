if (self.CavalryLogger) { CavalryLogger.start_js(["r9Mu2"]); }

__d("MContextualThing",[],(function(a,b,c,d,e,f){__p&&__p();var g=0,h={register:function(a,b){b.id=b.id||"ctxtlayer_"+g++,a.setAttribute("data-ownerid",b.id)},containsIncludingLayers:function(a,b){while(b){if(a.contains(b))return!0;b=h.getContext(b)}return!1},getContext:function(a){var b;while(a){if(a.getAttribute&&(b=a.getAttribute("data-ownerid")))return document.getElementById(b);a=a.parentNode}return null}};e.exports=h}),null);
__d("BehaviorsMixin",[],(function(a,b,c,d,e,f){__p&&__p();var g=function(){"use strict";function a(a){this.$1=a,this.$2=!1}var b=a.prototype;b.enable=function(){this.$2||(this.$2=!0,this.$1.enable())};b.disable=function(){this.$2&&(this.$2=!1,this.$1.disable())};return a}(),h=1;function i(a){a.__BEHAVIOR_ID||(a.__BEHAVIOR_ID=h++);return a.__BEHAVIOR_ID}a={enableBehavior:function(a){this._behaviors||(this._behaviors={});var b=i(a);this._behaviors[b]||(this._behaviors[b]=new g(new a(this)));this._behaviors[b].enable();return this},disableBehavior:function(a){if(this._behaviors){a=i(a);this._behaviors[a]&&this._behaviors[a].disable()}return this},enableBehaviors:function(a){a.forEach(this.enableBehavior,this);return this},destroyBehaviors:function(){if(this._behaviors){for(var a in this._behaviors)this._behaviors[a].disable();this._behaviors={}}},hasBehavior:function(a){return this._behaviors&&i(a)in this._behaviors}};e.exports=a}),null);
__d("MLayer",["BehaviorsMixin","CSS","DOM","MContextualThing","MLegacyDataStore","Stratcom","ge","mixin","mixInEventEmitter","nullthrows","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){__p&&__p();var r=[],s={};c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.$MLayer2=!1;c.$MLayer3=!1;c.$MLayer4=null;c.config=b||{layerid:void 0};return c}var c=b.prototype;c.init=function(a){__p&&__p();if(this.config.layerid){if(s[this.config.layerid])return;s[this.config.layerid]=this}this.configure(this.config,p(a));a=this.config.addedBehaviors||[];this.enableBehaviors(this.getDefaultBehaviors().concat(a));a=m("flyout-nocontext-root");a||(a=i.create("div",{id:"flyout-nocontext-root"}));i.appendContent(document.body,a);i.appendContent(a,this.getRoot());i.hide(this.getRoot())};c.configure=function(a,b){__p&&__p();this.$MLayer1=this.buildWrapper(a,b);l.addSigil(this.$MLayer1,"m-layer-root");b=a.attributes;if(b){if(b.sigil){var c=b.sigil.split(" ");c.forEach(function(a){l.addSigil(this.$MLayer1,a)},this);delete b.sigil}for(var d in b)this.getRoot().setAttribute(d,b[d])}a.classNames&&a.classNames.forEach(function(a){h.conditionClass(this.$MLayer1,a,!0)},this);a.causalElement&&(this.$MLayer4=a.causalElement);k.set(this.$MLayer1,{layer:this})};c.getDefaultBehaviors=function(){return[]};c.getCausalElement=function(){return this.$MLayer4};c.setCausalElement=function(a){this.$MLayer4=a;return this};c.getInsertParent=function(){return this.insertParent||p(document.body)};c.getRoot=function(){return p(this.$MLayer1)};c.getContentRoot=function(){return this.$MLayer1};c.buildWrapper=function(a,b){return b};c.setInsertParent=function(a){a&&(this.$MLayer2&&a!==this.getInsertParent()&&(i.appendContent(a,this.getRoot()),this.updatePosition()),this.insertParent=a);return this};c.show=function(){__p&&__p();if(this.$MLayer2)return this;var a=this.getRoot(),b=this.getInsertParent();a.parentNode!==b&&i.appendContent(b,a);this.emit("beforeshow");a.style.visibility="hidden";a.style.overflow="hidden";i.show(a);this.updatePosition()!==!1?(this.$MLayer2=!0,this.emit("show"),l.invoke("Layer:show",null,this),q(function(){this.$MLayer2&&r.push(this)}.bind(this))):i.hide(a);a.style.visibility="";a.style.overflow="";this.emit("aftershow");return this};c.hide=function(){if(this.$MLayer3||!this.$MLayer2||this.emit("beforehide")===!1)return this;this.$MLayer3=!0;this.emit("starthide")!==!1&&this.finishHide();return this};c.conditionShow=function(a){return a?this.show():this.hide()};c.finishHide=function(){this.$MLayer2&&(r.splice(r.indexOf(this),1),this.$MLayer3=!1,this.$MLayer2=!1,i.hide(this.getRoot()),this.emit("hide"),l.invoke("m:layer:hide",null,this));return this};c.isShown=function(){return this.$MLayer2};c.updatePosition=function(){return!0};c.updateIfShown=function(){this.isShown()&&this.updatePosition()};c.isDestroyed=function(){return this.destroyed};c.destroy=function(){__p&&__p();if(this.destroyed)return;this.destroyed=!0;this.finishHide();var a=this.getRoot();i.remove(a);this.destroyBehaviors();this.emit("destroy");l.invoke("Layer:destroy",null,this);delete k.get(a).layer;this.$MLayer1=this.$MLayer4=null;this.config.layerid&&delete s[this.config.layerid];this.config=null};c.shouldBlurOnTouchEnd=function(){return!0};b.getLayers=function(){return s};b.show=function(a){a.show()};return b}(n(g));o(c,{destroy:!0,blur:!0,beforeshow:!0,show:!0,aftershow:!0,beforehide:!0,starthide:!0,hide:!0});var t;function a(a){a=a.getTouch();var b=a.clientX;a=a.clientY;t={x:b,y:a}}function b(a){__p&&__p();var b=r.length;if(!b)return;var c=a.getTarget(),d=a.getType();if(!p(document.documentElement).contains(c))return;if(d==="touchend"&&t){a=a.getTouch();var e=a.clientX;a=a.clientY;e=Math.sqrt(Math.pow(t.x-e,2)+Math.pow(t.y-a,2));t=null;if(e>5)return}while(b--){a=r[b];if(!a.isShown())continue;e=a.getContentRoot();if(j.containsIncludingLayers(e,c))return;e=a.getCausalElement();if(d==="touchend"&&e&&(e.contains(c)||e===c||!a.shouldBlurOnTouchEnd()))continue;if(a.emit("blur")===!1||a.isShown())return}}l.listen("touchstart",null,a);l.listen("click",null,b);l.listen("touchend",null,b);e.exports=c}),null);
__d("TabbableElements",["Style"],(function(a,b,c,d,e,f,g){__p&&__p();function h(a){__p&&__p();if(a.tabIndex<0)return!1;if(a.tabIndex>0||a.tabIndex===0&&a.getAttribute("tabIndex")!==null)return!0;var b=a;switch(a.tagName){case"A":a=b;return!!a.href&&a.rel!="ignore";case"INPUT":a=b;return a.type!="hidden"&&a.type!="file"&&!a.disabled;case"BUTTON":case"SELECT":case"TEXTAREA":a=b;return!a.disabled}return!1}function i(a){a=a;while(a&&a!==document&&g.get(a,"visibility")!="hidden"&&g.get(a,"display")!="none")a=a.parentNode;return a===document}var j={find:function(a){return Array.from(a.getElementsByTagName("*")).filter(j.isTabbable)},findFirst:function(a){return Array.from(a.getElementsByTagName("*")).find(j.isTabbable)},isTabbable:function(a){return h(a)&&i(a)},isVisible:function(a){return i(a)}};e.exports=j}),null);
__d("clamp",[],(function(a,b,c,d,e,f){function a(a,b,c){if(a<b)return b;return a>c?c:a}e.exports=a}),null);
__d("MFlyout",["CSS","DOM","Locale","MContextualThing","MJSEnvironment","MLayer","MLegacyDataStore","MParent","MViewport","Scroll","Stratcom","TabbableElements","Vector","clamp","cx","emptyFunction","mixInEventEmitter"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){__p&&__p();var x=52,y=26,z=10,A=22,B=20,C=10,D=14,E=44,F=3,G=400,H=320,I=["resize","m:schedulable:loaded","m:viewport:orientation-change","m:orientation-resize:complete","m:hideout:reflow","m:landscape-cover-crop:complete"],J="flyout-causal";function K(){return document.body}var L=[];a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b,c){__p&&__p();b=a.call(this,b)||this;b._contentRoot=null;b._overlay=null;b._contentWrapper=null;b._nubNode=null;b._nubAlignment=null;b._content=null;b._contextNode=null;b._parentLayer=null;b._parentSubscription=null;b._orientation=null;b._orientationClass=null;b._width=null;b._modal=null;b._contentPositioner=null;b._heightConstraint=null;b._autoflipTopOffset=null;b._coverZIndex=null;b._cover=null;b._supportFixedPosition=!1;b._contentContainer=null;b._useContentAsBounds=!1;b.init(c);return b}var c=b.prototype;c.configure=function(b,c){__p&&__p();a.prototype.configure.call(this,b,c);if(b.context){this.setContext(b.context);this.setParentSubscription();q.addSigil(this.getCausalElement(),J);var d=m.get(this.getCausalElement());d.flyout=this}this.setMargin(b.margin);this.setPosition(b.position);this.setNubAlign(b.nubalign);this.setOffsetY(b.offsetY);this._content=c;this.setWidth(b.width);this.setModal(!!b.modal);this.setAutoflipTopOffset(b.autoFlipTopOffset);this.setCoverZIndex(b.coverZIndex);this.setUseContentAsBounds(b.useContentAsBounds||!1);this._supportFixedPosition=b.supportFixedPosition!=null?b.supportFixedPosition:!1};c.setCoverZIndex=function(a){this._coverZIndex=a};c.setWidth=function(a){this._width=a};c.setModal=function(a){this._modal=a};c.getModal=function(){return this._modal};c.setAutoflipTopOffset=function(a){this._autoflipTopOffset=a};c.getAutoflipTopOffset=function(){return this._autoflipTopOffset};c._getLayerParentWidth=function(){return s.getDim(this.getRoot().offsetParent).x};c.getMaxWidth=function(){return Math.min(this._getLayerParentWidth(),k.IS_TABLET?H:G)};c._maxWidthIsApplicable=function(){return this.getMaxWidth()!==this._getLayerParentWidth()};c._isCustomWidth=function(){return this._width==="auto"||this._maxWidthIsApplicable()};c.applyWidth=function(){var a=this._contentRoot.style;a.width="";a.maxWidth="";if(this._maxWidthIsApplicable()){var b=this.getMaxWidth()+"px";this._width==="auto"?a.maxWidth=b:a.width=b}g.conditionClass(this._contentRoot,"_556f",this._isCustomWidth())};c.buildWrapper=function(a,b){this._nubNode=h.create("div",{className:"_5bn_"});this._backgroundNode=h.create("div",{className:"_5c0e"},this._nubNode);this._contentContainer=h.create("div",{className:"_5c0f"},b);this._contentRoot=h.create("div",{className:"_5bo0"},[this._backgroundNode,this._contentContainer]);i.isRTL()&&(this._contentRoot.style.direction="rtl");this.config.isBottomSheet?(this._overlay=h.create("div",{className:"_7ahu"}),this._contentWrapper=h.create("div",{className:"_544k"},[this._contentRoot,this._overlay])):this._contentWrapper=h.create("div",{className:"_544k"},this._contentRoot);this._contentPositioner=h.create("div",{className:"_544l _7a_1"},this._contentWrapper);return this._contentPositioner};c.setMargin=function(a){g.conditionClass(this._contentRoot,"_54wl",a==="large"),g.conditionClass(this._contentRoot,"_55kj",a==="medium")};c.getInsertParent=function(){var b=this.insertParent;if(!b){var c=this.getContext();c&&(b=n.bySigil(c,"context-layer-root")||K())}return b||a.prototype.getInsertParent.call(this)};c.setContent=function(a){this._content=a;h.setContent(this._contentRoot,this._content);this.updateIfShown();return this};c.setContext=function(a){this._contextNode=a};c.getCausalElement=function(){return a.prototype.getCausalElement.call(this)||this.getContext()};c.setParentSubscription=function(){__p&&__p();var a=this.getContext(),b=null,c=K().parentNode;while(a!==c){b=m.get(a).layer;if(b)break;a=a.parentNode}if(b===this._parentLayer)return;this._parentLayer&&this._parentSubscription&&(this._parentSubscription.remove(),this._parentSubscription=null);b&&(this._parentSubscription=b.subscribe("hide",this.hide.bind(this)));this._parentLayer=b};c.setPosition=function(a){this.getOrientation().setDefaultPosition(a)&&(this.getOrientation().setPosition(a),this.updateIfShown());return this};c.setNubAlign=function(a){N(a),this._nubAlignment=a||"center"};c.setOffsetX=function(a){a=parseInt(a,10);this.getOrientation().setDefaultOffsetX(a)&&this.updateIfShown();return this};c.setOffsetY=function(a){a=parseInt(a,10);this.getOrientation().setDefaultOffsetY(a)&&this.updateIfShown();return this};c.setUseContentAsBounds=function(a){this._useContentAsBounds=a};c.getOrientation=function(){this._orientation||(this._orientation=new O());return this._orientation};c.getContentRoot=function(){return this._contentRoot};c.getContent=function(){return this._content};c.getContext=function(){return this._contextNode};c.getContextBounds=function(){return this.getContext().getBoundingClientRect()};c.causalClickShow=function(){this.getContent()&&this.show()};c.show=function(){__p&&__p();if(this.isShown())return this;this._cover||(this._cover=h.create("div",{className:"_5so _2wyb",style:this._coverZIndex?{zIndex:this._coverZIndex}:{}}));a.prototype.show.call(this);this.getModal()&&h.insertAfter(this._contentPositioner,this._cover);if(this.isShown()){this.config&&this.config.logShown&&q.invoke("m:flyout:show",null,{type:this.config.logShown});j.register(this.getRoot(),this.getContext());L.push(this);if(!this.resizeListeners){var b=this.updatePosition.bind(this);this.resizeListeners=I.map(function(a){return q.listen(a,null,b)})}var c=document.getElementById("viewport"),d=this.getContentRoot();if(c&&d){d=d.parentNode;var e=0,f=d;while(f&&f!==c)e+=f.offsetTop,f=f.offsetParent;f=e+d.clientHeight;this._heightConstraint=o.addMinHeightConstraint(f)}}c=r.findFirst(this._contentContainer);c&&c.focus();return this};c.finishHide=function(){L.splice(L.indexOf(this),1);while(this.resizeListeners&&this.resizeListeners.length)this.resizeListeners.pop().remove();this.resizeListeners=null;q.invoke("m:flyout:close",null,{flyout:this});this.getModal()&&this._cover&&h.remove(this._cover);this._heightConstraint&&(this._heightConstraint.release(),this._heightConstraint=null);return a.prototype.finishHide.call(this)};c.updatePosition=function(){__p&&__p();var a=this.getContext();if(!a)return!1;var b=a.offsetParent;if(!b&&this._supportFixedPosition){var c=getComputedStyle(a);c.position==="fixed"&&(b=parseInt(c.top,10))}if(!b)return!1;this.applyWidth();this.emit("adjustDimensions");c=this.getRoot();b=this.getOrientation();this.emit("adjust",b.reset());var d=c.offsetParent;d=d.getBoundingClientRect();var e=this.getContextBounds(),f=e.left-d.left,g=e.top-d.top,h=window.innerHeight,i=this.getContentRoot(),j=n.bySigil(a,"feed-ufi-comments"),k=j!==null?i.clientHeight+A+E+C:i.clientHeight+A+E;k=k<e.top;var l=j!==null?i.clientHeight+z+B+(h-j.getBoundingClientRect().bottom):i.clientHeight+z+B;i.clientHeight+z+B;var m=h-e.bottom>=l;b.getPosition()==="below"&&(!j&&e.height<=h-l-E||j&&e.height<=h-l?g+=e.height:k?b.setPosition("above"):!m?g=j!==null?d.top*-1+j.clientHeight/2:d.top*-1+h/2-E:g+=e.height+B);this.updateWrapperClass(b);l=0;k=b.getOffsetX();m=i.clientWidth;j=Math.round(m/2);if(this._isCustomWidth()){if(k)l=k-j;else{h=f+Math.round(e.width/2);l=h-j}l=t(Math.round(l),0,this._getLayerParentWidth()-m)}i.style.left=l+"px";k=b.getOffsetY();h=0;q.hasSigil(a,"kaios-like-react-trigger")&&(b.getPosition()==="above"?h=D:b.getPosition()==="below"&&(h=-D));c.style.top=g+k+h+"px";m=this._nubAlignment;e.width<y&&(m="center");a=y/2;c=f;g=Math.round(e.width/2);this._useContentAsBounds&&(c=l,g=j);m==="center"?c+=g:m==="left"?c+=a:c+=e.width-a;k=i.getBoundingClientRect();h={left:k.left,width:k.width};h.left-=d.left;f=F+y/2;c=t(c,h.left+f,h.left+h.width-f);l=c-x/2-h.left;this._nubNode.style.left=l+"px";this.emit("reposition",b);return!0};c.updateNubPosition=function(a){this._nubNode&&(this._nubNode.style.left=a+"px")};c._toggleOrientationClass=function(a,b){g.conditionClass(this._contentWrapper,b||this._orientationClass,a)};c.updateWrapperClass=function(a){a=a.getClassName();if(a===this._orientationClass)return;this._orientationClass&&this._toggleOrientationClass(!1);this._orientationClass=a;this._toggleOrientationClass(!0)};c.simulateOrientation=function(a,b){__p&&__p();a=a.getClassName();if(a===this._orientationClass)return b();else{this._orientationClass&&this._toggleOrientationClass(!1);this._toggleOrientationClass(!0,a);b=b();this._toggleOrientationClass(!1,a);this._orientationClass&&this._toggleOrientationClass(!0);return b}};c.destroy=function(){__p&&__p();a.prototype.destroy.call(this);this._contextNode=null;this._contextSigil=null;this._contentRoot=null;this._contentWrapper=null;this._contentContainer=null;this._content=null;this._nubNode=null;this._width=null;this._cover=null;this._overlay=null;return this};c.shouldBlurOnTouchEnd=function(){return this.getModal()==null};return b}(l);w(a,{adjustDimensions:!0,adjust:!0,reposition:!0});var M=v.thatReturnsArgument,N=v.thatReturnsArgument,O=function(){"use strict";__p&&__p();function a(){this._default={_position:"above",_offsetX:0,_offsetY:0},this.reset()}var b=a.prototype;b.setPosition=function(a){this._position=M(a);return this};b.getOppositePosition=function(){return a.OPPOSITE[this.getPosition()]};b.getPosition=function(){return this._position||"above"};b.getOffsetX=function(){return this._offsetX||0};b.getOffsetY=function(){var a=this._offsetY||0;this._position==="above"?(a-=A,a*=-1):this._position==="below"&&(a-=z);return a};b.getClassName=function(){var a=this.getPosition();if(a==="below")return"_5bo1";else if(a==="above")return"_5bo2"};b.reset=function(){Object.assign(this,this._default);return this};b.setDefaultPosition=function(a){var b=this._default._position;this._default._position=M(a);return b!==a};b.setDefaultOffsetX=function(a){var b=this._default._offsetX;this._default._offsetX=a;return b!==a};b.setDefaultOffsetY=function(a){var b=this._default._offsetY;this._default._offsetY=a;return b!==a};return a}();O.OPPOSITE={above:"below",below:"above"};q.listen("click",J,function(a){m.get(a.getNode(J)).flyout.causalClickShow()});q.listen("click",["m-layer-root","mflyout-remove-on-click"],function(a){a=a.getNode("m-layer-root");m.get(a).layer.hide()});e.exports=a}),null);
__d("MLayerDestroyOnHide",[],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";function a(a){this.$1=a,this.$2}var b=a.prototype;b.enable=function(){this.$2=this.$1.addListener("hide",this.$1.destroy.bind(this.$1))};b.disable=function(){this.$1=null,this.$2.remove(),this.$2=null};return a}();e.exports=a}),null);
__d("MLayerHideOnBlur",[],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this.$3=null,this.$2=null,this.$1=a}var b=a.prototype;b.enable=function(){this.$3=[this.$1.addListener("show",this.$4.bind(this)),this.$1.addListener("hide",this.$5.bind(this))],this.$1.isShown()&&this.$4()};b.disable=function(){this.$5();while(this.$3.length)this.$3.pop().remove();this.$3=null};b.$5=function(){this.$2&&this.$2.remove(),this.$2=null};b.$4=function(){this.$2=this.$1.addListener("blur",function(){this.$1.hide()}.bind(this))};return a}();e.exports=a}),null);
__d("MUFIActorSelectorBootloader",["Bootloader","Event","MFlyout","MLayerDestroyOnHide","MLayerHideOnBlur","destroyOnUnload"],(function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";__p&&__p();a={_buildLoadingFlyout:function(a,b){return new i({position:"below",context:a,addedBehaviors:[j,k],classNames:["accelerate"],margin:"none",nubalign:"center",offsetY:0,width:"100%"},b)},initBootloadHook:function(a){var b=this,c=h.listen(a.container,"click",function(){var d=b._buildLoadingFlyout(a.loadingFlyoutContext,a.loadingFlyoutContent);d.show();g.loadModules(["MUFIActorSelector.react","ReactRenderer"],function(b,e){e.constructAndRenderComponentAcrossTransitions(b,a.reactElementProps,a.container),d.destroy(),c.remove()},"MUFIActorSelectorBootloader")});l(c.remove)}};e.exports=a}),null);
__d("XFeedNUXSaveSeenStateController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/feed/nux/seen/save/",{link_id:{type:"String"},key:{type:"String",required:!0},seen:{type:"Bool",defaultValue:!1},env:{type:"Enum",enumType:0}})}),null);
__d("MFeedNUXTooltip",["DOM","MRequest","MViewport","Stratcom","SubscriptionsHandler","XFeedNUXSaveSeenStateController","destroyOnUnload","mixInEventEmitter"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){__p&&__p();var o={},p,q={},r,s=0,t=100,u=1,v=0;function w(){p=j.listen("scroll",null,y),m(x)}function x(){p&&p.remove(),p=null,window.clearTimeout(r),r=null}function y(){__p&&__p();var a=i.getHeight();r&&(window.clearTimeout(r),r=null);for(var b in o){var c=o[b],d=c.getNodes(),e=c.getHeadRoom();for(var f=0;f<d.length;f++){var g=d[f].getBoundingClientRect();if(g.top>=e&&g.bottom<=a){z(d[f],c);break}}}}function z(a,b){r=window.setTimeout(function(){b.getContext()!==a&&(b.setContext(a),b.show())},s)}a=function(){"use strict";__p&&__p();function a(a,b,c,d){__p&&__p();o.length||w();if(o[b]||q[b]){c.destroy();return}this.$1=b;this.$2=g.scry(document.getElementById("page"),"*",a);this.$3=a;this.$4=v;this.$5=c;this.$6=d===0?0:d||t;o[b]=this;var e=new k();e.addSubscriptions(this.$5.addListener("show",this.emit.bind(this,"show")),this.$5.addListener("hide",function(){this.emit("hide"),e.release()}.bind(this)));y()}var b=a.prototype;b.destroy=function(){delete o[this.$1],Object.keys(o).length||x()};b.getContext=function(){return this.$5.getContext()};b.getNodes=function(){return this.$2};b.getHeadRoom=function(){return this.$6};b.getIsUnseen=function(){return this.$4===v};b.setContext=function(a){this.$5&&this.$5.setContext(a)};b.show=function(){if(!this.$5||this.$4===u)return;q[this.$1]=!0;this.$4=u;this.$5.show();var a=l.getURIBuilder().setString("key",this.$1).setBool("seen",!0);new h(a.getURI()).setMethod("POST").send();this.destroy()};b.hide=function(){this.$5&&this.$5.hide()};return a}();n(a,{show:!0,hide:!0});e.exports=a}),null);
__d("MFeedReactionsNUX",["BanzaiLogger","MLegacyDataStore","MLiveData","Stratcom","SubscriptionsHandler","requestAnimationFrame"],(function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";__p&&__p();function a(a,b){__p&&__p();var c=b&&b.isCommentNUX;if(a){var d=new k();d.addSubscriptions(j.listen("click","like-reaction-flyout",function(b){__p&&__p();var e=b.getNode("like-reaction-flyout"),f=b.getNode("feed-ufi-comments");if(!e||f)return;f=h.get(e);if(c&&!f.isComment||!c&&f.isComment)return;var g=f.feedback_target||f.feedbackTarget;if(g){var j=i.get(g);d.addSubscriptions(j.listen("change",function(){j.getData().has_viewer_liked&&l(function(){a.setContext(b.getTarget()),a.show(),m(g)})}))}}),a.once("hide",function(){d.release()}));c||d.addSubscriptions(j.listen("click","reactions-bling-bar",function(b){var c=b.getNode("mufi-inline").querySelector('a[data-sigil*="like-reaction-flyout"]');if(c){var d=b.getNode("feed-ufi-metadata");d=h.get(d).feedback_target.toString();m(d);a.setContext(c);a.show();b.kill()}}));j.listen("m:page:unload",null,function(){j.removeCurrentListener(),d.release()})}}function m(a){g.log("WebReactionsNuxLoggerConfig",{feedback_id:a,"interface":"mTouch"})}e.exports.init=a}),null);
__d("KaiOSLoggerEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({IMPRESSION:"impression",UPDATE_APP_VERSION:"update_app_version",PUSH_SUBSCRIPTION_CHANGE:"push_subscription_change",PUSH_SUBSCRIPTION_UPDATE_ERROR:"push_subscription_update_error",CONTACTS_UPLOADED:"contacts_uploaded",CONTACTS_RETRIEVED:"contacts_retrieved",CONTACTS_VALIDATED:"contacts_validated",CONTACTS_FRIENDABLES_FOUND:"contacts_friendables_found",CONTACTS_UPLOAD_TIME:"contacts_upload_time",CONTACTS_TIMEOUT:"contacts_timeout",CONTACTS_EXCEPTION:"contacts_exception",CONTACT_IMPORTER_OPT_IN:"contact_importer_opt_in",CONTACT_IMPORTER_OPT_OUT:"contact_importer_opt_out",CONTACT_IMPORTER_LEARN_MORE_CLICKED:"contact_importer_learn_more_clicked",HOLDOUT_INVESTIGATION:"holdout_investigation",START_LOADING:"start_loading",ENTER_COMPOSER:"enter_composer",AUTOPLAY:"autoplay",SAW_HSCROLL:"saw_hscroll",HSCROLL:"hscroll",RECORDED_AUDIO:"recorded_audio",PROFILE_LINK_CLICK:"profile_link_click",FEED_JEWEL_CLICKED:"feed_jewel_clicked",REQUESTS_JEWEL_CLICKED:"requests_jewel_clicked",MESSAGING_JEWEL_CLICKED:"messaging_jewel_clicked",NOTIFICATION_JEWEL_CLICKED:"notification_jewel_clicked",SEARCH_JEWEL_CLICKED:"search_jewel_clicked",BOOKMARK_JEWEL_CLICKED:"bookmark_jewel_clicked",OTHER_JEWEL_CLICKED:"other_jewel_clicked",SOFTKEY_MENU_BUTTON_CLICKED:"softkey_menu_button_clicked",SOFTKEY_MENU_CLOSE_BUTTON_CLICKED:"softkey_menu_close_button_clicked",SOFTKEY_POST_BUTTON_CLICKED:"softkey_post_button_clicked",SOFTKEY_OTHER_BUTTON_CLICKED:"softkey_other_button_clicked",SOFTKEY_BACK_BUTTON_CLICKED:"softkey_back_button_clicked",SPLASH_SCREEN_GENERATED:"splash_screen_generated",SPLASH_SCREEN_CLEANUP_INITIATED:"splash_screen_cleanup_initiated",SPLASH_SCREEN_CLEANUP_COMPLETED:"splash_screen_cleanup_completed",SPLASH_SCREEN_CLEANUP_TIMEOUT:"splash_screen_cleanup_timeout"})}),null);
__d("KaiOSLoggerEventCategory",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({APP_INFO:"app_info",PUSH_SUBSCRIPTION:"push_subscription",CONTACT_IMPORTER:"contact_importer",MISCELLANEOUS:"miscellaneous",COMMENTS:"comments",GALLERY_SHARE:"gallery_share",COMPOSER:"composer",MENU_BAR:"menu_bar",SOFTKEY_TRAY:"softkey_tray",SPLASH_SCREEN:"splash_screen"})}),null);
__d("KaiOSLogger",["BanzaiLogger","KaiOSLoggerEvent","KaiOSLoggerEventCategory"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=!1;a={logAppVersion:function(a){g.log("KaiOSEventsLoggerConfig",{event:h.UPDATE_APP_VERSION,event_category:i.APP_INFO,app_version:a})},logWithBanzai:function(a,b,c){g.log("KaiOSEventsLoggerConfig",{event:a,event_category:b,extra_data:c})},logAutoplay:function(a){j||(g.log("KaiOSEventsLoggerConfig",{event:h.AUTOPLAY,event_category:i.MISCELLANEOUS,extra_data:a}),j=!0)},logSawHScroll:function(a){g.log("KaiOSEventsLoggerConfig",{event:h.SAW_HSCROLL,event_category:i.MISCELLANEOUS,extra_data:{childType:a}})},logHScroll:function(a){g.log("KaiOSEventsLoggerConfig",{event:h.HSCROLL,event_category:i.MISCELLANEOUS,extra_data:{childType:a}})},logRecordedAudio:function(){g.log("KaiOSEventsLoggerConfig",{event:h.RECORDED_AUDIO,event_category:i.MISCELLANEOUS})},logAppMigrationEvent:function(a,b,c,d){var e=window.navigator.connection||null;g.log("KaiOSAppMigrationLoggerConfig",babelHelpers["extends"]({event:a,migration_phase:b,duration_ms:c,connection_type:e&&e.type?e.type:"",connection_effective_type:e&&e.effectiveType?e.effectiveType:""},d))}};e.exports=a}),null);
__d("XStoryChevronController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/story_chevron_menu/",{feedobjects_identifiers:{type:"String"},feed_context:{type:"String"},chevron_button_id:{type:"String"},story_node_id:{type:"String"},zombie_story:{type:"String"},is_menu_registered:{type:"Bool",defaultValue:!1},outer_story_token:{type:"String"},show_report_ad_only:{type:"Bool",defaultValue:!1}})}),null);
__d("MAsyncChevronMenu",["BanzaiODS","CSS","DOM","MLegacyDataStore","MParent","MRequest","MTouchClick","Stratcom","SubscriptionsHandler","XStoryChevronController","$","cx","requireWeak"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){__p&&__p();var t=null;s("MHideStoryActions",function(a){return t=a});var u,v,w,x,y,z,A;function B(a){a=k.bySigil(a,"story-popup-metadata");return a}function C(){__p&&__p();g.bumpEntityKey("mtouch_async_chevron","chevron_clicked");var a=this.getCausalElement(),b=j.get(a),c=B(a),d=p.getURIBuilder().setBool("is_menu_registered",!!(t&&t.getActionBubble())).getURI();d=new l(d);x&&h.show(x);y&&h.hide(y);z&&h.hide(z);u=c;d.setMethod("POST");d.setData({feedobjects_identifiers:b.feedobjectsIdentifiers,feed_context:b.feedContext,zombie_story:b.zombieStoryURI?b.zombieStoryURI:"",story_node_id:c&&c.id,chevron_button_id:a.id,outer_story_token:b.outerStoryToken?b.outerStoryToken:"",show_report_ad_only:A});d.listen("error",function(a){g.bumpEntityKey("mtouch_async_chevron","request_failed"),x&&h.hide(x),a=="status=0"?(g.bumpEntityKey("mtouch_async_chevron","request_failed_no_internet_connection"),y&&h.show(y),z&&h.hide(z)):(g.bumpEntityKey("mtouch_async_chevron","request_failed_server_side_error"),z&&h.show(z),y&&h.hide(y))});d.listen("done",function(){g.bumpEntityKey("mtouch_async_chevron","request_done")});d.send()}function D(){w&&(w.release(),w=null),v=null,x=null,y=null,z=null}function E(){if(v){var a=v.getContentRoot();x=i.find(a,"div","loadingWrapper");y=i.find(a,"div","noConnectionWrapper");z=i.find(a,"div","requestErrorWrapper")}}function a(a,b){v&&(v.destroy(),D()),v=a,A=b,E(),w=new o(),w.addSubscriptions(v.addListener("beforeshow",C,v),n.listen("m:page:unload",null,D),n.listen("m:story:action-bubble-initialized",null,function(a){a=a.getData();a.menuNubID&&F(q(a.menuNubID),a.wasOpen)}))}function F(a,b){__p&&__p();if(!v||!(v.isShown()||b))return;if(!t||!t.getActionBubble())return;v.hide();b=B(a);if(u==b){b=a.getElementsByClassName("_4s19")[0];m.click(b)}}function b(a,b,c,d,e){i.replace(q(b),a),e||F(a,!1)}function c(a){(!u||u.id==a)&&(v&&v.hide(),u=null)}e.exports={init:a,replaceChevronTrigger:b,closeLoadingFlyout:c}}),null);
__d("MLayerHideOnCloseClick",["DOM"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this.$1=null,this.$2=null,this.$3=a}var b=a.prototype;b.enable=function(){this.$1=[this.$3.addListener("show",this.$4.bind(this)),this.$3.addListener("hide",this.$5.bind(this))],this.$3.isShown()&&this.$4()};b.disable=function(){this.$5();while(this.$1.length)this.$1.pop().remove();this.$1=null};b.$5=function(){this.$2&&this.$2.remove()};b.$4=function(){this.$2=g.listen(this.$3.getRoot(),"click","mlayer-hide-on-click",this.$3.hide.bind(this.$3))};return a}();e.exports=a}),null);
__d("MLayerHideOnTouch",["CancelableEventListener","TouchEventType"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this.$1=null,this.$2=a}var b=a.prototype;b.enable=function(){this.$1=[this.$2.addListener("show",this.$3.bind(this)),this.$2.addListener("hide",this.$4.bind(this))],this.$2.isShown()&&this.$3()};b.disable=function(){this.$4();while(this.$1.length)this.$1.pop().remove();this.$1=null};b.$4=function(){this.$5&&this.$5.remove(),this.$5=null};b.$3=function(){var a=this;this.$5=g.listen(document.body,h.START,null,function(b){a.$2.getContentRoot().contains(b.getTarget())||(a.$2.hide(),b.prevent())})};return a}();e.exports=a}),null);
__d("MFlyoutAutoFlip",["MParent","MViewport"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this.$1=null,this.$2=a}var b=a.prototype;b.enable=function(){this.$1=this.$2.addListener("adjust",this.$3.bind(this)),this.$2.isShown()&&this.$2.updatePosition()};b.disable=function(){this.$1.remove(),this.$1=null,this.$2.isShown()&&this.$2.updatePosition()};b.$3=function(a){__p&&__p();var b=this.$4(a),c={top:this.$2.getAutoflipTopOffset()||0,bottom:h.getUseableHeight()},d=g.bySigil(this.$2.getRoot(),"scroll-area");if(d){d=d.getBoundingClientRect();c={top:Math.max(d.top,c.top),bottom:Math.min(d.bottom,c.bottom)}}var e,f,i=this.$2;d=i.getContext();d=d.getBoundingClientRect();for(e=0;e<b.length;e++){a.setPosition(b[e]);f=i.simulateOrientation(a,function(){return i.getRoot().firstChild.getBoundingClientRect()});var j=d.top+a.getOffsetY();a.getPosition()==="above"?j-=f.height:a.getPosition()==="below"&&(j+=d.height);j={top:j,bottom:j+f.height};if(j.top>=c.top&&j.bottom<=c.bottom)return}a.setPosition(b.indexOf("below")>-1?"below":b[0])};b.$4=function(a){return[a.getPosition(),a.getOppositePosition()]};return a}();e.exports=a}),null);
__d("MFlyoutContextSigil",["DOM","MLegacyDataStore","Stratcom","ex"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();var k={};a=function(){"use strict";__p&&__p();function a(a){this.$1=null,this.$2=a}var b=a.prototype;b.enable=function(){var a=this.$3();k[a];k[a]=this.$2;this.$1=i.listen("click",this.$3(),this.$4.bind(this))};b.disable=function(){delete k[this.$3()],this.$1.remove(),this.$1=null,this.$2=null};b.$3=function(){var a=this.$2.config;return a.causalSigil||a.contextSigil};b.$4=function(a){__p&&__p();var b=a.getNode(this.$3()),c,d=this.$2.config.contextSigil,e=this.$2.config.causalSigil;if(e&&e!==d){e=b;while(e&&e!==document.body&&!c)if(i.hasSigil(e,d))c=e;else{var f=g.scry(e,"*",d);c=f[0];e=e.parentNode}}else c=b;if(this.$2.getContext()!==c&&this.$2.isShown()){this.$2.hide();if(!this.$2)return}this.$2.setCausalElement(b);this.$2.setContext(c);h.get(b).flyout=this.$2;this.$2.isShown()||this.$2.show();a.prevent()};return a}();e.exports=a}),null);