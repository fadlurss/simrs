if (self.CavalryLogger) { CavalryLogger.start_js(["8Drr\/"]); }

__d("OGComposerConstants",[],(function(a,b,c,d,e,f){e.exports={EditAttachmentURI:"/ajax/composerx/attachment/edit/",ExercisesTypeID:718343998201893,TransitivityStateIntransitive:2}}),null);
__d("PrivacyConst",[],(function(a,b,c,d,e,f){e.exports={BaseValue:{FRIEND_LIST:129,FRIENDS_PLUS_GAMER_FRIENDS:128,FRIENDS_MINUS_ACQUAINTANCES:127,FACEBOOK_EMPLOYEES:112,CUSTOM:111,EVERYONE:80,NETWORKS_FRIENDS_OF_FRIENDS:60,NETWORKS_FRIENDS:55,FRIENDS_OF_FRIENDS:50,ALL_FRIENDS:40,SELF:10,NOBODY:0},CustomPrivacyTokens:{FRIENDS:247124075410460,FRIENDS_OF_FRIENDS:498125493540100},FriendsValue:{EVERYONE:80,NETWORKS_FRIENDS:55,FRIENDS_OF_FRIENDS:50,ALL_FRIENDS:40,SOME_FRIENDS:30,SELF:10,NO_FRIENDS:0},PostParam:{EVERYONE:300645083384735,NETWORKS_FRIENDS:123780391104836,FRIENDS_OF_FRIENDS:275425949243301,FRIENDS:291667064279714,FRIENDS_MINUS_ACQUAINTANCES:284920934947802,ONLY_ME:286958161406148,FB_ONLY:411331705596297,EVENT_PUBLIC:1493271774218406,EVENT_INVITE_ONLY:599950423437029},PrivacyField:{CURRENT_COMPOSER:8787670733,DEFAULT_COMPOSER:875106179167765,TIMELINE_TAGGED_CONTENT_VISIBILITY:8787530733,WALL_POSTS:8787370733,TAG_EXPANDED_CONTENT:8787795733,SEARCH_BY_PHONE:8787815733,SEARCH_BY_EMAIL:8787820733,CAN_FRIEND:8787540733,DEPRECATED_APP_DEFAULT:8787700733,SEARCH_BY_NAME:8787755733,SEARCH_BY_CONTACT_INFO:8787760733,SCREENNAME:8787335733,CURRENT_ADDRESS:8787355733,FRIENDS:8787365733,WEBSITE:8787375733,STATUS_UPDATES:8787395733,BIRTHDAY:8787510733,BIRTHYEAR:8787805733,CAN_COMMENT:8787535733,RELATIONSHIPS:8787550733,PROFILE_PICTURE_ALBUM:8787565733,DASHBOARD_ACTIVITY:8787575733,FAMILY:8787585733,INTERESTED_IN_LOOKING_FOR:8787590733,PLACES:8787620733,NAME_DAY:8787810733,LANGUAGES:8787625733,QUOTATIONS:8787630733,ABOUT_ME:8787635733,POLITICAL:8787640733,RELIGIOUS:8787645733,CURRENT_CITY:8787650733,HOMETOWN:8787655733,PROFILE_LIKES_AND_INTERESTS:8787660733,BLURB:8787665733,OTHER_LIKES_AND_INTERESTS:8787680733,SUBSCRIBERS:8787690733,SUBSCRIBED_TO:8787695733,PERSONAL_CONTACT_DEFAULT:8787765733,PAGE_CONTACT_DEFAULT:8787770733,AUTO_GENERATED_FB_EMAIL:8787775733,SKILLS:8787780733,CUSTOM_GENDERS:237760973066217,LOCATION_DO_NOT_WRITE_DIRECTLY:8787785733,SOCIAL_ADS:7719929599,PLATFORM_ADS:126540474531,BASS_ADS:183468681673909,ACTIVITIES:144331422306930,INTERESTS:113693108715766,MUSIC:172372399483077,BOOKS:100725463352700,GAMES:199298603444535,MOVIES:201146206594049,TV_SHOWS:129665560441221,SPORTS_PLAYED:129991670408857,FAVORITE_TEAMS:225288534151802,FAVORITE_ATHLETES:203380763033334,PEOPLE_I_ADMIRE:210380795648667,FAVORITE_FOODS:585935528106425,FAVORITE_RESTAURANTS:172588449584647,FAVORITE_WEBSITES:180412195459106,CLOTHING_BRANDS:397391233714082,LAST_POST_PRIVACY:314763985364212,SECOND_TO_LAST_POST_PRIVACY:321179124722698,PREVIOUS_SECONDARY_COMPOSER:864562253561430,RECENT_COMPOSER:358304524327898,COMPOSER_CUSTOM_INCLUSION:1067668039947624,COMPOSER_CUSTOM_EXCLUSION:1082068668536535,CAN_LIKE_AND_COMMENT_PUBLIC_PROFILE_MEDIA:1269423589794183,CAN_TAG_PUBLIC_PROFILE_MEDIA:260920744319731,CAN_DOWNLOAD_PUBLIC_PROFILE_MEDIA:410249702663051,CAN_SHARE_PUBLIC_PROFILE_MEDIA:1648969422065270,NOW_COMPOSER:421290164697736,BACKSTAGE_PRIVACY:809506612451171,FACEREC_ENROLLMENT:1709697052669794,DEVICE_PHOTO_PROCESSING:1798505450455620,SPACES_VR_OFFLINE_VISIT_PRIVACY:351913698615451,RESHARES_ON_TIMELINE_VISIBILITY:230094651068076,CAN_POST_TRIBUTES:298481070877996,CAN_SEE_TRIBUTE_POSTS:1909416226028186,RESHARE_TO_STORIES:282421212606762,EVENT_RESPONSE:316303542562773},TagExpansion:{NONE:0,TAGGEES:1,FRIENDS_OF_TAGGEES:2,FRIENDS_TAGGED:6},ExpansionType:{NONE:0,TAGS_ONLY:1}}}),null);
__d("MCompositionUserActions",["MComposition","MCompositionConfigFields","MCompositionDispatcher","MCompositionShareFields","MCompositionStoreID","MCompositionConstants"],(function(a,b,c,d,e,f,g,h,i,j,k){__p&&__p();var l=b("MCompositionConstants").ActionTypes;function m(a,b){i.handleUpdateFromUserAction({actionType:a,data:b})}a={configDisablePhotosUpdate:function(a){var b={};b[k.CONFIG]={};b[k.CONFIG][h.DISABLE_PHOTOS]=a;m(l.DISABLE_PHOTOS,b)},finalize:function(){m(l.COMPOSITION_FINALIZE,{})},initialize:function(a){m(l.COMPOSITION_INITIALIZE,a||{})},shareLinkUpdate:function(a){var b={};b[k.SHARE]={};b[k.SHARE][j.SHARE_URI]=a;m(l.SHARE_LINK_UPDATE,b)},shareRemoveLinkPreview:function(a){var b={};b[a]=!0;a={};a[k.SHARE]={};a[k.SHARE][j.DISABLED_LINKS]=b;m(l.SHARE_REMOVE_PREVIEW,a)},minutiaeRemove:function(){m(l.MINUTIAE_REMOVE,{})},minutiaeSet:function(a){var b={};b[k.MINUTIAE]=a;m(l.MINUTIAE_SET,b)},photoUpdate:function(a){var b={};b[k.PHOTO]=a;m(l.PHOTO_CHANGE,b)},audioUpdate:function(a){var b={};b[k.AUDIO]=a;m(l.AUDIO_CHANGE,b)},placeRemove:function(){m(l.PLACE_REMOVE,{})},placeSet:function(a){m(l.PLACE_SET,new g().setStoreData(k.PLACE,a).serialize())},statusUpdate:function(a){m(l.STATUS_CHANGE,new g().setStoreData(k.STATUS,a).serialize())},withUpdate:function(a){var b={};b[k.WITH_TAGS]=a;m(l.WITH_CHANGE,b)},groupSellUpdate:function(a){m(l.GROUP_SELL_UPDATE,new g().setStoreData(k.GROUP_SELL,a).serialize())},privacyUpdate:function(a){var b={};b[k.PRIVACY]=a;m(l.PRIVACY_CHANGE,b)},formatUpdate:function(a){var b;m(l.FORMAT_CHANGE,(b={},b[k.FORMAT]=a,b))}};e.exports=a}),null);
__d("MCompositionPrivacyFields",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({PRIVACY_FBID:"PRIVACY_FBID",CLOSE_DIALOG:"CLOSE_DIALOG",ALREADY_SAVED_STICKY:"ALREADY_SAVED_STICKY",NEVER_SAVE_STICKY:"NEVER_SAVE_STICKY",CUSTOM_LABEL:"CUSTOM_LABEL",CUSTOM_OPTION:"CUSTOM_OPTION"})}),null);
__d("MCompositionPrivacyStore",["MCompositionPrivacyFields","MCompositionStore","MCompositionStoreID","emptyFunction","MCompositionConstants"],(function(a,b,c,d,e,f,g,h,i,j){a=b("MCompositionConstants").ActionTypes;c=new h(i.PRIVACY,g).setRequiredFields(g.PRIVACY_FBID).setHandlerFor(a.COMPOSITION_FINALIZE,j.thatReturnsNull).setHandlerFor(a.COMPOSITION_INITIALIZE,j.thatReturnsArgument).setHandlerFor(a.PRIVACY_CHANGE,j.thatReturnsArgument).register();e.exports=c}),null);
__d("MCompositionShareStore",["MCompositionShareFields","MCompositionStore","MCompositionStoreID","emptyFunction","MCompositionConstants"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();a=b("MCompositionConstants").ActionTypes;var k=new h(i.SHARE,g).setHandlerFor(a.COMPOSITION_FINALIZE,j.thatReturnsNull).setHandlerFor(a.COMPOSITION_INITIALIZE,j.thatReturnsArgument).setHandlerFor(a.SHARE_LINK_UPDATE,function(a){return babelHelpers["extends"]({},k.getAll(),a)}).setHandlerFor(a.SHARE_REMOVE_PREVIEW,function(a){a=a||{};var b=g.DISABLED_LINKS,c=k.getAll(),d={};d[b]=babelHelpers["extends"]({},c[b],a[b]);d[g.SHARE_URI]=null;d[g.LINK_NO_CHANGE]=!1;return babelHelpers["extends"]({},c,d)}).register();e.exports=k}),null);
__d("MFriendsTaggerReact",["DOM","MLegacyDataStore","$","createDeprecatedProperties","eventsMixinDeprecated","getActiveElement","invariant"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this.setRoot(a),g.listen(this.getRoot(),"click",null,this.$1.bind(this))}var b=a.prototype;b.hide=function(){var a=l();a&&a.blur();g.hide(this.getRoot())};b.show=function(){g.show(this.getRoot()),this.getTokenizer().component.init(),this.onShow&&this.onShow()};b.clear=function(){var a=g.find(this.getRoot(),"div","tokenizer");a=h.get(a);a.tokenizer&&(this.setEntries([]),this.onClear&&this.onClear())};b.hasTokens=function(){return this.getEntries().length>0};b.getTokens=function(){return this.getEntries().reduce(function(a,b){a[b.id]=b;return a},{})};b.removeToken=function(a){this.getTokenizer().component.onRemoveFromCollection(a)};b.getEntries=function(){return this.getTokenizer().component.getEntries()};b.setEntries=function(a){this.getTokenizer().component.setEntries(a)};b.$1=function(a){a.getNode("cancel_with_tagger")?this.$2():a.getNode("submit_with_tagger")&&this.$3()};b.$2=function(){this.hide(),this.invoke("cancel",{})};b.$3=function(){var a=this.getEntries();this.hide();this.invoke("submit",{tokens:a})};b.getTokenizer=function(){var a=g.find(this.getRoot(),"div","tokenizer");a=h.get(a);a||m(0,1304);a.tokenizer||m(0,1305,Object.keys(a).join(" "));return a.tokenizer};b.setOnShow=function(a){this.onShow=a};b.setOnClear=function(a){this.onClear=a};a.fromID=function(b){b=i(b);var c=h.get(b);c.$4||(c.$4=new a(b));return c.$4};a.getFriendIds=function(a){return a.friend_ids?a.friend_ids:a.tokens.map(function(a){return a.id})};return a}();j(a,{root:null});k(a,["submit","cancel"]);e.exports=a}),null);
__d("MSubscriptionsHandlerMixin",["SubscriptionsHandler","destroyOnUnload"],(function(a,b,c,d,e,f,g,h){a={__subscriptionsHandler:null,addSubscriptions:function(){var a=this;this.__subscriptionsHandler||(this.__subscriptionsHandler=new g(),h(function(){a.__subscriptionsHandler.release(),a.__subscriptionsHandler=null}));for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];this.__subscriptionsHandler.addSubscriptions.apply(this.__subscriptionsHandler,c)}};e.exports=a}),null);
__d("MComposerDialogClearablePreview",["DOM","MSubscriptionsHandlerMixin","Stratcom","mixin","mixInEventEmitter","MComposerDialogClearablePreviewConstants"],(function(a,b,c,d,e,f,g,h,i,j,k){__p&&__p();var l=b("MComposerDialogClearablePreviewConstants").sigils;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this)||this;d.$MComposerDialogClearablePreview1=c;d.$MComposerDialogClearablePreview2=b;d.addSubscriptions(g.listen(d.$MComposerDialogClearablePreview2,"click",l.CLEAR,d.$MComposerDialogClearablePreview3.bind(babelHelpers.assertThisInitialized(d))));return d}var c=b.prototype;c.clear=function(){this.hide();g.setContent(this.$MComposerDialogClearablePreview1,"");return this};c.$MComposerDialogClearablePreview3=function(){this.clear();this.emit("clear");i.invoke("m:quicksearch:places:clear",null,null);return this};c.hide=function(){g.hide(this.$MComposerDialogClearablePreview2);return this};c.setValue=function(a){g.setContent(this.$MComposerDialogClearablePreview1,a);this.show();return this};c.show=function(){g.show(this.$MComposerDialogClearablePreview2);return this};c.showIfHasValue=function(){return this.$MComposerDialogClearablePreview1.innerText?this.show():this.hide()};return b}(j(h));k(a,{clear:!0});e.exports=a}),null);
__d("MNTButtonJSInstance",["DOM","EventListener","cx","MNTActions"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j=Object.freeze({ENABLED:"enabled",DISABLED:"disabled",PRESSED:"pressed"});a=function(){"use strict";__p&&__p();function a(a,b){__p&&__p();var c=this;this.mouseDownListener={};this.$1=function(a){var b=[];"enabled"in a&&(c.enabled=a.enabled,c.$4(),b.push("enabled"));return b};this.action="action"in b?b.action:null;this.enabled=b.enabled;this.rootElement=a;this.states=b.states;this.setAttributes=this.$1;this.mouseDownListener=h.listen(a,"mousedown",this.$2.bind(this));"action"in b&&b.action!==null&&(this.actionListener=h.listen(a,"click",this.$3.bind(this)))}var c=a.prototype;c.$3=function(){var a=b("MNTActions");this.enabled&&this.action instanceof Object&&a.performAction(this.action)};c.$2=function(){if(!this.enabled)return;this.$5(j.PRESSED);this.mouseUpListener=h.listen(document.body,"mouseup",this.$6.bind(this))};c.$6=function(){if(!this.enabled)return;this.mouseUpListener instanceof Object&&(this.mouseUpListener.remove(),this.mouseUpListener=null,this.$4())};c.$4=function(){this.$5(this.enabled||!this.enabled&&!(j.DISABLED in this.states)?j.ENABLED:j.DISABLED)};c.$5=function(a){__p&&__p();if(!(a in this.states))return;a=this.states[a];var b=this.states.enabled,c=this.rootElement.getElementsByClassName("_rj4"),d=this.rootElement.getElementsByClassName("_108n"),e=this.rootElement.getElementsByClassName("_108o");if(c.length>0){var f=a.background_payload||b.background_payload;Object.keys(f).forEach(function(a){c[0].style.setProperty(a,f[a])})}d.length>0&&(a.image!==null?d[0].firstChild instanceof HTMLElement?g.replace(d[0].firstChild,a.image):g.appendContent(d[0],a.image):d[0].firstChild instanceof HTMLElement&&g.remove(d[0].firstChild));if(e.length>0){d=a.text||b.text;e[0].innerText=d;e[0].style.color=a.text_color||b.text_color}};return a}();e.exports=a}),null);
__d("MComposerOGStrings",["MinutiaeVerbs","OGComposerConstants","fbt"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();a={getFBTPhrase:function(a,b,c,d){__p&&__p();d="";switch(a){case g.COMPOSER_FEELS:d=i._("{icon}feeling {object}",[i._param("icon",b),i._param("object",c)]);break;case g.COMPOSER_WATCHES:d=i._("{icon}watching {object}",[i._param("icon",b),i._param("object",c)]);break;case g.COMPOSER_READS:d=i._("{icon}reading {object}",[i._param("icon",b),i._param("object",c)]);break;case g.COMPOSER_LISTENS:d=i._("{icon}listening to {object}",[i._param("icon",b),i._param("object",c)]);break;case g.COMPOSER_DRINKS:d=i._("{icon}drinking {object}",[i._param("icon",b),i._param("object",c)]);break;case g.COMPOSER_EATS:d=i._("{icon}eating {object}",[i._param("icon",b),i._param("object",c)]);break;case g.COMPOSER_PLAYS:d=i._("{icon}playing {object}",[i._param("icon",b),i._param("object",c)]);break;case g.COMPOSER_TRAVELS:d=i._("{icon}traveling to {object}",[i._param("icon",b),i._param("object",c)]);break;case g.COMPOSER_LOOKS_FOR:d=i._("{icon}looking for {object}",[i._param("icon",b),i._param("object",c)]);break;case g.COMPOSER_SUPPORTS:d=i._("{icon}supporting {object}",[i._param("icon",b),i._param("object",c)]);break;case g.COMPOSER_CELEBRATES:d=i._("{icon}celebrating {object}",[i._param("icon",b),i._param("object",c)]);break;case g.COMPOSER_MEETS:d=i._("{icon}meeting {object}",[i._param("icon",b),i._param("object",c)]);break;case g.COMPOSER_GETS:d=i._("{icon}getting {object}",[i._param("icon",b),i._param("object",c)]);break;case g.COMPOSER_MAKES:d=i._("{icon}making {object}",[i._param("icon",b),i._param("object",c)]);break;case g.COMPOSER_GOES_TO:d=i._("{icon}going to {object}",[i._param("icon",b),i._param("object",c)]);break;case g.COMPOSER_THINKS_ABOUT:d=i._("{icon}thinking about {object}",[i._param("icon",b),i._param("object",c)]);break;case g.COMPOSER_REMEMBERS:d=i._("{icon}remembering {object}",[i._param("icon",b),i._param("object",c)]);break;case g.COMPOSER_WRITES_A_NOVEL_ABOUT:d=i._("{icon}writing a novel about {object}",[i._param("icon",b),i._param("object",c)]);break;case g.COMPOSER_SELECTS_VERB:d=i._("{icon}{verb}",[i._param("icon",b),i._param("verb",c)]);break;case g.COMPOSER_OTHER:d=i._("{icon}{object}",[i._param("icon",b),i._param("object",c)]);break;case g.COMPOSER_VOTES:d=i._("{icon}voting in {object}",[i._param("icon",b),i._param("object",c)]);break;case g.COMPOSER_ATTENDS:d=i._("{icon}attending {object}",[i._param("icon",b),i._param("object",c)]);break;case g.COMPOSER_AGREES:d=i._("{icon}agrees with {object}",[i._param("icon",b),i._param("object",c)]);break;case g.COMPOSER_DISAGREES:d=i._("{icon}disagrees with {object}",[i._param("icon",b),i._param("object",c)]);break;case h.ExercisesTypeID:d=i._("{icon}{object}",[i._param("icon",b),i._param("object",c)]);break}return d}};e.exports=a}),null);
__d("MOpenGraphTagger",["CSS","DOM","MarauderLogger","MComposerOGStrings","MCompositionShareStore","MLegacyDataStore","MRequest","Stratcom","$","cx","eventsMixinDeprecated","fbt"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){__p&&__p();this.setRoot(a),this._prompt=h.find(a,"span","og-composer-prompt"),this._defaultPrompt=this._prompt.firstChild,this._defaultIconSelector=h.find(a,"div","og-icon-selector"),this._iconSelector=this._defaultIconSelector,this._cancelButton=h.find(a,"button","cancel-og-tagger"),this._defaultCancelButtonText=this._cancelButton.firstChild,this._isFromActivityLink=!1,h.listen(this.getRoot(),"click",null,this._handleClick.bind(this)),this._listeners=[n.listen("click","object_result",function(a){__p&&__p();a.prevent();a=a.getNode("object_result");var b=l.get(a);this._objectID=b.id;this._objectStr=b.name;this._icon=b.icon;this._iconSrc=b.icon_src;this._selectedScore=b.score;this._selectedOriginalID=b.original_id;this._clientTime=b.client_time;this._requestID=b.request_id;this._triggersEventTagExpansion=b.triggers_event_tag_expansion;this._addLoggingDataForNodes(a.parentNode.childNodes);this._showAttachment=k.isEmpty()&&b.show_attachment;this._customIconID=b.custom_icon;this._submit()}.bind(this)),n.listen("click","at_result",function(a){a.prevent(),this._selectActionType(l.get(a.getNode("at_result"))),i.log("og_composer_verb_selected",void 0,{at_id:this._actionType.id,place_id:this._placeID})}.bind(this)),n.listen("click","quicksearch-input",function(a){if(a.getNode("og-object-search")){a={at_id:this._actionType.id,place_id:this._placeID};i.log("og_composer_object_search_clicked",void 0,a)}}.bind(this)),n.listen("keyup","quicksearch-input",function(a){a=a.getNode("quicksearch-input");a&&(this._query=a.value,this._keystrokeCount++,this._lastNotBackspacedQuery.indexOf(this._query)!==0&&(this._lastNotBackspacedQuery=this._query))}.bind(this)),n.listen("composerReset",null,function(a){this._reset(),this._placeID=0}.bind(this))],n.listen("MStructuredComposer:cleanup",null,function(a){for(var a=0;a<this._listeners.length;a++)this._listeners[a].remove();this._listeners=[]}.bind(this)),n.listen("MStructuredComposer-opened",null,function(a){this._compositionID=a.getData().session_id}.bind(this))}var b=a.prototype;b.getRoot=function(){return this.root};b.setRoot=function(a){this.root=a};b.hide=function(){h.hide(this.getRoot()),this.toggleIncludedPlaceSelector(!1)};b.show=function(){h.show(this.getRoot())};b.updatePrompt=function(a){h.setContent(this._prompt,a)};b.setPlaceID=function(a){this._placeID=a};b.setSuggestionMechanism=function(a){this._suggestionMechanism=a};b.toggleIncludedPlaceSelector=function(a){var b=h.scry(this.getRoot(),"div","og_included_place");b.length&&(this._isFromActivityLink=a,a?h.show(b[0]):h.hide(b[0]))};b._handleClick=function(a){a.getNode("cancel-og-tagger")&&this.cancel()};b._reset=function(){__p&&__p();var a=h.scry(this.getRoot(),"div","og-object-search");a.length!==0&&(h.hide(a[0]),this._showActionTypeSelector());this._hideIconSelector();this._actionType=null;this._suggestionMechanism=null;this._typeaheadSessionID=null;this._candidateResults=null;this._query=null;this._selectedScore=null;this._selectedOriginalID=null;this._clientTime=null;this._requestID=null;this._lastNotBackspacedQuery=null;this._keystrokeCount=null;this.updatePrompt(this._defaultPrompt);this.setCancelButtonText(this._defaultCancelButtonText);n.invoke("m:quicksearch:clear")};b._addLoggingDataForNodes=function(a){this._candidateResults=[];this._numResults=a.length;for(var b=0;b<this._numResults;++b){var c=l.get(a[b]);this._objectID==c.id&&(this._selectedPos=b);this._candidateResults[b]=c.id?c.id:0}};b._cancelTypeaheadSession=function(){if(!this._typeaheadSessionID)return;this._triggersEventTagExpansion=!1;this._objectID=null;var a=h.scry(this.getRoot(),"div","object_result");this._addLoggingDataForNodes(a);i.log("og_composer_session_abandoned",void 0,{action_type_id:String(this._actionType.id),place_id:this._placeID,typeahead_session_id:this._typeaheadSessionID,composer_session_id:this._compositionID,request_id:this._requestID,candidate_results:this._candidateResults,num_results:this._numResults,last_not_backspaced_query:this._lastNotBackspacedQuery,keystroke_count:this._keystrokeCount})};b.cancel=function(){i.log("og_composer_cancel_tagger",void 0,{suggestion_mechanism:this._suggestionMechanism});var a=this._isFromActivityLink;this._isFromIconSelector&&this.invoke("cancelIconSelection",{action_type_id:this._actionTypeId,query:this._iconSearchInput?this._iconSearchInput.value:""});this._cancelTypeaheadSession();this._reset();this.hide();this.invoke("cancel");a&&this.invoke("cancelFromActivity")};b.setCancelButtonText=function(a){h.setContent(this._cancelButton,a)};b._showObjectSearch=function(){this._hideActionTypeSelector(),h.show(h.find(this.getRoot(),"div","og-object-search"))};b.selectActionTypeImplicitly=function(a){__p&&__p();var b=h.scry(this.getRoot(),"div","at_result"),c=!1;for(var d=0;d<b.length;d++){var e=l.get(b[d]);if(e.id==a){c=!0;break}}if(!c)return!1;this._selectActionType(e);return!0};b.showIconSelector=function(a,b,c,d){__p&&__p();this.show();this._hideActionTypeSelector();this.updatePrompt(r._("Select an icon"));this._actionTypeId=a;var e="/platform/og/composer/icon_selector/";e=new m(e).setData({actionTypeID:a,objectID:b,objectStr:c,iconID:d});e.listen("postprocess",this._setUpIconSelector.bind(this));e.send();h.replace(this._iconSelector,this._defaultIconSelector);h.show(this._iconSelector);i.log("og_composer_show_icon_selector")};b._setUpIconSelector=function(){var a=this;this._iconSelector=h.find(this.getRoot(),"div","og-icon-selector");var b=h.scry(this._iconSelector,"a","remove-token");b.length!==0&&h.listen(b[0],"click",null,this._cancelIconSelection.bind(this));this._iconSearchInput=h.scry(this._iconSelector,"input","icon-search-input")[0];h.listen(this._iconSelector,"click","og-icon-area",this._selectIcon.bind(this));h.listen(this._iconSelector,"click","original-og-icon",function(){return a.cancel()});this._isFromIconSelector=!0};b._cancelIconSelection=function(){this._reset(),this.invoke("clear")};b._selectIcon=function(a){__p&&__p();a=a.getNode("og-icon-area");a=a.lastChild.cloneNode();h.show(a);var b=h.find(this.getRoot(),"i","token-icon");n.addSigil(a,"token-icon");h.replace(b,a);this._icon=a;this._iconSrc=l.get(a).icon_src;this._customIconID=this._icon.getAttribute("data-icon");b=this._iconSearchInput?this._iconSearchInput.value:"";a=this._actionTypeId;this._reset();this.invoke("iconChanged",{icon:this._icon,icon_src:this._iconSrc,custom_icon_id:this._customIconID,action_type_id:a,query:b})};b._selectActionType=function(a){this._typeaheadSessionID=String(Math.floor(Date.now()*Math.random()));this._lastNotBackspacedQuery="";this._keystrokeCount=0;this._actionType=a;a={at_id:this._actionType.id,place_id:this._placeID,sid:this._typeaheadSessionID};n.invoke("m:quicksearch:actionSelected",null,a);this._showObjectSearch();this.updatePrompt(this._actionType.prompt)};b._hideActionTypeSelector=function(){var a=h.scry(this.getRoot(),"div","og_ats");a.length!==0&&g.conditionClass(a[0],"_51xt",!0)};b._showActionTypeSelector=function(){var a=h.scry(this.getRoot(),"div","og_ats");a.length!==0&&g.conditionClass(a[0],"_51xt",!1)};b._hideIconSelector=function(a){this._isFromIconSelector=!1,this._actionTypeId=null,h.hide(this._iconSelector),this._showActionTypeSelector()};b._submit=function(){var a={action_type:this._actionType.id,action_type_str:this._actionType.name,object:this._objectID,object_str:this._objectStr,show_attachment:this._showAttachment,icon:this._icon,icon_src:this._iconSrc,fbt_phrase:this._getTagPhrase(this._actionType.id,this._icon,this._objectStr,this._objectID),triggers_event_tag_expansion:this._triggersEventTagExpansion,suggestion_mechanism:this._suggestionMechanism,custom_icon:this._customIconID,typeahead_session_id:this._typeaheadSessionID,composer_session_id:this._compositionID,selected_original_id:this._selectedOriginalID,selected_score:this._selectedScore,place_id:this._placeID,client_time:this._clientTime,request_id:this._requestID,display_position:this._selectedPos,num_results:this._numResults,results:this._candidateResults,search_term:this._query,last_not_backspaced_query:this._lastNotBackspacedQuery,keystroke_count:this._keystrokeCount};this._reset();this.invoke("submit",a);delete a.icon;delete a.fbt_phrase;i.log("og_composer_object_selected",void 0,a)};b._getTagPhrase=function(a,b,c,d){return j.getFBTPhrase(a,b,c,d)};a.fromID=function(b){b=o(b);var c=l.get(b);c._ogTagger||(c._ogTagger=new a(b));return c._ogTagger};return a}();q(a,["submit","cancel","clear","iconChanged","cancelFromActivity","cancelIconSelection"]);Object.assign(a.prototype,{root:null,_prompt:null,_defaultPrompt:null,_actionType:null,_objectID:null,_objectStr:null,_triggersEventTagExpansion:null,_icon:null,_iconSelector:null,_defaultIconSelector:null,_showAttachment:null,_customIconID:null,_placeID:0,_listeners:null,_suggestionMechanism:null,_typeaheadSessionID:null,_compositionID:null,_selectedOriginalID:null,_selectedScore:null,_clientTime:null,_requestID:null,_selectedPos:null,_numResults:null,_candidateResults:null,_query:null,_lastNotBackspacedQuery:null,_keystrokeCount:null});e.exports=a}),null);
__d("MPlatformDialogTagger",["DOM","Stratcom","SubscriptionsHandler","$","mapObject","mixInEventEmitter"],(function(a,b,c,d,e,f,g,h,i,j,k,l){__p&&__p();a=function(){"use strict";__p&&__p();function a(){}var b=a.prototype;b.init=function(a,b,c){this.$1=!1,this.$2=new i(),this.$3=null,this.$4=a,this.$5=b,h.addSigil(this.$4.getRoot(),c),this.$2.addSubscriptions(h.listen("click",c,this.$6.bind(this)),this.$5.listen("cancel",this.$7.bind(this)),this.$5.listen("submit",this.$7.bind(this)),h.listen("m:history:change",null,function(a){if(!this.$1)return;this.$7();a.prevent()}.bind(this)),h.listen("m:page:unload",null,this.$8.bind(this)))};b.createInputs=function(a,b,c){__p&&__p();var d=this;c=c||"";this.reset();var e={};b?b.forEach(function(b){a[b]&&(e[b]=a[b])}):e=a;if(Object.keys(e).length===0){this.$3&&g.remove(this.$3);this.$4.setSelected(!1);return}this.$3=g.create("div");k(e,function(a,b){g.appendContent(d.$3,g.create("input",{type:"hidden",name:c+b,value:a}))});g.appendContent(this.$4.getRoot(),this.$3);Object.keys(e).some(function(a){return Array.isArray(e[a])?e[a].length>0:e[a]})&&this.$4.setSelected(!0)};b.reset=function(){this.$3&&g.remove(this.$3),this.$3=null,this.$4.setSelected(!1)};b.destroy=function(){this.$8()};b.$6=function(a){if(a.getNode("remove"))return;this.$1=!0;g.hide(j("viewport"));this.$5.show()};b.$7=function(){this.$1=!1,g.show(j("viewport")),this.$5.hide()};b.$8=function(){this.clearInputs(),this.$2.release(),this.$2=null,this.$5&&this.$5.getRoot()&&g.remove(this.$5.getRoot())};return a}();l(a,{cleared:!0,populated:!0});e.exports=a;e.exports.EVENT_CLEARED="cleared";e.exports.EVENT_POPULATED="populated"}),null);
__d("MPlatformDialogPeopleTagger",["DOM","MFriendsTaggerReact","MPlatformDialogTagger","Stratcom","SubscriptionsHandler"],(function(a,b,c,d,e,f,g,h,i,j,k){__p&&__p();var l="fb:og:people:",m=l+"tagger";a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b,c,d){__p&&__p();var e;e=a.call(this)||this;e.$MPlatformDialogPeopleTagger1=new k();e.$MPlatformDialogPeopleTagger2=new h(c);e.$MPlatformDialogPeopleTagger3=b;e.init(e.$MPlatformDialogPeopleTagger3,e.$MPlatformDialogPeopleTagger2,m);e.$MPlatformDialogPeopleTagger1.addSubscriptions(e.$MPlatformDialogPeopleTagger2.listen("submit",e.$MPlatformDialogPeopleTagger4.bind(babelHelpers.assertThisInitialized(e))),e.$MPlatformDialogPeopleTagger2.listen("cancel",e.$MPlatformDialogPeopleTagger5.bind(babelHelpers.assertThisInitialized(e))),j.listen("click",m,e.$MPlatformDialogPeopleTagger6.bind(babelHelpers.assertThisInitialized(e))),j.listen("m:page:unload",null,e.$MPlatformDialogPeopleTagger7.bind(babelHelpers.assertThisInitialized(e))));c=d&&d.length?{friend_ids:d}:{};e.createInputs(c,null,l);e.$MPlatformDialogPeopleTagger8=[];return e}var c=b.prototype;c.$MPlatformDialogPeopleTagger4=function(a){!this.$MPlatformDialogPeopleTagger2.hasTokens()?j.invoke(i.EVENT_CLEARED,m):j.invoke(i.EVENT_POPULATED,m,a.tokens),this.$MPlatformDialogPeopleTagger9()};c.$MPlatformDialogPeopleTagger6=function(a){a.getNode("remove")&&(this.$MPlatformDialogPeopleTagger2.removeToken(a.getNode("token")),this.$MPlatformDialogPeopleTagger9())};c.$MPlatformDialogPeopleTagger9=function(){var a={};this.$MPlatformDialogPeopleTagger2.hasTokens()?a={friend_ids:Object.keys(this.$MPlatformDialogPeopleTagger2.getTokens())}:this.$MPlatformDialogPeopleTagger3.setSelected(!1);this.createInputs(a,null,l);this.$MPlatformDialogPeopleTagger8=this.$MPlatformDialogPeopleTagger2.getEntries().slice()};c.$MPlatformDialogPeopleTagger7=function(){this.$MPlatformDialogPeopleTagger1.release(),this.$MPlatformDialogPeopleTagger1=null,this.$MPlatformDialogPeopleTagger2&&this.$MPlatformDialogPeopleTagger2.getRoot()&&g.remove(this.$MPlatformDialogPeopleTagger2.getRoot())};c.$MPlatformDialogPeopleTagger5=function(){this.$MPlatformDialogPeopleTagger2.setEntries(this.$MPlatformDialogPeopleTagger8.slice())};return b}(i);a.SIGIL=m;e.exports=a}),null);
__d("XPrivacyCustomEditController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/privacy/custom/edit/",{post_id:{type:"String"},privacy_id:{type:"String"}})}),null);
__d("MPrivacyComposerMenu",["CSS","DOM","MComposerLogger","MComposerWaterfallEvent","MCompositionConfigFields","MCompositionConfigStore","MCompositionPrivacyFields","MCompositionPrivacyStore","MCompositionUserActions","MLegacyDataStore","MModalDialog","MRequest","MViewport","PrivacyConst","Stratcom","SubscriptionsHandler","XPrivacyCustomEditController","$","cx","fbt"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){__p&&__p();a=function(){"use strict";__p&&__p();function a(a,b,c,d){__p&&__p();var e=this;this._root=x(a);this._hiddenInput=h.find(this._root,"input");this._selectedOption=h.scry(this._root,"tr","checked")[0];this._stickyURI=b;this._stickyOption=this._selectedOption;this._enableCustomMenu=d;this._dontSaveSticky=!1;this._customLabel=c;this._listeners=new v();this._listeners.addSubscriptions(n.addChangeListener(function(){return e._handlePrivacyUpdate()}));this._listeners.addSubscriptions(h.listen(this._root,"click","privacy-option",function(a){__p&&__p();a=a.getNode("privacy-option");if(!this._enableCustomMenu||a!=this.getCustomOption()){this._selectOption(a);return}var b=u.listen("m:viewport:orientation-change",null,this._addHeightConstraint.bind(this));this._addHeightConstraint();a=n.get(m.PRIVACY_FBID,null);var c=l.get(k.POST_ID,null);a=w.getURIBuilder().setString("privacy_id",a).setString("post_id",c).getURI();q.open(a.toString(),function(a){__p&&__p();u.invoke("MPrivacyComposerMenu::custom",null,{visible:!1,instance:this,selector:this._root});s.scrollToHeader();b.remove();this._removeHeightConstraint();if(!a.canceled){var c=a.payload.payload.value,d=h.scry(this._root,"tr","privacy-option"),e=!1;for(var f=0;f<d.length;f++)if(p.get(d[f]).value==c){this._selectOption(d[f],!0);e=!0;break}if(!e){this._updateCustomSelectedOption(a.payload.payload.description,c);f=this._getCustomSelectedOption();f&&this._selectOption(f,!0)}}}.bind(this));u.invoke("MPrivacyComposerMenu::custom",null,{visible:!0,instance:this,selector:this._root})}.bind(this)));this._listeners.addSubscriptions(u.listen("MStructuredComposer:reset",null,function(a){this._stickyCustomValue&&this._stickyCustomLabel&&this._updateCustomSelectedOption(this._stickyCustomLabel,this._stickyCustomValue)}.bind(this)));this._listeners.addSubscriptions(u.listen("MPrivacyDeferredSelector-loaded",null,function(a){a=a.getData();var b=h.find(this._root,"table","privacy-table");b.id==a.id&&(this._selectedOption=h.scry(this._root,"tr","checked")[0]);this._handlePrivacyUpdate()}.bind(this)));this._listeners.addSubscriptions(u.listen("MPrivacyComposerMenu:updatePrivacy",null,function(a){a=a.getData();this._selectOption(a.row,!1,a.log)}.bind(this)));p.set(this._root,{instance:this})}var b=a.prototype;b.setShowTagExpansion=function(a){var b=this._root;b&&(g.conditionClass(b,"_1oxi",a),g.conditionClass(b,"_3kaj",a))};b.getCustomOption=function(){return h.find(this._root,"tr","privacy-custom-option")};b._getCustomSelectedOption=function(){return h.scry(this._root,"tr","privacy-custom-selected-option")[0]};b.getSelectedValue=function(){return p.get(this._selectedOption).value};b._getCustomLabel=function(){var a=this._getCustomSelectedOption();if(!a)return null;a=h.scry(a,"span","option-desc")[0];return a?a.textContent:null};b._getCustomValue=function(){var a=this._getCustomSelectedOption();return!a?null:p.get(a).value};b._selectOption=function(a,b,c){__p&&__p();c=c!==void 0?c:!0;var d=n.get(m.NEVER_SAVE_STICKY,!1);a=p.get(a).value;var e=this._getCustomLabel(),f=this._getCustomValue(),g={};g[m.PRIVACY_FBID]=a;g[m.ALREADY_SAVED_STICKY]=b;g[m.NEVER_SAVE_STICKY]=d;g[m.CLOSE_DIALOG]=!0;g[m.CUSTOM_LABEL]=e;g[m.CUSTOM_OPTION]=f;o.privacyUpdate(g);c&&i.log(j.PRIVACY_ADD,{privacy_setting:a})};b._updateCustomSelectedOption=function(a,b){var c=h.find(this._getCustomSelectedOption(),"span","option-desc");h.setContent(c,a);p.set(this._getCustomSelectedOption(),{value:b});if(b){h.show(this._getCustomSelectedOption());c=h.find(this._getCustomSelectedOption(),"span","plus-label");h.setContent(c,this._getTagExpansionLabel(b))}};b._getTagExpansionLabel=function(a){try{var b;a=JSON.parse(a);b=(((b=a)!=null?b.allow:b)||[]).indexOf(t.CustomPrivacyTokens.FRIENDS)>=0;a=((a=a)!=null?(a=a.settings)!=null?a.no_tag_expansion:a:a)||0;return b&&a===0?z._("(+ Friends of Tagged)"):z._("(+ Tagged)")}catch(a){}return null};b._addHeightConstraint=function(){this._removeHeightConstraint();var a=s.getUseableHeight();this._heightConstraint=s.addHeightConstraint(a)};b._removeHeightConstraint=function(){this._heightConstraint&&(this._heightConstraint.release(),this._heightConstraint=null)};b._handlePrivacyUpdate=function(){__p&&__p();!this._stickyCustomValue&&this._getCustomSelectedOption()&&(this._stickyCustomValue=this._getCustomValue(),this._stickyCustomLabel=this._getCustomLabel());var a=n.get(m.PRIVACY_FBID,null),b=n.get(m.ALREADY_SAVED_STICKY,!1),c=n.get(m.NEVER_SAVE_STICKY,!1),d=n.get(m.CLOSE_DIALOG,!1),e=n.get(m.CUSTOM_LABEL),f=n.get(m.CUSTOM_OPTION);b!==void 0&&(this._dontSaveSticky=b);b=h.scry(this._root,"tr","privacy-option");a===null&&(a=p.get(this._stickyOption).value);var i=this._hiddenInput&&this._hiddenInput.value;d=d||i!=a;i=h.scry(document.body,"button","privacy-button")[0];if(a!==null&&d){d=null;for(var j=0;j<b.length;j++)p.get(b[j]).value==a&&(d=b[j]);this._getCustomSelectedOption()&&f!==null&&e!==null&&this._updateCustomSelectedOption(e,f);d||(d=this._getCustomSelectedOption());if(!d){i&&g.conditionShow(i,!1);return}this._hiddenInput&&(this._hiddenInput.value=a);this._selectedOption&&g.conditionClass(this._selectedOption,"checked",!1);this._selectedOption=d;g.conditionClass(d,"checked",!0);j=!!h.scry(d,"span","plus-label").length;b=h.scry(d,"i","small-icon");b.length==0?b=h.find(d,"i","icon"):b=b[0];e=b.outerHTML;f=h.find(d,"span","option-desc");a=this._hiddenInput&&this._hiddenInput.value;u.invoke("MPrivacyComposerMenu::change",null,{value:a,showPlus:j,iconHTML:e,optionLabel:f,instance:this});c||(this._stickyOption=this._selectedOption,this._stickyCustomValue=this._getCustomValue(),this._stickyCustomLabel=this._getCustomLabel(),!this._dontSaveSticky&&this._stickyURI&&new r(this._stickyURI).setData({privacyx:a}).send())}b=l.get(k.DISABLE_PRIVACY,!1);i&&!b&&g.conditionShow(i,!0)};a.init=function(b,c,d,e){return new a(b,c,d,e)};a.getInstance=function(a){return p.get(a).instance};return a}();e.exports=a}),null);
__d("MPrivacyComposerSelector",["Banzai","BanzaiLogger","CSS","DOM","HTML","MComposerLogger","MComposerWaterfallEvent","MLegacyDataStore","MPlatformDialogPeopleTagger","MPlatformDialogTagger","MPrivacyComposerMenu","MViewport","Stratcom","Vector","$","cx","ge","isEmpty"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){__p&&__p();a=function(){"use strict";__p&&__p();function a(a,b){__p&&__p();var c=this;this._root=u(a);this._button=j.scry(this._root,"button","privacy-button")[0];this._button||(this._button=j.find(this._root,"div","privacy-button"));this._buttonIcon=j.find(this._root,"div","privacy-button-icon");this._menu=j.find(this._root,"div","privacy-composer-menu");this._config=b;j.listen(this._root,"click","privacy-button",function(a){this.isOpen()?(this.hideMenu(),l.log(m.PRIVACY_CANCEL)):(this.showMenu(),h.log("MPrivacySelectorConsistencyLoggerConfig",{event:"render",logging_source:"mobile_composer_timeline"}),l.log(m.PRIVACY_INTENT)),document&&document.activeElement&&document.activeElement.blur()}.bind(this));s.listen("MPrivacyComposerMenu::change",null,function(a){__p&&__p();a=a.getData();if(a.instance!=q.getInstance(this._menu))return;!Object.prototype.hasOwnProperty.call(a,"optionLabel")||!Object.prototype.hasOwnProperty.call(a,"showPlus")||!Object.prototype.hasOwnProperty.call(a,"iconHTML");if(this._config.updatebuttontext){var b=j.find(this._button,"span","button-text");j.setContent(b,a.optionLabel.cloneNode(!0))}b=j.find(this._button,"span","plus-label");a.showPlus?j.show(b):j.hide(b);a.iconHTML&&j.setContent(this._buttonIcon,new k(a.iconHTML));this.hideMenu()}.bind(this));var d=s.listen(p.EVENT_POPULATED,o.SIGIL,function(a){return c._updateTagExpansion(a)}),e=s.listen(p.EVENT_CLEARED,o.SIGIL,function(a){return c._updateTagExpansion(a)});s.listen("m:page:unload",null,function(){d.remove(),e.remove(),s.removeCurrentListener()});n.set(this._root,{instance:this})}var b=a.prototype;b._updateTagExpansion=function(a){a=a&&!x(a.getData());this.setShowTagExpansion(!!a)};b.setShowTagExpansion=function(a){this._root&&i.conditionClass(this._root,"_27-k",a);var b=q.getInstance(this._menu);b&&b.setShowTagExpansion(a)};b.getSelectedValue=function(){var b=q.getInstance(this._menu);if(b)return b.getSelectedValue();else{b=w(a.getSavedCustomInputName(),this._root);return b&&b.value}};b.showMenu=function(){j.show(this._menu),s.invoke("MPrivacyComposerMenu::show",null,{selector:this._root}),this._heightConstraint=r.addMinHeightConstraint(t.getDim(this._menu).y+t.getPos(this._menu).y),g.post("privacy_selector_interaction",{event:"open_selector"})};b.hideMenu=function(){this.isOpen()&&(j.hide(this._menu),s.invoke("MPrivacyComposerMenu::hide",null,{selector:this._root}),this._heightConstraint&&this._heightConstraint.release(),g.post("privacy_selector_interaction",{event:"close_selector"}))};b.isOpen=function(){var a=this._menu&&this._menu.style;return a!=null&&a.display!="none"};a.init=function(b,c){return new a(b,c)};a.getInstance=function(a){return n.get(a).instance};a.getSavedCustomInputName=function(){return"m_composer_privacy_selector_input"};return a}();e.exports=a}),null);