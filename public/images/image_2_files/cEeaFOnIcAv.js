if (self.CavalryLogger) { CavalryLogger.start_js(["o+qt1"]); }

__d("MVideoAutoplayPlayerBase",["EventEmitter"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.wasVisible=!1,b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.isVisible=function(){throw new Error("Should be overridden")};c.getDistanceToViewport=function(){throw new Error("Should be overridden")};c.playWithoutUnmute=function(a){throw new Error("Should be overridden")};c.prepareForPlay=function(){throw new Error("Should be overridden")};c.pause=function(a){throw new Error("Should be overridden")};c.isAutoplayable=function(){throw new Error("Should be overridden")};c.getDOMPosition=function(){throw new Error("Should be overridden")};c.isLooping=function(){throw new Error("Should be overridden")};c.isState=function(a){throw new Error("Should be overridden")};c.setLastActionReason=function(a){throw new Error("Should be overridden")};return b}(g);e.exports=a}),null);
__d("MVideoPlayerApiEvents",[],(function(a,b,c,d,e,f){a=["volumeChange","stateChange","fullscreenChange","destroyed","prepare"];e.exports=a}),null);
__d("VideoPlayerLoggerEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AUTOPLAY_PREFERENCE_CHANGED:"autoplay_preference_changed",END_STALL_TIME:"end_stall_time",AUTOPLAY_PREFERENCE_STATUS:"autoplay_preference_status",ERROR_ALERT_SHOWN:"video_error_alert_shown",COMMERCIAL_BREAK_OFFSCREEN:"commercial_break_offscreen",COMMERCIAL_BREAK_ONSCREEN:"commercial_break_onscreen",NOT_AUTOPLAYING:"not_autoplaying",VIDEO_CHANNEL_NO_RELATED_VIDEO:"video_channel_no_related_video",VIDEO_ORIENTATION_CHANGED:"video_orientation_changed",AD_BREAK_STARTING_INDICATOR:"ad_break_starting_indicator",AD_BREAK_NON_INTERRUPTIVE_AD_START:"ad_break_non_interruptive_ad_start",AD_BREAK_NON_INTERRUPTIVE_AD_CLICK:"ad_break_non_interruptive_ad_click",AD_BREAK_PRE_ROLL_AD_START:"ad_break_pre_roll_ad_start",AD_BREAK_TAP_ON_TRAILER:"ad_break_tap_on_trailer",AD_BREAK_TAP_START_FROM_TRAILER:"ad_break_tap_start_from_trailer",ASSETS_LOADED:"assets_loaded",BUFFERED:"buffered",CANCELLED_REQUESTED_PLAYING:"cancelled_requested_playing",CAPTION_CHANGE:"caption_change",CAROUSEL_CHANGE:"carousel_change",CHROMECAST_AVAILABILITY_CHECKED:"chromecast_availability_checked",CHROMECAST_CAST_CLICKED:"chromecast_button_clicked",CHROMECAST_CAST_CONNECTED:"chromecast_connected",CHROMECAST_CAST_DISABLED:"chromecast_button_disabled",CHROMECAST_CAST_DISCONNECTED:"chromecast_disconnected",CHROMECAST_CAST_RECONNECTED:"chromecast_reconnected",CHROMECAST_CAST_VISIBLE:"chromecast_button_visible",CHROMECAST_NOT_SUPPORTED:"chromecast_not_supported",CLICK:"click",DISPLAYED:"displayed",ENTERED_FALLBACK:"entered_fallback",ENTERED_FS:"entered_fs",ENTERED_HD:"entered_hd",ERROR:"error",EXITED_FS:"exited_fs",EXITED_HD:"exited_hd",FINISHED_LOADING:"finished_loading",FINISHED_PLAYING:"finished_playing",HEADSET_CONNECTED:"headset_connected",HEADSET_DISCONNECTED:"headset_disconnected",HEART_BEAT:"heart_beat",HOST_ERROR:"host_error",HTTP_STATUS_UPDATE:"http_status_update",IMPRESSION:"impression",INVALID_URL:"invalid_url",MUTED:"muted",NO_SURFACE_UPDATE:"no_surface_update",PAUSED:"paused",PLAY_REQUESTED:"play_requested",PLAY_REQUESTED_OOB:"play_requested_oob",PLAYER_ALLOCATED:"player_allocated",PLAYER_FORMAT_CHANGED:"player_format_changed",PLAYER_LOADED:"player_loaded",PLAYING_LIVE_STARTED:"playing_live_started",PLAYING_LIVE_STOPPED:"playing_live_stopped",POP_FAILOVER:"pop_failover",PROGRESS:"progress",QUALITY_CHANGE:"quality_change",R2D2_SUMMARY:"r2d2_summary",R2D2_EVENT_VALIDATION:"r2d2_event_validation",READY_TO_PLAY:"ready_to_play",REPLAYED:"replayed",REPRESENTATION_ENDED:"representation_ended",REPRESENTATION_FIRST_ENDED:"representation_first_ended",REQUESTED:"requested",REQUESTED_PLAYING:"requested_playing",SCRUBBED:"scrubbed",SEEKED:"seeked",SPLASH_DISPLAYED:"splash_displayed",STALE:"stale",STARTED_PLAYING:"started_playing",STARTED_RECEIVING_BYTES:"started_receiving_bytes",STOPPED_PLAYING:"stopped_playing",STREAM_RESET:"stream_reset",SURFACE_UPDATED:"surface_updated",SWITCHED_IMPLEMENTATION:"switched_implementation",UNMUTED:"unmuted",UNPAUSED:"unpaused",USER_SELECTED_QUALITY:"user_selected_quality",VIDEO_CHAINING_IMPRESSION:"video_chaining_impression",VIDEO_CHAINING_TAP:"video_chaining_tap",VIDEO_CLICKED_WITHIN_PLAYER:"video_clicked_within_player",VIDEO_PLAYER_SERVICE_DISCONNECTED:"video_player_service_disconnected",VIDEO_PLAYER_SERVICE_RECONNECTED:"video_player_service_reconnected",VIDEO_PLAYER_SERVICE_UNAVAILABLE:"video_player_service_unavailable",VIDEO_PLAYING:"video_playing",VIDEO_SKIP_AD:"video_skip_ad",VOLUME_CHANGED:"volume_changed",VOLUME_DECREASE:"volume_decrease",VOLUME_INCREASE:"volume_increase",WATCH_AND_SCROLL_CHANNEL_ENTERED:"watch_and_scroll_channel_entered",WATCH_AND_SCROLL_EXITED:"watch_and_scroll_exited",WATCH_AND_SCROLL_ICON_HIGHLIGHTED:"watch_and_scroll_icon_highlighted",WATCH_AND_SCROLL_ICON_UNHIGHLIGHTED:"watch_and_scroll_icon_unhighlighted",WATCH_AND_SCROLL_PAUSED:"watch_and_scroll_paused",LIVE_SEGMENT_LOAD_ERROR:"live_segment_load_error",MANIFEST_DATA_TYPE_ERROR:"manifest_data_type_error",MANIFEST_LOAD_ERROR:"manifest_load_error",PLAYER_WARNING:"player_warning",PLAYHEAD_FELL_BEHIND_ERROR:"playhead_fell_behind_error",STREAM_SEGMENT_LOAD_ERROR:"stream_segment_load_error",UNEXPECTED_SEGMENT_ERROR:"unexpected_segment_error",NETWORK_TIMEOUT:"network_timeout",VIDEO_LOGGING_SESSION_TIMEOUT:"video_logging_session_timeout",REPLICA_SWITCH:"replica_switch",REPLICA_SWITCH_SUCCESS:"replica_switch_success",REPLICA_SWITCH_FAILED:"replica_switch_failed",COMPLETION:"completion",VIEW:"view",PLAYED_FOR_THREE_SECONDS:"played_for_three_seconds",GUIDE_ENTERED:"guide_entered",GUIDE_EXITED:"guide_exited",HEADING_RESET:"heading_reset",SPHERICAL_FALLBACK_ENTERED:"spherical_fallback_entered",SPHERICAL_VIDEO_FALLBACK_CTA_CLICKED:"spherical_video_fallback_cta_clicked",VIEWPORT_ROTATED:"viewport_rotated",VIEWPORT_ZOOMED:"viewport_zoomed",BANZAI_OAUTH_GK_ERROR:"banzai_oauth_gk_error",BANZAI_OAUTH_PARSE_ERROR:"banzai_oauth_parse_error",BANZAI_OAUTH_SESSION_ERROR:"banzai_oauth_session_error",VIEWABILITY_CHANGED:"viewability_changed",PLAYER_SEEK:"player_seek",VIDEO_CDN_URL_EXPIRED:"video_cdn_url_expired",VIDEO_CDN_URL_REFRESHED:"video_cdn_url_refreshed",VIDEO_CDN_URL_REFRESH_ERROR:"video_cdn_url_refresh_error"})}),null);
__d("R2D2VideoMetadata",["uuid"],(function(a,b,c,d,e,f,g){__p&&__p();var h=1e3,i=10;a=function(){"use strict";__p&&__p();function a(a){this.$1=a.video_id,this.$2=a.ad_client_token,this.$3=a.player_origin,this.$4=a.player_instance_key,this.$6=parseInt(a.playback_duration*h,i),this.$5=g()}var b=a.prototype;b.toJSON=function(){return{video_id:this.$1,ad_client_token:this.$2,player_origin:this.$3,player_instance_key:this.$4,r2d2_session_id:this.$5,duration_ms:this.getDurationMs()}};b.getVideoId=function(){return this.$1};b.getDurationMs=function(){return parseInt(this.$6,i)};b.setDurationMs=function(a){this.$6=a};return a}();e.exports=a}),null);
__d("R2D2VideoEventValidationSummary",[],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(){this.$2=0,this.$1=new Map()}var b=a.prototype;b.addEvent=function(a){this.$1.has(a)||this.$1.set(a,0);var b=this.$1.get(a);this.$1.set(a,b+1);this.$2++};b.getEvents=function(){return this.$1};b.getEventsCount=function(){return this.$2};b.toJSON=function(){var a={},b=[];this.$1.forEach(function(c,d){a[d]=c,b.push(d)});return{events_count:JSON.stringify(a),events_name:"['"+b.join("','")+"']"}};return a}();e.exports=a}),null);
__d("R2D2VideoWatchTimeSegment",[],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.getStartTimeMs=function(){return this.$1};b.getEndTimeMs=function(){return this.$2};return a}();e.exports=a}),null);
__d("R2D2VideoState",["R2D2VideoWatchTimeSegment"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(){"use strict";__p&&__p();function a(a,b){this.$1=a,this.$2=b,this.reset()}var b=a.prototype;b.startPlaying=function(a){this.$3||(this.$3=!0,this.$6=a,this.$4||(this.$7=a))};b.stopPlaying=function(a){this.$3&&(this.$3=!1,this.addPlaySegment(this.$6,a),this.$4||this.addPlaySegmentWithSound(this.$7,a))};b.addPlaySegmentHelper=function(a,b,c){__p&&__p();if(b>=c)return;c=new g(b,c);var d=!1;for(var e=0;e<a.length;e++)if(a[e].getStartTimeMs()>b){a.splice(e,0,c);d=!0;break}d||a.push(c)};b.addPlaySegment=function(a,b){this.addPlaySegmentHelper(this.$8,a,b)};b.addPlaySegmentWithSound=function(a,b){this.addPlaySegmentHelper(this.$9,a,b)};b.setFinishedPlaying=function(){this.$5=!0};b.getFinishedPlaying=function(){return this.$5};b.setMuted=function(a){this.$4||(this.$4=!0,this.$3&&this.addPlaySegmentWithSound(this.$7,a))};b.setUnmuted=function(a){this.$4&&(this.$4=!1,this.$7=a)};b.getVideoId=function(){return this.$1};b.getDurationMs=function(){return this.$2};b.setDurationMs=function(a){this.$2=a};b.getWatchedSegments=function(){return this.$8};b.getWatchedSegmentsWithSound=function(){return this.$9};b.reset=function(){this.$3=!1,this.$4=!0,this.$5=!1,this.$6=0,this.$7=0,this.$8=[],this.$9=[]};return a}();e.exports=a}),null);
__d("R2D2VideoSession",["R2D2VideoState","R2D2VideoEventValidationSummary"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=1e3,j=90*60*1e3;a=function(){"use strict";__p&&__p();function a(a,b,c){this.$4=new g(a.getVideoId(),a.getDurationMs()),this.$5=b,this.$6=c,this.$7=a,this.$8=[],this.$3=!1,this.$9=new h()}var b=a.prototype;b.addEvent=function(a,b){if(this.$10(a,b))return;this.$11(b);this.$5.processEvent(a,b,this.$4);this.$2=new Date();this.$3=!0;this.$9.addEvent(a);this.$12(a,b)};b.$11=function(a){a=a.playback_duration*i;this.$7.setDurationMs(a);this.$4.setDurationMs(a)};b.$12=function(a,b){var c={};c.Name=a;c.ClientTime=new Date();c.seq_num=b.seq_num;c.video_time_position=b.video_time_position;b.video_last_start_time_position!==void 0&&(c.video_last_start_time_position=b.video_last_start_time_position);this.$8.push(c)};b.$10=function(a,b){if(this.$8.length<1)return!1;var c=this.$8[this.$8.length-1];return c.Name===a&&c.video_time_position==b.video_time_position};b.hasUpdates=function(){return this.$3};b.hasExpired=function(){return this.$2.getTime()<=Date.now()-j};b.recalculateDelta=function(){var a=this.$6.getVideoStateSummary(this.$4),b=this.$6.calculateDelta(a,this.$1);this.$8.forEach(function(a){b.addDebugInfo(a)});this.$8=[];this.$1=a;this.$3=!1;return b};b.getMetadata=function(){return this.$7};b.getDebugInfo=function(){return this.$8};b.getEventValidationSummary=function(){return this.$9};b.getStateVideoDurationMsForTesting=function(){return this.$4.getDurationMs()};return a}();e.exports=a}),null);
__d("R2D2VideoStateMachine",["VideoPlayerLoggerEvent"],(function(a,b,c,d,e,f,g){__p&&__p();var h=1e3;a=function(){"use strict";__p&&__p();function a(){}var b=a.prototype;b.processEvent=function(a,b,c){__p&&__p();switch(a){case g.STARTED_PLAYING:case g.UNPAUSED:c.startPlaying(b.video_time_position*h);break;case g.FINISHED_PLAYING:c.stopPlaying(b.video_time_position*h);c.setFinishedPlaying();break;case g.PAUSED:c.stopPlaying(b.video_time_position*h);break;case g.MUTED:c.setMuted(b.video_time_position*h);break;case g.UNMUTED:c.setUnmuted(b.video_time_position*h);break}};return a}();e.exports=a}),null);
__d("R2D2FinishCountMetric",[],(function(a,b,c,d,e,f){__p&&__p();var g="finish_count";a=function(){"use strict";__p&&__p();function a(){}var b=a.prototype;b.compute=function(a){return a.getFinishedPlaying()?1:0};b.computeDelta=function(a,b){return a-b};b.getMetricName=function(){return g};return a}();e.exports=a}),null);
__d("R2D2UniqueTimeSpentMetric",[],(function(a,b,c,d,e,f){__p&&__p();var g="unique_time_spent_ms";a=function(){"use strict";__p&&__p();function a(){}var b=a.prototype;b.compute=function(a){return this.$1(a)};b.computeDelta=function(a,b){return a-b};b.getMetricName=function(){return g};b.$1=function(a){__p&&__p();var b=0,c=0;a=a.getWatchedSegments();for(var d=0;d<a.length;d++){var e=a[d],f=e.getEndTimeMs();if(f>b){f=Math.max(b,e.getStartTimeMs());c+=e.getEndTimeMs()-f;b=e.getEndTimeMs()}}f=10;return parseInt(c,f)};return a}();e.exports=a}),null);
__d("R2D2PlayCountMetric",["R2D2UniqueTimeSpentMetric"],(function(a,b,c,d,e,f,g){__p&&__p();var h="play_count";a=function(){"use strict";__p&&__p();function a(){}var b=a.prototype;b.compute=function(a){var b=new g();return a.getWatchedSegments().length>0&&b.compute(a)>0?1:0};b.computeDelta=function(a,b){return a-b};b.getMetricName=function(){return h};return a}();e.exports=a}),null);
__d("R2D2VideoPlayRetention0to15s",[],(function(a,b,c,d,e,f){__p&&__p();var g="video_play_retention_0_to_15s",h=15,i=0,j=1e3;a=function(){"use strict";__p&&__p();function a(){}var b=a.prototype;b.compute=function(a){__p&&__p();var b=new Array(h-i+1);b.fill(0);a=a.getWatchedSegments();var c=10;for(var d=0;d<a.length;d++){var e=parseInt(a[d].getStartTimeMs()/j,c),f=parseInt(a[d].getEndTimeMs()/j,c);for(var e=e;e<=f;e++)if(e>=i&&e<=h)b[e-i]=1;else if(e>h)break}return b};b.computeDelta=function(a,b){var c=[];if(a.length!==b.length)return c;for(var d=0;d<a.length;d++)c.push(a[d]-b[d]);return c};b.getMetricName=function(){return g};return a}();e.exports=a}),null);
__d("R2D2VideoStateSummary",[],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(){this.$2=[],this.$1=new Map()}var b=a.prototype;b.getMetricValue=function(a){a=this.$1.get(a);return a===null||a===void 0?null:a};b.setMetricValue=function(a,b){b!==null&&this.$1.set(a,b)};b.toJSON=function(){var a=this,b={};this.$1.forEach(function(c,d){b[d]=a.$3(c)});if(this.$2.length>0){var c="debug_details";b[c]=JSON.stringify(this.$2)}return b};b.addDebugInfo=function(a){this.$2.push(a)};b.$3=function(a){return Array.isArray(a)?"["+a.toString()+"]":a};return a}();e.exports=a}),null);
__d("R2D2MetricsHelper",[],(function(a,b,c,d,e,f){__p&&__p();a={isPercentageCovered:function(a,b,c){if(b===0)return!1;for(var d=0;d<c.length;d++){var e=c[d];if(e.getStartTimeMs()<=b*a&&e.getEndTimeMs()>=b*a)return!0}return!1}};e.exports=a}),null);
__d("R2D2ViewCountPercentage",["R2D2MetricsHelper"],(function(a,b,c,d,e,f,g){__p&&__p();var h="view_count_";a=function(){"use strict";__p&&__p();function a(a){this.percentFactor=a}var b=a.prototype;b.compute=function(a){return g.isPercentageCovered(this.percentFactor/100,a.getDurationMs(),a.getWatchedSegments())?1:0};b.computeDelta=function(a,b){return a-b};b.getMetricName=function(){return h+this.percentFactor};return a}();e.exports=a}),null);
__d("R2D2ViewCount100Metric",["R2D2ViewCountPercentage"],(function(a,b,c,d,e,f,g){var h=100;a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,h)||this}return b}(g);e.exports=a}),null);
__d("R2D2ViewCount10Metric",["R2D2UniqueTimeSpentMetric"],(function(a,b,c,d,e,f,g){__p&&__p();var h="true_view_count",i=10*1e3,j=.97;a=function(){"use strict";__p&&__p();function a(){}var b=a.prototype;b.compute=function(a){var b=new g();return b.compute(a)>=i||a.getDurationMs()>0&&b.compute(a)>=a.getDurationMs()*j?1:0};b.computeDelta=function(a,b){return a-b};b.getMetricName=function(){return h};return a}();e.exports=a}),null);
__d("R2D2ViewCount25Metric",["R2D2ViewCountPercentage"],(function(a,b,c,d,e,f,g){var h=25;a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,h)||this}return b}(g);e.exports=a}),null);
__d("R2D2ViewCount50Metric",["R2D2ViewCountPercentage"],(function(a,b,c,d,e,f,g){var h=50;a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,h)||this}return b}(g);e.exports=a}),null);
__d("R2D2ViewCount75Metric",["R2D2ViewCountPercentage"],(function(a,b,c,d,e,f,g){var h=75;a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,h)||this}return b}(g);e.exports=a}),null);
__d("R2D2ViewCount95Metric",["R2D2ViewCountPercentage"],(function(a,b,c,d,e,f,g){var h=95;a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,h)||this}return b}(g);e.exports=a}),null);
__d("R2D2ViewCountMetric",["R2D2UniqueTimeSpentMetric"],(function(a,b,c,d,e,f,g){__p&&__p();var h="view_count",i=3e3,j=.97;a=function(){"use strict";__p&&__p();function a(){}var b=a.prototype;b.compute=function(a){var b=new g();return b.compute(a)>=i||a.getDurationMs()>0&&b.compute(a)>=a.getDurationMs()*j?1:0};b.computeDelta=function(a,b){return a-b};b.getMetricName=function(){return h};return a}();e.exports=a}),null);
__d("R2D2ViewCountRetentionGraphMetric",["R2D2ViewCountMetric"],(function(a,b,c,d,e,f,g){__p&&__p();var h="retention_graph",i=4,j=40,k=1e3,l=10;a=function(){"use strict";__p&&__p();function a(){}var b=a.prototype;b.computeDelta=function(a,b){if(a.length!==b.length)return[];var c=[];for(var d=0;d<a.length;d++)c.push(a[d]-b[d]);return c};b.getMetricName=function(){return h};b.compute=function(a){__p&&__p();var b=a.getDurationMs();if(isNaN(b)||b<=0)return[];b=new g().compute(a);var c=a.getDurationMs(),d=parseInt(((c-1)/(k*i)+1)*i,l);d=Math.min(d,j);var e=new Array(d+1);e.fill(0);if(b==0)return e;b=a.getWatchedSegments();for(var a=0;a<b.length;a++){var f=b[a],h=parseInt(d*f.getStartTimeMs()/c,l);f=parseInt(d*f.getEndTimeMs()/c,l);if(h<=f&&h>=0&&f<=d)for(var h=h;h<=f;h++)e[h]=1}return e};return a}();e.exports=a}),null);
__d("R2D2UniqueTimeSpentWithSoundMetric",[],(function(a,b,c,d,e,f){__p&&__p();var g="unique_time_spent_with_sound_ms";a=function(){"use strict";__p&&__p();function a(){}var b=a.prototype;b.compute=function(a){return this.$1(a)};b.computeDelta=function(a,b){return a-b};b.getMetricName=function(){return g};b.$1=function(a){__p&&__p();var b=0,c=0;a=a.getWatchedSegmentsWithSound();for(var d=0;d<a.length;d++){var e=a[d],f=e.getEndTimeMs();if(f>b){f=Math.max(b,e.getStartTimeMs());c+=e.getEndTimeMs()-f;b=e.getEndTimeMs()}}f=10;return parseInt(c,f)};return a}();e.exports=a}),null);
__d("R2D2ViewCountWithSoundMetric",["R2D2UniqueTimeSpentWithSoundMetric"],(function(a,b,c,d,e,f,g){__p&&__p();var h="view_count_with_sound_on",i=3e3,j=.97;a=function(){"use strict";__p&&__p();function a(){}var b=a.prototype;b.compute=function(a){var b=new g();return b.compute(a)>=i||a.getDurationMs()>0&&b.compute(a)>=a.getDurationMs()*j?1:0};b.computeDelta=function(a,b){return a-b};b.getMetricName=function(){return h};return a}();e.exports=a}),null);
__d("R2D2VideoStateSummaryCalculator",["R2D2FinishCountMetric","R2D2PlayCountMetric","R2D2UniqueTimeSpentMetric","R2D2VideoPlayRetention0to15s","R2D2VideoStateSummary","R2D2ViewCount100Metric","R2D2ViewCount10Metric","R2D2ViewCount25Metric","R2D2ViewCount50Metric","R2D2ViewCount75Metric","R2D2ViewCount95Metric","R2D2ViewCountMetric","R2D2ViewCountRetentionGraphMetric","R2D2ViewCountWithSoundMetric"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){__p&&__p();a=function(){"use strict";__p&&__p();function a(){this.$1=[new i(),new h(),new r(),new j(),new g(),new s(),new n(),new o(),new p(),new q(),new l(),new t(),new m()]}var b=a.prototype;b.getVideoStateSummary=function(a){var b=new k();this.$1.forEach(function(c){return b.setMetricValue(c.getMetricName(),c.compute(a))});return b};b.calculateDelta=function(a,b){var c=new k();this.$1.forEach(function(d){var e=a.getMetricValue(d.getMetricName());if(b!==void 0){var f=b.getMetricValue(d.getMetricName());e=d.computeDelta(e,f)}c.setMetricValue(d.getMetricName(),e)});return c};return a}();e.exports=a}),null);
__d("R2D2Logger",["Banzai","R2D2VideoMetadata","R2D2VideoSession","R2D2VideoStateMachine","R2D2VideoStateSummaryCalculator","VideoPlayerStateBasedLoggingEvents","gkx"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m){__p&&__p();var n=10*1e3,o="video_player",p="r2d2_summary",q="r2d2_event_validation";a=function(){"use strict";__p&&__p();function a(a){this.$4=a,this.$2=new k(),this.$1=new Map()}var b=a.prototype;b.setScriptPath=function(a){this.$3=a};b.$5=function(a,b){return a+":"+b};b.addEvent=function(a,b){var c=this;if(this.shouldNotLogEvent(a))return;var d=this.$5(b.player_instance_key,b.video_id),e=this.$1.get(d);e==null&&(e=new i(new h(b),new j(),this.$2),this.$1.set(d,e));e.addEvent(a,b);setTimeout(function(){return c.$6()},n)};b.$6=function(){var a=this,b=[];this.$1.forEach(function(c,d){var e=null;c.hasUpdates()?e=a.createR2D2SummaryLoggingData(c.getMetadata(),c.recalculateDelta(),p):c.hasExpired()&&(b.push(d),e=a.createR2D2SummaryLoggingData(c.getMetadata(),c.getEventValidationSummary(),q));e!==null&&g.post(o,e)});b.forEach(function(b){a.$1["delete"](b)})};b.createR2D2SummaryLoggingData=function(a,b,c){a=Object.assign(a.toJSON(),b.toJSON());return{event:c,logData:a,scriptPath:this.$3,source:this.$4}};b.shouldLogForR2D2=function(){return m("676938")};b.shouldNotLogEvent=function(a){var b=new Set(l.StateBasedLoggingEventNames);return!b.has(a)};return a}();e.exports=a}),null);
__d("VideoPlayerLoggerErrorStates",[],(function(a,b,c,d,e,f){e.exports={PLAYBACK_FAILURE:"playback_failure",PLAYER_FAILURE:"player_failure"}}),null);
__d("VideoPlayerLoggerErrors",[],(function(a,b,c,d,e,f){e.exports={ENTERED_FALLBACK:"entered_fallback",ERROR_CALLING_FLASH:"error_calling_flash"}}),null);
__d("VideoPlayerLoggerFallbackReasons",[],(function(a,b,c,d,e,f){e.exports={TIMEOUT:"timeout",FLASH_ERROR:"flash_error",FLASH_UNAVAILABLE:"flash_unavailable"}}),null);
__d("VideoPlayerLoggerPlayerStates",[],(function(a,b,c,d,e,f){e.exports={STARTED:"started",UNPAUSED:"unpaused"}}),null);
__d("VideoPlayerLoggerSource",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ADS:"ads",ANIMATED_IMAGE_SHARE:"animated_image_share",ASSET:"asset",BALLOT:"ballot",BROADCAST_REQUEST_ATTACHMENT:"broadcast_request_attachment",CAMERA_POST:"camera_post",CANDIDATE_VIDEOS:"candidate_videos",CHAINED:"chained",CHAINED_SUGGESTION:"chained_suggestion",CHANNEL:"channel",CONTINUE_WATCHING_RECOMMENDATION:"continue_watching_recommendation",CORPORATE_CARD_APPLICATION:"corporate_card_application",EMBEDDED:"embedded",EMBEDDED_PAGE_PLUGIN:"embedded_page_plugin",EMBEDDED_VIDEO:"embedded_video",EMBEDDED_VIDEO_FROM_UFI:"embedded_video_from_ufi",EMBEDDED_VIDEO_PREVIEW:"embedded_video_preview",GAMEROOM_LIVE_VIDEO_HERO_BANNER:"gameroom_live_video_hero_banner",GAMEROOM_LIVE_VIDEO_TAB:"gameroom_live_video_tab",GAMEROOM_LIVE_VIDEO_THUMBNAIL:"gameroom_live_video_thumbnail",GAMES_VIDEO_LIVE_RECOMMENDATION:"games_video_live_recommendation",GAMES_VIDEO_HOME:"games_video_home",GAMES_VIDEO_HOME_HERO:"games_video_home_hero",GAMES_VIDEO_HOME_STREAMER_HUB:"games_video_home_streamer_hub",GAMES_VIDEO_SINGLE_GAME:"games_video_single_game",GAMES_VIDEO_TOP_WEEKLY_CLIPS_STREAMER_PAGE:"games_video_top_weekly_clips_streamer_page",GAMES_VIDEO_SEARCH_UNIT:"games_video_search_unit",GAMES_VIDEO_SOCIAL_PLUGIN:"games_video_social_plugin",GAMES_VIDEO_HUB:"games_video_hub",GAMES_VIDEO_HUB_REDIRECT_NOTIFICATION:"games_video_hub_redirect_notification",GAMES_VIDEO_HUB_REDIRECT_UNKNOWN:"games_video_hub_redirect_unknown",GROUP_LIVE_VIDEO_MODULE:"group_live_video_module",HTML5:"html5",INLINE:"inline",INSIGHTS:"insights",INTERN_CURATION:"intern_curation",INTERN_EXAMPLE:"intern_example",ISSUES_MODULE:"issues_module",LIVE_BEEPER:"live_beeper",LIVE_CONTROL_PANEL:"live_control_panel",LIVE_MAP:"live_map",LIVE_MAP_LISTVIEW:"live_map_listview",LIVE_MAP_SIDEBAR:"live_map_sidebar",LIVE_MAP_TOOLTIP:"live_map_tooltip",LIVE_MAP_TOOLTIP_FROM_LISTVIEW:"live_map_tooltip_from_listview",LIVE_MAP_TOOLTIP_FROM_MAP:"live_map_tooltip_from_map",LIVE_MAP_TOOLTIP_FROM_WEBGL:"live_map_tooltip_from_webgl",LIVE_VIDEO_BROADCAST:"live_video_broadcast",LIVE_VIDEO_PREVIEW:"live_video_preview",LIVING_ROOM:"living_room",LIVING_ROOM_COMMENTATING:"living_room_commentating",LIVING_ROOM_RECAP_FULLSCREEN:"living_room_recap_fullscreen",LIVING_ROOM_RECAP_INLINE:"living_room_recap_inline",LOOKBACK:"lookback",MEDIA_COLLAGE:"media_collage",MEMORY_LEAK_TEST:"memory_leak_test",MESSAGING:"messaging",MISC:"misc",MOBILE:"mobile",NOT_SPECIFIED_PLEASE_FIX:"not_specified_please_fix",OFFERS_DETAIL:"offers_detail",PAGE_LIVE_VIDEO_MODULE:"page_live_video_module",PAGES_FINCH_MAIN_VIDEO:"pages_finch_main_video",PAGES_FINCH_THUMBNAIL_VIDEO:"pages_finch_thumbnail_video",PAGES_FINCH_TRAILER:"pages_finch_trailer",PAGES_VIDEO_SET:"pages_video_set",PAGES_MESSAGING_VIDEO:"pages_messaging_video",PAGES_COVER:"pages_cover",PAGES_TIMELINE_PAGES_COVER:"pages_timeline_pages_cover",PAGES_COVER_HOVER:"pages_cover_hover",PAGES_HOME_HERO:"pages_home_hero",VIDEO_PAGE_SPOTLIGHT_UNIT:"video_page_spotlight_unit",VIDEO_PAGE_VIDEO_LIST:"video_page_video_list",PERMALINK:"permalink",PROFILE_OVERVIEW:"profile_overview",PROFILE_COVER:"profile_cover",PROFILE_VIDEO:"profile_video",PROFILE_VIDEO_HOVERCARD:"profile_video_hovercard",PROFILE_VIDEO_THUMB:"profile_video_thumb",REPORT_FLOW:"report_flow",REVIEW:"review",SEARCH_LIVE_VIDEO_MODULE:"search_live_video_module",SERP_VIDEOS_TAB:"serp_videos_tab",SLIDESHOW:"slideshow",SNOWLIFT:"snowlift",SRT_REVIEW:"srt_review",TAHOE:"tahoe",TOPIC_CHANNEL_LIVING_ROOM:"topic_channel_living_room",TOPIC_GAMING:"topic_gaming",TRAILER_OG_ATTACHMENT:"trailer_og_attachment",TRAILER_TIMELINE_COLLECTIONS:"trailer_timeline_collections",TRAILER_TIMELINE_UNIT:"trailer_timeline_unit",TRIVIA_GAME_ADMIN_DASHBOARD:"trivia_game_admin_dashboard",TV:"tv",USER_VIDEO_TAB:"user_video_tab",VIDEO_COPYRIGHT_PREVIEW:"video_copyright_preview",VIDEO_HOME_INLINE:"video_home_inline",VIDEO_HOME_EXPLORE:"discover",VIDEO_HOME_WATCHLIST:"watchlist",VIDEO_INLINE_CHAINING:"video_inline_chaining",VIDEOHUB_FEATURED:"videohub_featured",VIDEOHUB_LIVE:"videohub_live",VIDEOHUB_PLAYLIST:"videohub_playlist",WATCH_SCROLL:"watch_scroll",UFI_COMMENT_ATTACHMENT:"ufi_comment_attachment",LIVE_AUTOPLAY_WATCH_AND_SCROLL:"live_autoplay_watch_and_scroll",GAMES_VIDEO_STREAMER_SEARCH_UNIT:"games_video_streamer_unit",GAMES_STREAMER_DASHBOARD:"games_streamer_dashboard",ADS_PREVIEW:"ads_preview",VIDEO_PAGE_UNSPECIFIED:"video_page_unspecified",SPOTLIGHT_LIVE:"spotlight_live",SPOTLIGHT_FEATURED:"spotlight_featured",SPOTLIGHT_POPULAR:"spotlight_popular",SPOTLIGHT_UNKNOWN:"spotlight_unknown",VIDEOS_CARD:"videos_card",VIDEOS_TAB:"videos_tab",PLAYLISTS_TAB:"playlists_tab",PLAYLISTS_CARD:"playlists_card",PLAYLIST_PAGE:"playlist_page",CIVIC_PROPOSAL:"civic_proposal",BUSINESS_FEED:"business_feed",REDIRECTED_WATCH_SERP:"redirected_watch_serp",SOTTO_CONSIDERATION_PAGE:"sotto_consideration_page",RESULTS:"results"})}),null);
__d("VideoPlayerLogger",["Banzai","FBLogger","R2D2Logger","VideoPlayerExperiments","VideoPlayerHTML5Experiments","VideoPlayerLoggerErrors","VideoPlayerLoggerErrorStates","VideoPlayerLoggerEvent","VideoPlayerLoggerFallbackReasons","VideoPlayerLoggerPlayerStates","VideoPlayerLoggerSource","invariant","performanceAbsoluteNow"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){"use strict";__p&&__p();var t=k.useBanzaiVitalForLive,u=k.discerningAbandonStallLogging,v="video_player",w=5e3,x=function(){return k.useMonotonicallyIncreasingTimers?s():Date.now()};a=function(){__p&&__p();function a(a,b){this.$2=a,this.$3=null,this.$6={},this.$4=b,this.$8=0,this.$9=0,this.$10=0,this.$11=0,this.$7=[],this.$20=0,this.$21=0,this.$12=0,this.$28=!1,this.$17=!1,this.$30(),this.$31(),this.$29=new i(this.$2)}var b=a.prototype;b.updateSource=function(a){this.$2=a};b.getSource=function(){return this.$2};b.logEvent=function(a,b){__p&&__p();b=babelHelpers["extends"]({},b,this.$4);b.initial_event=!Object.prototype.hasOwnProperty.call(this.$6,a);Object.prototype.hasOwnProperty.call(b,"time_ms")||(b.time_ms=x());Object.prototype.hasOwnProperty.call(b,"time")||(b.time=Math.round(b.time_ms/1e3));b.is_stalling=this.$32();b.error_user_info=this.$33(b.error_user_info);this.$3&&Object.assign(b,this.$3);switch(a){case n.PAUSED:case n.FINISHED_PLAYING:if(this.$25){var c=this.$25,d=c.getABREvaluation();b.ideal_samples=d.idealSamples;b.conservative_samples=d.conservativeSamples;b.aggressive_samples=d.aggressiveSamples;b.conservative_resolution_constrained_samples=d.conservativeResolutionConstrainedSamples;b.last_quality_switch_reason=d.lastQualitySwitchReason;b.reason&&c.setLastQualitySwitchReason(b.reason)}d=typeof this.$26==="function"&&this.$26();c=typeof this.$27==="function"&&this.$27();typeof c==="number"&&typeof d==="number"&&(b.dropped_frame_count=d,b.total_frame_count=c);break}switch(a){case n.STARTED_PLAYING:case n.UNPAUSED:this.$28=!0;break;case n.FINISHED_PLAYING:case n.ERROR:case n.PAUSED:this.$28=!1;break}switch(a){case n.REQUESTED_PLAYING:this.$30();this.$34();this.$6[n.STARTED_PLAYING]?b.state=p.UNPAUSED:b.state=p.STARTED;break;case n.STARTED_PLAYING:case n.UNPAUSED:case n.FINISHED_PLAYING:case n.CANCELLED_REQUESTED_PLAYING:case n.ERROR:case n.PAUSED:case n.REPRESENTATION_ENDED:case n.HEART_BEAT:if(a===n.ERROR&&j.disableStallLoggingForError)break;if(a==n.REPRESENTATION_ENDED&&!this.$6[n.STARTED_PLAYING])break;if(a===n.HEART_BEAT&&(!this.$6[n.STARTED_PLAYING]||!k.heartbeatUpdateWatchTimeV2||this.$32()))break;a===n.HEART_BEAT&&(b.v2_heart_beat=!0);(a===n.STARTED_PLAYING||a===n.UNPAUSED)&&(this.$12=b.time_ms,this.$35());if(a===n.ERROR&&b.state!==m.PLAYBACK_FAILURE)break;a===n.CANCELLED_REQUESTED_PLAYING&&(this.$6[n.STARTED_PLAYING]?b.state=p.UNPAUSED:b.state=p.STARTED);this.$36();this.$37();(a===n.PAUSED||a===n.FINISHED_PLAYING)&&(u&&a===n.FINISHED_PLAYING&&this.$35(),b.recent_stalls_count=this.$38());this.$39();this.$40(b);this.$41(b);this.$31();u&&this.$35();this.$30();break}d={logData:b,event:a,scriptPath:this.$1,source:this.$2};a||h("video").warn("Missing event name");this.$6[a]=!0;if(this.$2===q.ANIMATED_IMAGE_SHARE)return null;b.ad_client_token||t&&b.playback_is_live_streaming?g.post(v,d,g.VITAL):k.useVitalForClosing&&(a===n.PAUSED||a===n.FINISHED_PLAYING||a===n.HEART_BEAT)?g.post(v,d,g.VITAL):k.useVitalForOpening&&(a===n.UNPAUSED||a===n.STARTED_PLAYING)?g.post(v,d,g.VITAL):g.post(v,d);this.$29.shouldLogForR2D2()&&this.$29.addEvent(a,b);return d};b.setScriptPath=function(a){this.$1=a,this.$29.setScriptPath(a)};b.setFTData=function(a){this.$3=a};b.setABRQualityTracker=function(a){this.$25=a};b.setFrameCountGetters=function(a,b){this.$26=a,this.$27=b};b.startBuffering=function(a){this.$34(a)};b.endBuffering=function(){this.$37(),this.$42(),this.$36(),this.$39()};b.startInterrupt=function(){this.$43()};b.endInterrupt=function(){this.$37(),this.$42()};b.$32=function(){return this.$16>0};b.$34=function(a){if(this.$32())return;this.$17=this.$28;this.$16=Date.now();a!==void 0&&this.$6[n.STARTED_PLAYING]&&(this.$18=a)};b.$43=function(){if(this.$44())return;this.$22=Date.now()};b.$44=function(){return this.$22>0};b.$45=function(){return!this.$44()?0:Date.now()-this.$22};b.$46=function(){return this.$32()?Date.now()-this.$16:0};b.$37=function(){if(this.$44()){var a=this.$45();this.$23+=a;this.$21+=a;this.$24+=1;this.$20+=1}};b.$42=function(){this.$44()&&(this.$22=0)};b.$31=function(){this.$23=0,this.$24=0,this.$42()};b.$36=function(){__p&&__p();if(this.$32()){var a=this.$46();this.$18!==null&&(this.$19=a);this.$15+=a;this.$9+=a;this.$13++;a>200&&this.$14++;this.$8++;this.$17&&(this.$11+=a,this.$10++,this.$17=!1);u&&this.$7.push(x())}};b.$39=function(){this.$32()&&(this.$16=0)};b.$33=function(a){return a&&typeof a==="object"?JSON.stringify(a):a};b.getCumulativeStallCount=function(){return this.$8};b.getCumulativeInPlayStallCount=function(){return this.$10};b.getStallCount=function(){return this.$13};b.getCumulativeStallTime=function(){return this.$9+this.$46()};b.getCumulativeInPlayStallTime=function(){return this.$11+(this.$17?this.$46():0)};b.getCumulativeInterruptCount=function(){return this.$20};b.getCumulativeInterruptTime=function(){return this.$21+this.$45()};b.$40=function(a){a.stall_time=Math.max(0,this.$15),a.stall_count=this.$13,a.stall_count_200_ms=this.$14,this.$19&&(a.first_stall_time=this.$19,a.first_stall_start_position=this.$18)};b.$41=function(a){a.interrupt_time=Math.max(0,this.$23),a.interrupt_count=this.$24};b.$38=function(){var a=x(),b=a-w;this.$7=this.$7.filter(function(a){return a>=b});u||this.$13>0&&this.$7.push(a);return this.$7.length};b.$30=function(){this.$15=0,this.$16=0,this.$13=0,this.$14=0,this.$18=null,this.$19=0};b.$35=function(){this.$7=[]};b.getFTdata=function(){return this.$3};return a}();a.Sources=q;a.Errors=l;a.FallbackReasons=o;a.ErrorStates=m;a.PlayerStates=p;e.exports=a}),null);
__d("VideoPlayerLoggerEventField",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ABANDON_IN_STALL:"abandon_in_stall",ACCESS_TOKEN:"access_token",AD_CLIENT_TOKEN:"ad_client_token",AD_ID:"ad_id",API_CONFIG:"api_config",APP_ID:"app_id",APP_VERSION:"app_version",AUDIO_CHANNEL_LAYOUT:"audio_ch_conf",AUTH_FLAG:"auth_flag",AUTOPLAY_ELIGIBLE:"autoplay_eligible",AUTOPLAY_FAILURE_REASONS:"autoplay_failure_reasons",AUTOPLAY_SETTING:"autoplay_setting",AVAILABLE_QUALITIES:"available_qualities",BATTERY_LEVEL:"battery_level",BROADCASTER_ORIGIN:"broadcaster_origin",BUILD_VERSION:"build_version",CAPTION_STATE:"caption_state",CAST_CLIENT_APP_ID:"cast_client_app_id",CAST_CLIENT_APP_VERSION:"cast_client_app_version",CAST_SESSION_ID:"cast_session_id",CHANNEL_ELIGIBILITY:"channel_eligibility",CHROMECAST_RECEIVER_AVAILABLE:"chromecast_receiver_available",CONNECTIVITY_SUBTYPE:"connectivity_subtype",CONNECTIVITY_TYPE:"connectivity_type",CREATOR_APP_ID:"creator_app_id",CURRENT_VIEWABILITY_PERCENTAGE:"current_viewability_percentage",VIEWABILITY_DEBUG_REASON:"viewability_debug_reason",CURRENT_VOLUME:"current_volume",DATA_CONNECTION_QUALITY:"data_connection_quality",DEBUG_REASON:"debug_reason",DEVICE_ID:"device_id",DURATION:"duration",ERROR:"error",ERROR_CODE:"error_code",ERROR_DESCRIPTION:"error_description",ERROR_DOMAIN:"error_domain",ERROR_USER_INFO:"error_user_info",EVENT_NAME:"name",EVENT_BATCH:"batch",EXTERNAL_LOG_ID:"external_log_id",EXTERNAL_LOG_TYPE:"external_log_type",FB_BANDWIDTH:"fb_bandwidth",FEED_POSITION:"feed_position",FIRST_STALL_START_POSITION:"first_stall_start_position",FIRST_STALL_TIME:"first_stall_time",FT:"ft",GKS:"gks",HAS_BEEN_LIVE:"has_been_live",HD:"hd",HEADSET_STATE:"headset_state",HLS_CURRENT_SEGMENT_URI:"current_segment_uri",HLS_LOADING_SEGMENT_URI:"loading_segment_uri",HLS_SEGMENT_URI:"segment_uri",HLS_STREAM_DATA:"stream_data",HOST_VIDEO_ID:"host_video_id",INLINE:"inline",INSTREAM_VIDEO_AD_BREAK_INDEX:"instream_video_ad_break_index",INSTREAM_VIDEO_AD_BREAK_VIDEO_ID:"instream_video_ad_break_video_id",INTERRUPT_COUNT:"interrupt_count",INTERRUPT_TIME:"interrupt_time",IS_ABR_ENABLED:"is_abr_enabled",IS_AUTO_ADVANCED:"is_auto_advanced",IS_FREE:"is_free",IS_HDS:"is_hds",IS_LIVE_STREAMING:"is_live_streaming",IS_SHOW_VIDEO:"is_show_video",IS_STALLING:"is_stalling",IS_TEMPLATED_MANIFEST:"is_templated_manifest",LAST_VIEWABILITY_PERCENTAGE:"last_viewability_percentage",NEXT_REPRESENTATION_ID:"next_representation_id",ORIGINAL_VIDEO_ID:"original_video_id",OUTER_STORY_IDENTIFIER:"outer_story_identifier",PLAYBACK_BROADCAST_STATUS:"playback_broadcast_status",PLAYBACK_DURATION:"playback_duration",PLAYBACK_IS_LIVE_STREAMING:"playback_is_live_streaming",PLAYER_FORMAT:"player_format",PLAYER_ORIGIN:"player_origin",PLAYER_STATE:"player_state",PLAYER_SUBORIGIN:"player_suborigin",PLAYER_VERSION:"player_version",POSITION_IN_CHANNEL:"position_in_channel",POSITION_IN_UNIT:"position_in_unit",PROJECTION:"projection",QES:"qes",REACTION_VIDEO_CHANNEL_ID:"reaction_video_channel_id",REACTION_VIDEO_CHANNEL_TYPE:"reaction_video_channel_type",REACTION_VIDEO_CHANNEL_SUBTYPE:"reaction_video_channel_subtype",REASON:"reason",RECENT_STALLS_COUNT:"recent_stalls_count",RECENT_STALLS_TOTAL_COUNT:"recent_stalls_total_count",REFERRER:"referrer",REPRESENTATION_ID:"representation_id",RESOURCE_URL:"resource_url",SAVED_OFFLINE:"saved_offline",SEQ_NUM:"seq_num",SESSION_START_TIME:"session_start_time",SHOW_VIDEO_TYPE:"show_video_type",SOURCE:"source",SPHERICAL_FALLBACK_TYPE:"spherical_fallback_type",STALL_COUNT:"stall_count",STALL_INFO_JSON:"stall_info_json",STALL_TIME:"stall_time",STATE:"state",STREAM_TYPE:"stream_type",STREAMING_FORMAT:"streaming_format",TIME:"time",TIME_DELTA:"time_delta",TIME_MS:"time_ms",TIME_SINCE_CREATION:"time_since_creation",TIME_SPENT_ID:"time_spent_id",TIME_UNTIL_INTERRUPT:"time_until_interrupt",TOTAL_STALL_TIME:"total_stall_time",TRACKING:"tracking",TV_SESSION_ID:"tv_session_id",UNIQUE_TIME_SPENT_MS:"unique_time_spent_ms",UNIT_POSITION:"unit_position",UPSTREAM_PLAYER_SOURCE:"upstream_player_source",USER_ASN:"user_asn",USER_ID:"user_id",V2_HEART_BEAT:"v2_heart_beat",VIDEO_BANDWIDTH:"video_bandwidth",VIDEO_CHAINING_DEPTH_LEVEL:"video_chaining_depth_level",VIDEO_CHAINING_SESSION_ID:"video_chaining_session_id",VIDEO_CHANNEL_ID:"video_channel_id",VIDEO_CHANNEL_TYPE:"video_channel_type",VIDEO_HOME_SESSION_ID:"video_home_session_id",VIDEO_ID:"video_id",VIDEO_LAST_START_TIME_POSITION:"video_last_start_time_position",VIDEO_PLAY_REASON:"video_play_reason",VIDEO_PLAYER_HEIGHT:"video_player_height",VIDEO_PLAYER_WIDTH:"video_player_width",VIDEO_QUALITY:"video_quality",VIDEO_TIME_POSITION:"video_time_position",VIDEO_BUFFER_END_POSITION:"video_buffer_end_position",VIDEO_TIME_RATIO:"video_time_ratio",VIEWABILITY_PERCENTAGE:"viewability_percentage",WATCH_AND_GO_SESSION_ID:"watch_and_go_session_id",FEED_AGGREGATION_TYPE:"feed_aggregation_type",HAS_BLOCKED_PAUSED_REPRESENTATION_ENDED:"has_blocked_paused_representation_ended",IS_LIVE_VIDEO_REWOUND:"is_live_video_rewound",PLAYER_INSTANCE_KEY:"player_instance_key",SOURCE_CREATION_TIME:"source_creation_time",TRANSCODING_METHOD:"transcoding_method",VIDEO_INIT_SEQ_ID:"video_init_seq_id",VIDEO_PLAY_SUBREASON:"video_play_subreason",IS_DEEPLINK_USER:"is_deeplink_user",IS_FIRST_TIME_USER:"is_first_time_user",VIDEO_CLIP_START_TIME_MS:"video_clip_start_time_ms",AD_BREAK_VIEWER_SESSION_ID:"ad_break_viewer_session_id",SEEK_FROM_VIDEO_TIME_POSITION:"seek_from_video_time_position",LIVING_ROOM_SESSION_ID:"living_room_session_id",VIOLATION_FOUND:"violation_found",EVENT_SEQ_NUM:"event_seq_num",DETECTION_ID:"detection_id",ACTUAL_VIEWABILITY_VALUE:"actual_viewability_value",DROPPED_FRAME_COUNT:"dropped_frame_count",TOTAL_FRAME_COUNT:"total_frame_count",VISITATION_ID:"visitation_id",PIGEON_SESSION_ID:"pigeon_session_id",IS_FBMS:"is_fbms",FORCE_SAMPLE_LOGGING:"force_sample_logging",IS_ADS_PREVIEW:"is_ads_preview",IS_INJECTED_ADS:"is_injected_ads",AD_BREAK_AD_ID:"ad_break_ad_id",DASH_MANIFEST_AVAILABLE:"dash_manifest_available",IS_SERVABLE_VIA_FBMS:"is_servable_via_fbms",PLAYER_SUBORIGIN_DERIVED:"player_suborigin_derived",DEVICE_TYPE:"device_type",IFRAME_EMBED_REFERRER:"iframe_embed_referrer",AUDIO_REPRESENTATION_ID:"audio_representation_id",PLAYBACK_IS_FIRST_VIDEO:"playback_is_first_video",LAST_SCROLL_DIRECTION:"last_scroll_direction",BLACKSCREEN_DURATION_MS:"blackscreen_duration_ms",IS_CHAINED_LIVING_ROOM:"is_chained_living_room",PSR_TIME_MANIFEST:"psr_time_manifest",PSR_TIME_VIDEO_INIT:"psr_time_video_init",PSR_TIME_AUDIO_INIT:"psr_time_audio_init",PSR_TIME_VIDEO_DATA:"psr_time_video_data",PSR_TIME_AUDIO_DATA:"psr_time_audio_data",PSR_TIME_UNSTALL:"psr_time_unstall",STALL_COUNT_200_MS:"stall_count_200_ms",SEGMENT_TYPE:"segment_type",DEVICE_ORIENTATION:"device_orientation",NUM_EVENT_COPIES:"num_event_copies",LIVE_TRACE_STREAM_ID:"live_trace_stream_id",LIVE_TRACE_STREAM_TYPE:"live_trace_stream_type",LIVE_TRACE_SOURCE_ID:"live_trace_source_id"})}),null);
__d("MaybeNativePromise",["Promise"],(function(a,b,c,d,e,f,g){"use strict";b=a.Promise||g;g.resolve();e.exports=b}),null);
__d("VideoAkamaiRequestHelper",["URI"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){return a.toLowerCase().indexOf("akamai")!==-1}function h(a){var b=a.startByte;a=a.endByte;if(b!=void 0&&!(b===0&&a==void 0)){b="bytes="+b+"-"+(a==void 0?"":a);return{Range:b}}return null}function b(a){var b=new g(a);b=b.getQueryData();var c=b.startByte;b=b.endByte;return h({baseUrl:a,startByte:c,endByte:b})}e.exports={isAkamai:a,getRequestHeaders:h,getRequestHeadersFromUrl:b}}),null);
__d("MVideoDashPrefetchCache",["regeneratorRuntime","Promise","BanzaiODS","Deferred","MaybeNativePromise","MOzExperiments","Run","URI","VideoAkamaiRequestHelper","XHRRequest","getCrossOriginTransport"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){__p&&__p();var r={maxPrefetchVideosNum:0,consolidateFragmentedPrefetchRequest:!1,fixPrefetchCacheAbort:!0,disablePrefetchCache:!1,enableGlobalSchedulerForPrefetch:!1,prefetchPriority:1,switchPrefetchTaskToHighPriWhenPlayed:!1};function s(a,b,c){var d=a.errorCode;a={name:a.errorType,message:a.errorMsg,type:c,url:b,status:d};return a}function t(a){return a.audio.length+a.video.length+a.manifest.length}function u(a,b){i.bumpEntityKey("mtouch_video_playback","prefetch."+a,b)}function v(a){var b="aborted",c={status:0},d=new Error("Prefetch request aborted.");return Object.assign(d,{type:b,url:a,xhr:c})}function w(a){var b=a.getURI(),c=b.toString();if(o.isAkamai(c)){var d=o.getRequestHeadersFromUrl(c);c=b.removeQueryData(["bytestart","byteend"]);a.setURI(c);d&&Object.keys(d).forEach(function(b){a.setRequestHeader(b,d[b])})}return a}var x=null,y=new Map();function z(a){a=new n(a);a=a.getDomain();return a.endsWith("fbcdn.net")&&!a.startsWith("interncache")&&!a.endsWith("ak.fbcdn.net")}function A(a,b){b===void 0&&(b=!1);return b&&z(a)?q.withCredentials:q}function B(a){return z(a.url)}function C(a,b,c){return{response:a.slice(b.start+0,b.end+1),responseTime:c}}function D(a){__p&&__p();var b=new n(a);if(b.getDomain()){b=b.removeQueryData(["oh"]);b=b.removeQueryData("__gda__");var c=Object.keys(b.getQueryData());for(var d=0;d<c.length;d++){var e=c[d];e.startsWith("_nc")&&(b=b.removeQueryData(e))}return b.toString()}return a}a=function(){"use strict";__p&&__p();function a(){this.$2=new Map(),this.$1=new Map(),this.$3=[],this.$4=[],this.$5=0,this.$6=r.maxPrefetchVideosNum,this.$7=r.consolidateFragmentedPrefetchRequest}var b=a.prototype;b.$9=function(a,b){__p&&__p();var c=this;b===void 0&&(b=!1);var d=a,e=new p(d).setMethod("GET").setResponseType("arraybuffer").setTransportBuilder(A(d,b));w(e);var f=new k(function(b,g){e.setErrorHandler(function(a){c.$10(e),g(s(a,d,"preload"))}),e.setResponseHandler(function(a){e.response=a,c.$10(e),b(e)}),e.setAbortHandler(function(){if(r.fixPrefetchCacheAbort){c.$10(e);var b=v(a);g(b)}else g(f,new Error("Request promise aborted"))})});this.$11(a,f);this.$3.push(e);this.$8?this.$8.push(e):e.send();return f};b.genPrefetchMpdNow=function(a){__p&&__p();return g.async(function(b){while(1)switch(b.prev=b.next){case 0:if(!this.has(a)){b.next=2;break}return b.abrupt("return",null);case 2:return b.abrupt("return",this.$9(a));case 3:case"end":return b.stop()}},null,this)};b.$12=function(b,c,d){__p&&__p();c===void 0&&(c=!1);d===void 0&&(d=null);var e=[];for(var f=0;f<b.length;f++){var g=a.createQueryStringURL(b[f]);this.has(g)||(e.push(this.$9(g,c).then(function(a){u("received",1);return a})),d!=null&&this.$2.set(g,d))}u("sent",e.length);return e};b.$13=function(b){__p&&__p();var c=this,d=a.getConsolidatedURL(b);if(d==null)return this.$12(b);var e=new p(d).setMethod("GET").setResponseType("arraybuffer").setTransportBuilder(A(d));w(e);var f=Date.now(),g=[];for(var i=0;i<b.length;i++){var k=a.createQueryStringURL(b[i]),l=new j();this.has(k)||this.$11(k,l.getPromise());g.push(l)}e.setErrorHandler(function(b){c.$10(e);for(var a=0;a<g.length;a++)g[a].reject(s(b,d,"preload"))});e.setResponseHandler(function(d){var h=Date.now()-f;for(var a=0;a<b.length;a++){var i=g[a],j=b[a];i.resolve(C(d,j,h))}c.$10(e)});e.setAbortHandler(function(){for(var a=0;a<b.length;a++){var c=g[a];c.reject(new Error("Request aborted."))}});this.$3.push(e);e.send();u("consolidated.sent",1);u("sent",g.length);k=g.map(function(a){return a.getPromise().then(function(a){u("received",1);return a})});h.all(k).then(function(){return u("consolidated.received",1)});return k};b.$14=function(a){__p&&__p();var b=this,c=a.useCredentials,d=a.connectionQualityLevel;this.$5++;var e=this.$7&&!c;r.enableGlobalSchedulerForPrefetch&&(this.$8=[]);var f=e?this.$13(a.video):this.$12(a.video,c,d);e=e?this.$13(a.audio):this.$12(a.audio,c,d);d=this.$12(a.manifest,c);var g=f.concat(e,d);if(this.$8){var h=this.$8||[];this.$8=null;var i=""+a.videoID;c={name:"prefetch task, "+i,run:function(){i&&y["delete"](i);h.forEach(function(a){return a.send()});return k.all(g).then(function(){})["catch"](function(){})},cancel:function(){}};c.run();k.all(g).then(function(){return b.$15()})["catch"](function(){return b.$15()})}else k.all(g).then(function(){return b.$15()})["catch"](function(){return b.$15()})};b.$11=function(a,b){__p&&__p();var c=this;a=D(a);this.$1.values().next().done&&m.onLeave(function(){for(var a=0;a<c.$3.length;a++)c.$3[a].abort();c.$3=[];c.$4=[];c.$5=0;c.$1.clear()});this.$1.set(a,b)};b.$10=function(a){a=this.$3.indexOf(a);a>-1&&this.$3.splice(a,1)};b.$15=function(){this.$5--;var a=this.$4.shift();a&&this.$14(a)};b.has=function(a){a=D(a);return this.$1.has(a)};b.getConnectionQualityLevel=function(a){return this.$2.get(a)};b.get=function(a){a=D(a);var b=this.$1.get(a);b?u("cache.hit",1):u("cache.miss",1);l.mtouch_reuse_cache_values||this.$1["delete"](a);u("retrieve",1);return b};b.$16=function(a){a=D(a);a=this.$1.get(a);return a};b.queueRequestBatch=function(a){this.$6===0||this.$5<this.$6?this.$14(a):(u("queued",t(a)),this.$4.push(a))};a.getInstance=function(){x===null&&(x=new a());return x};a.createQueryStringURL=function(a){var b=a.url,c=a.start;a=a.end;c!==null&&c!==void 0&&a!==null&&a!==void 0&&(b=new n(b).addQueryData({bytestart:c,byteend:a}));return b.toString()};a.getConsolidatedURL=function(b){__p&&__p();var c="",d=Infinity,e=0;for(var f=0;f<b.length;f++){var g=b[f],h=g.url,i=g.start;g=g.end;if(h==null||i==null||g==null)return null;if(c==="")c=h;else if(c!==h)return null;d=Math.min(d,i);e=Math.max(e,g)}return a.createQueryStringURL({url:c,start:d,end:e})};a.loadVideo=function(b,c,d){c=!!c;if(r.disablePrefetchCache||l.disable_prefetch)return;var e=a.getInstance();b.manifest||(b.manifest=[]);e.queueRequestBatch({manifest:b.manifest.filter(B),video:b.video.filter(B),audio:b.audio.filter(B),videoID:b.videoID,useCredentials:c,connectionQualityLevel:d})};a.getCacheValue=function(b){var c=a.getInstance().get(b),d=!1;b=b.match(/bytestart=(\d+)/);if(b){b=parseInt(b[1],10);b<5e3&&(d=!0)}d&&u("consume."+(c?"hit":"miss"),1);return c};a.getConnectionQualityLevel=function(b){return a.getInstance().getConnectionQualityLevel(b)};a.hasCacheValue=function(b){return a.getInstance().has(b)};a.getPrefetchTaskByID=function(a){a=y.get(a)||null;return a};return a}();e.exports=a}),null);
__d("MVideoPrefetcher",["Promise","MVideoAutoplayConfig","Run"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j=null,k=500;a=function(){"use strict";__p&&__p();function a(){this.$1=new Map(),this.$2=new Map(),this.$3=[],this.$4=[],this.$5=0,this.$6=1}var b=a.prototype;b.$7=function(a,b,c){c.lastProgressValue*1e3>h.autoplay_prefetch_duration_threshold_ms||c.video.duration&&c.lastProgressValue>.9*c.video.duration?(clearInterval(c.watchdog),this.$8(c),this.$2.set(c.url,!0),a()):(clearInterval(c.watchdog),this.$8(c),b(new Error("Insufficient data received for a video preload")))};b.$9=function(a){__p&&__p();var b=this,c=document.createElement("video");c.setAttribute("src",a);c.setAttribute("preload","auto");var d={};d.video=c;d.lastProgressTime=Date.now();d.lastProgressValue=0;d.url=a;var e=new g(function(a,e){d.watchdog=setInterval(function(){var c=Date.now();c>d.lastProgressTime+h.autoplay_prefetch_waiting_time_ms&&b.$7(a,e,d)},k),c.addEventListener("progress",function(){var a=c.buffered&&c.buffered.end&&c.buffered.length>0?c.buffered.end(0):0;a>d.lastProgressValue&&(d.lastProgressValue=a,d.lastProgressTimestamp=Date.now())})});this.$10(a,e);this.$3.push(d);c.load();return e};b.$11=function(b){var c=[];for(var d=0;d<b.length;d++){var e=a.createQueryStringURL(b[d]);this.$1.has(e)||c.push(this.$9(e))}return c};b.$12=function(a){var b=this;this.$5++;a=this.$11(a.video);g.all(a).then(function(){b.$13()})["catch"](function(){return b.$13()})};b.$10=function(a,b){var c=this,d=!!this.$1.values().next().done;d&&i.onLeave(function(){for(var a=0;a<c.$3.length;a++)c.$14(c.$3[a]);c.$3=[];c.$4=[];c.$5=0;c.$1.clear()});this.$1.set(a,b)};b.$14=function(a){a=a.video;a.setAttribute("src","");a.load&&a.load()};b.$8=function(a){this.$14(a);a=this.$3.indexOf(a);a>-1&&this.$3.splice(a,1)};b.$13=function(){this.$5--;var a=this.$4.shift();a&&this.$12(a)};b.getAndDelete=function(a){var b=this.$1.get(a);this.$1["delete"](a);return b};b.getPreloadCache=function(a){return this.$2.get(a)};b.queueRequestBatch=function(a){this.$6===0||this.$5<this.$6?this.$12(a):this.$4.push(a)};a.getInstance=function(){j===null&&(j=new a());return j};a.createQueryStringURL=function(a){return a.url};a.loadVideo=function(b){var c=a.getInstance();c.queueRequestBatch({video:[{url:b}]})};a.isVideoPreloaded=function(b){return!!a.getInstance().getPreloadCache(b)};return a}();e.exports=a}),null);
__d("MVideoPlayerController",["EventEmitter","MInlineVideo","MLegacyDataStore","MOzExperiments","MOzVideoPlayerApi","MVideoDashPrefetchCache","MVideoExperiments","MVideoPlayerApiBase","MVideoPrefetcher","Stratcom","destroyOnUnload","getElementPosition","shouldUseOzPlayer"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){__p&&__p();n.MVideoPlayerApiBase;var t="MVideoPlayerController_instance",u=null,v=null;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(b,a);function b(c,d,e,f){__p&&__p();var g;g=a.call(this)||this;g.$MVideoPlayerController2=d.video_ids;g.$MVideoPlayerController3=c.video_element;g.$MVideoPlayerController1=c.root_element;g.$MVideoPlayerController6=e;g.$MVideoPlayerController7=f;!j.no_prefetch_for_ctp&&!j.no_quickstarter_for_ctp&&(g.prefetch(),g.prepareMVideoPlayerApi());g.$MVideoPlayerController4="ready";g.$MVideoPlayerController8(g.$MVideoPlayerController3);g.$MVideoPlayerController5=null;b.$MVideoPlayerController9();return g}var c=b.prototype;c.prepareMVideoPlayerApi=function(a){k.prepare(this.$MVideoPlayerController3,this.$MVideoPlayerController6,a)};c.prefetch=function(){if(m.do_not_prefetch_autoplay)return;if(!this.$MVideoPlayerController6)return;this.$MVideoPlayerController6.connection_quality_level?l.loadVideo(this.$MVideoPlayerController6.prefetch_data,this.$MVideoPlayerController6.use_credentials,this.$MVideoPlayerController6.connection_quality_level):l.loadVideo(this.$MVideoPlayerController6.prefetch_data,this.$MVideoPlayerController6.use_credentials)};c.isFullscreen=function(){return!1};c.getVideoID=function(){return this.$MVideoPlayerController2[0]};c.play=function(a){this.emit("playRequested",a),this.sendPlayRequest(a)};c.prepareForPlay=function(){};c.sendPlayRequest=function(a){var b=!0;b=h.showPlayer(null,this.$MVideoPlayerController3,b,a);(!b||!m.mtouch_no_double_play)&&h.play(a)};c.pause=function(a){this.emit("pauseRequested",a),h.pause(a)};c.isAutoplayable=function(){return!1};c.getDOMPosition=function(){return r(this.getRootNode())};c.setState=function(a){this.$MVideoPlayerController4=a,this.emit("stateChange")};c.isState=function(a){return this.$MVideoPlayerController4===a};c.getVideoNode=function(){return this.$MVideoPlayerController3};c.getRootNode=function(){return this.$MVideoPlayerController1};c.setLastActionReason=function(a){this.$MVideoPlayerController5=a,a&&h.setLastActionReason(a)};c.getLastActionReason=function(){return this.$MVideoPlayerController5};c.preload=function(){if(m.do_not_prefetch_autoplay)return;var a=i.get(this.$MVideoPlayerController3),b=a&&a.src;b&&!s(a)&&o.loadVideo(b)};c.isPreloaded=function(){var a=i.get(this.$MVideoPlayerController3);a=a&&a.src;return a&&o.isVideoPreloaded(a)};b.$MVideoPlayerController9=function(){__p&&__p();if(u)return;u=[p.listen("m:video:player:play",null,function(a){a=b.$MVideoPlayerController10(a);b.handleApiBeginPlayback(a);!v&&m.refresh_browser_autoplay_settings&&(v=null)}),p.listen("m:video:player:pause",null,function(a){var c=b.$MVideoPlayerController10(a);a=!!(a.getData()&&a.getData().destroyed);b.handleApiPausePlayback(c,a)}),p.listen("m:video:player:ended",null,function(a){a=b.$MVideoPlayerController10(a);b.handleApiFinishPlayback(a)}),p.listen("m:video:player:volumechange",null,function(a){a=b.$MVideoPlayerController10(a);b.handleApiVolumeChange(a)}),p.listen("m:video:player:fullscreenchange",null,function(a){a=b.$MVideoPlayerController10(a);b.handleApiFullScreenChange(a)}),p.listen("m:video:player:prepare",null,function(a){a=b.$MVideoPlayerController10(a);b.handleApiPrepare(a)}),p.listen("m:video:player:destroy",null,function(a){a=b.$MVideoPlayerController10(a);b.handleApiDestroyed(a)})];q(function(){u&&(u.forEach(function(a){return a.remove()}),u=null)})};b.handleApiBeginPlayback=function(a){a=i.get(a)[t];a&&a.$MVideoPlayerController11()};b.handleApiPausePlayback=function(a,b){a=i.get(a)[t];a&&a.$MVideoPlayerController12(b)};b.handleApiFinishPlayback=function(a){a=i.get(a)[t];a&&a.$MVideoPlayerController13()};b.handleApiVolumeChange=function(a){a=i.get(a)[t];a&&a.$MVideoPlayerController14()};b.handleApiFullScreenChange=function(a){a=i.get(a)[t];a&&a.$MVideoPlayerController15()};b.handleApiDestroyed=function(a){a=i.get(a)[t];a&&a.$MVideoPlayerController16()};b.handleApiPrepare=function(a){a=i.get(a)[t];a&&a.$MVideoPlayerController17()};c.$MVideoPlayerController11=function(){this.setState("playing")};c.$MVideoPlayerController12=function(a){!this.isState("finished")&&!this.isState("ready")&&(!a?this.setState("paused"):this.setState("ready"))};c.$MVideoPlayerController13=function(){this.setState("finished")};c.$MVideoPlayerController14=function(){this.emit("volumeChange")};c.$MVideoPlayerController15=function(){this.emit("fullscreenChange")};c.$MVideoPlayerController16=function(){this.setState("ready"),this.emit("destroyed")};c.$MVideoPlayerController17=function(){this.emit("prepare")};c.$MVideoPlayerController8=function(a){var b={};b[t]=this;i.set(a,b)};b.$MVideoPlayerController10=function(a){a=a.getData();return a&&a.videoElement};b.isBrowserAutoplayEnabled=function(){if(v===null){var a=document.createElement("video");a.muted=!0;a.play();v=!a.paused;a.pause()}return v};return b}(g);e.exports=a}),null);
__d("VideoAutoplayValues",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ON:"on",OFF:"off",DOWNLOADED_ONLY:"downloaded_only",WIFI_ONLY:"wifi_only",DEFAULT_AUTOPLAY:"default_autoplay"})}),null);
__d("MFeedVideoPlayerController",["KaiOSAutoplayModule","KaiOSLogger","MFullScreen","MOzExperiments","MVideoAutoplayConfig","MVideoAutoplayPlayerBase","MVideoCache","MVideoDownloadState","MVideoDownloadStateHandler","MVideoExperiments","MVideoPlayerApiEvents","MVideoPlayerController","MVideoUtils","VideoAutoplayValues","VideoPlayerReason","destroyOnUnload","getViewportDimensions"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){__p&&__p();var x=.5;b=function(b){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,b);function c(a,c){__p&&__p();var d;d=b.call(this)||this;d.$MFeedVideoPlayerController1=c;d.$MFeedVideoPlayerController2=a;d.$MFeedVideoPlayerController3=c.controller;d.$MFeedVideoPlayerController5=!1;d.$MFeedVideoPlayerController4=[];v(function(){d.$MFeedVideoPlayerController4.forEach(function(a){return a.remove()}),d.$MFeedVideoPlayerController4=[]});d.$MFeedVideoPlayerController6();if(j.no_prefetch_for_ctp||j.no_quickstarter_for_ctp){a=d.isAutoplayable();(!j.no_prefetch_for_ctp||j.no_prefetch_for_ctp&&a)&&d.$MFeedVideoPlayerController3.prefetch();d.$MFeedVideoPlayerController3.prepareMVideoPlayerApi(babelHelpers.assertThisInitialized(d))}d.$MFeedVideoPlayerController1.should_autoplay&&d.$MFeedVideoPlayerController7();return d}var d=c.prototype;d.$MFeedVideoPlayerController7=function(){r.isBrowserAutoplayEnabled()&&!m.isVideoDownloaded(this.getVideoID())&&this.$MFeedVideoPlayerController8()&&k.autoplay_prefetch_enabled&&(this.$MFeedVideoPlayerController3.preload&&this.$MFeedVideoPlayerController3.preload())};d.$MFeedVideoPlayerController8=function(){__p&&__p();var a=this.$MFeedVideoPlayerController1.autoplay_setting;if(a===t.OFF)return!1;else if(m.isVideoDownloaded(this.getVideoID()))return!1;else if(a===t.WIFI_ONLY&&this.$MFeedVideoPlayerController9("WIFI"))return!0;else if(a===t.ON&&this.$MFeedVideoPlayerController9())return!0;return!1};d.$MFeedVideoPlayerController9=function(b){var c=s.getNetworkBandwidth();if(!c)if(p.desktop_no_bandwidthmax)return!0;else c=0;var d=s.getConnectivityType(),e=this.$MFeedVideoPlayerController1.autoplay_bandwidth_threshold_mbps!=null?this.$MFeedVideoPlayerController1.autoplay_bandwidth_threshold_mbps:k.autoplay_bandwidth_threshold_mbps;g.gkResult&&c===0&&(c=s.calculateBandwidth(),h.logAutoplay({bandwidth:c.toFixed(2),threshold:e.toFixed(2),detectedConnectivityType:a.navigator.connection?a.navigator.connection.type===void 0?"undefined":a.navigator.connection.type:"missing connection"}));d=(!b||d===b)&&c>=e;return d};d.isVisible=function(){return this.$MFeedVideoPlayerController3.isFullscreen()||i.isFullScreen()?!0:s.isVisible(this.getDOMPosition())};d.getDistanceToViewport=function(){if(this.$MFeedVideoPlayerController3.isFullscreen())return 0;var a=w().height,b=this.getDOMPosition();if(b.height===0)return-Infinity;b=b.y+(1-x)*b.height;return b-a/2};d.playWithoutUnmute=function(a){this.$MFeedVideoPlayerController3.play(a)};d.prepareForPlay=function(){!m.isVideoDownloaded(this.getVideoID())&&k.autoplay_prefetch_enabled&&k.autoplay_prepare_next_video_enabled&&this.$MFeedVideoPlayerController3.prepareForPlay()};d.pause=function(a){this.$MFeedVideoPlayerController3.pause(a)};d.isAutoplayable=function(){var a=!1,b=this.getVideoID();r.isBrowserAutoplayEnabled()&&!this.$MFeedVideoPlayerController5&&(this.$MFeedVideoPlayerController1.should_autoplay&&(m.isVideoDownloaded(b)?a=!1:this.$MFeedVideoPlayerController8()&&(k.autoplay_prefetch_required_for_playback?a=this.$MFeedVideoPlayerController3.isPreloaded():a=!0)));return a};d.getDOMPosition=function(){return this.$MFeedVideoPlayerController3.getDOMPosition()};d.isLooping=function(){return!1};d.getVideoID=function(){return this.$MFeedVideoPlayerController3.getVideoID()};d.$MFeedVideoPlayerController6=function(){var a=this,b=[["stateChange",function(b){return a.$MFeedVideoPlayerController10(b)}]],c=function(b){return a.emit.bind(a,b)};this.$MFeedVideoPlayerController4=b.map(function(b){return a.$MFeedVideoPlayerController3.addListener(b[0],b[1])}).concat(q.map(function(b){return a.$MFeedVideoPlayerController3.addListener(b,c(b))}));o.listen(this.getVideoID(),function(b){return a.$MFeedVideoPlayerController11(b)})};d.$MFeedVideoPlayerController10=function(){this.$MFeedVideoPlayerController12()};d.$MFeedVideoPlayerController12=function(){(!this.isState("playing")&&this.getLastActionReason()===u.USER||this.isState("finished"))&&(this.$MFeedVideoPlayerController5=!0,this.emit("autoplayableChange"))};d.$MFeedVideoPlayerController11=function(a){a.state===n.DOWNLOADED&&(this.$MFeedVideoPlayerController5=!1,this.setLastActionReason(null),this.emit("autoplayableChange"))};d.isState=function(a){return this.$MFeedVideoPlayerController3.isState(a)};d.getLastActionReason=function(){return this.$MFeedVideoPlayerController3.getLastActionReason()};d.setLastActionReason=function(a){this.$MFeedVideoPlayerController3.setLastActionReason(a),this.$MFeedVideoPlayerController12()};return c}(l);e.exports=b}),null);
__d("MVideoAutoplayControllerBase",["Stratcom","SubscriptionsHandler","VideoPlayerReason","Visibility","destroyOnUnload","throttle"],(function(a,b,c,d,e,f,g,h,i,j,k,l){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){var b=this;this.$3=null;this.$2=null;this.$6=[];this.$1=a;this.$4=null;this.$5=new h();k(function(){b.$6=[],b.$3=null,b.$4&&(b.$4.remove(),b.$4=null),b.$5.release()})}var b=a.prototype;b.getVideoUnits=function(){return this.$6};b.addVideoUnit=function(a){this.$6.push(a)};b.getPlayingVideoUnit=function(){return this.$3};b.setPlayingVideoUnit=function(a){this.$3=a};b.playVideo=function(a,b){this.setPlayingVideoUnit(a),this.$3&&this.$3.playWithoutUnmute(b)};b.addSubscriberVideoUnit=function(){this.getVideoUnits().length||(this.$5.addSubscriptions(g.listen("resize",null,this.updateAutoplay.bind(this)),g.listen("blur",null,this.$8.bind(this)),g.listen("focus",null,this.$9.bind(this)),j.addListener(j.HIDDEN,this.$8.bind(this)),j.addListener(j.VISIBLE,this.$9.bind(this)),g.listen("MScrollArea:scrollend",null,l(this.updateAutoplay.bind(this),this.$1)),g.listen("MScrollArea:scroll",null,l(this.updateAutoplay.bind(this),this.$1)),g.listen("MScrollArea:create",null,l(this.updateAutoplay.bind(this),this.$1)),g.listen("MScrollArea:reflow",null,l(this.updateAutoplay.bind(this),this.$1))),this.$10()||this.$11())};b.$8=function(){this.autoplayActive()&&!this.$2&&(this.$2=this.getPlayingVideoUnit(),this.pausePlayingVideo(i.PAGE_VISIBILITY))};b.$9=function(){this.autoplayActive()&&this.$2&&(this.playVideo(this.$2,i.PAGE_VISIBILITY),this.$2=null)};b.$11=function(){this.$4&&(this.$4.remove(),this.$4=null),this.$7=l(this.updateAutoplay.bind(this),this.$1),this.$4=g.listen("scroll",null,this.$12.bind(this))};b.$12=function(){this.$7()};b.$10=function(){return!!this.$4};b.getClosestVideoUnits=function(a,b){return this.$6.filter(function(a){return a.getDistanceToViewport()>=0&&(!b||b&&a.isAutoplayable())}).sort(function(a,b){return a.getDistanceToViewport()-b.getDistanceToViewport()}).slice(0,a)};b.getVisibleUnits=function(){var a=[];this.$6.forEach(function(b){b.isVisible()?(a.push(b),b.wasVisible||(b.wasVisible=!0)):b.wasVisible=!1});return a};b.pausePlayingVideo=function(a){var b=this.$3;b&&(b.pause(a),this.$3=null)};b.updateAutoplay=function(){throw new Error("Should be overridden")};b.autoplayActive=function(){throw new Error("Should be overridden")};return a}();e.exports=a}),null);
__d("MVideoAutoplayControllerX",["MVideoAutoplayControllerBase","SubscriptionsHandler","VideoPlayerReason","destroyOnUnload","getViewportDimensions","setImmediate"],(function(a,b,c,d,e,f,g,h,i,j,k,l){__p&&__p();var m=null,n=500;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(b,a);function b(){var b;b=a.call(this,n)||this;b.$MVideoAutoplayControllerX1=!0;b.$MVideoAutoplayControllerX2=new h();b.$MVideoAutoplayControllerX3=null;j(function(){b.$MVideoAutoplayControllerX4(),babelHelpers.assertThisInitialized(b)===m&&(m=null)});return b}b.registerVideoUnit=function(a){m==null&&(m=new b()),m.addSubscriberVideoUnit(),m.addVideoUnit(a),m.$MVideoAutoplayControllerX5(a),a.isVisible()&&m.updateAutoplay()};b.setShouldAutoplay=function(a){m==null&&(m=new b()),m.$MVideoAutoplayControllerX1=a,m.updateAutoplay()};var c=b.prototype;c.$MVideoAutoplayControllerX4=function(){this.$MVideoAutoplayControllerX2.release()};c.$MVideoAutoplayControllerX6=function(a){a&&(a.setLastActionReason(i.USER),this.getPlayingVideoUnit()&&this.setPlayingVideoUnit(null)),this.$MVideoAutoplayControllerX3=a,this.updateAutoplay()};c.$MVideoAutoplayControllerX5=function(a){__p&&__p();var b=this;if(!a.addListener)return;var c=function(){b.getPlayingVideoUnit()==a&&a.isState("paused")||b.getPlayingVideoUnit()!=a&&a.isState("playing")?b.$MVideoAutoplayControllerX6(a):a==b.$MVideoAutoplayControllerX3&&a.isState("finished")&&b.$MVideoAutoplayControllerX6(null)},d=function(){(a.isState("playing")||a.isState("paused"))&&b.$MVideoAutoplayControllerX6(a)},e=function(){b.getPlayingVideoUnit()!=a&&b.$MVideoAutoplayControllerX6(a)},f=function(){b.updateAutoplay()},g=function(){b.$MVideoAutoplayControllerX3&&b.$MVideoAutoplayControllerX3==a&&b.$MVideoAutoplayControllerX6(null)};this.$MVideoAutoplayControllerX2.addSubscriptions(this.$MVideoAutoplayControllerX7(a,"stateChange",c),this.$MVideoAutoplayControllerX7(a,"prepare",e),this.$MVideoAutoplayControllerX7(a,"volumeChange",d),this.$MVideoAutoplayControllerX7(a,"fullscreenChange",d),this.$MVideoAutoplayControllerX7(a,"autoplayableChange",f),this.$MVideoAutoplayControllerX7(a,"destroyed",g))};c.$MVideoAutoplayControllerX7=function(a,b,c){a=a.addListener(b,function(){l(function(){c()})});return a};c.autoplayActive=function(){this.$MVideoAutoplayControllerX3&&!this.$MVideoAutoplayControllerX3.isVisible()&&!this.$MVideoAutoplayControllerX3.isState("playing")&&(this.$MVideoAutoplayControllerX3=null);return this.$MVideoAutoplayControllerX3==null};c.updateAutoplay=function(){__p&&__p();if(!this.autoplayActive())return;if(!this.$MVideoAutoplayControllerX1){this.pausePlayingVideo(i.AUTOPLAY);return}var a=this.getVisibleUnits(),b=a.length,c=null;if(b==1)c=a[0],c=c.isAutoplayable()?c:null;else if(b>1){var d=k().height/2;a.forEach(function(a){if(!a.isAutoplayable())return;var b=a.getDOMPosition();b=b.y+b.height/2;b=Math.abs(b-d);a.playPriority=b;(!c||typeof c.playPriority==="number"&&a.playPriority<c.playPriority)&&(c=a)})}this.getPlayingVideoUnit()?c!=this.getPlayingVideoUnit()&&(this.pausePlayingVideo(i.AUTOPLAY),this.playVideo(c,i.AUTOPLAY)):c&&this.playVideo(c,i.AUTOPLAY);b=this.getClosestVideoUnits(2,!0);a=b.length;var e=null;for(var f=0;f<a;f++)if(b[f]!==c){e=b[f];break}e&&e.prepareForPlay()};return b}(g);e.exports=a}),null);
__d("MVideoFeedRegister",["MFeedVideoPlayerController","MVideoAutoplayControllerX"],(function(a,b,c,d,e,f,g,h){a={registerVideoUnit:function(a,b){a=new g(a,b);h.registerVideoUnit(a)}};e.exports=a}),null);