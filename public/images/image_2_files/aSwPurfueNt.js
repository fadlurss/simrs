if (self.CavalryLogger) { CavalryLogger.start_js(["\/HjKv"]); }

__d("MFullPageLoadState",["NavigationMetrics","Stratcom"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i="pre-tti",j=g.addRetroactiveListener(g.Events.EVENT_OCCURRED,a);h.listen("m:page:loading",null,function(){i==="pre-tti"?i="interrupted-pre-tti":i==="post-tti"?i="interrupted-post-tti":i==="post-dd"&&(i="interrupted-post-dd"),j&&j.remove(),j=null,h.removeCurrentListener()});function a(a,b){if(a!==g.getFullPageLoadLid())return;b.event==="tti"&&i==="pre-tti"?i="post-tti":b.event==="all_pagelets_displayed"&&(i==="pre-tti"||i==="post-tti")?i="post-dd":b.event==="e2e"&&i!=="post-e2e"&&(i="post-e2e",j&&j.remove(),j=null)}function b(){return i}e.exports={get:b}}),null);
__d("NavigationQuickLogModule",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ASYNC_NAVIGATION_MTOUCH:25952260,JEWEL_OPEN_MTOUCH:25952266,TAB_CLICK_POST_CONTENT_INIT_SETUP:25952263,TAB_CLICK_PRE_CONTENT_INIT_SETUP:25952262})}),null);
__d("MJewelsLogger",["MFullPageLoadState","NavigationQuickLogModule","QuickPerformanceLogger","Stratcom","SubscriptionsHandler","performanceAbsoluteNow","performanceNavigationStart","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){"use strict";__p&&__p();var o=h.JEWEL_OPEN_MTOUCH,p=null,q=new k();function a(a,b){p!==null&&r(a),i.markerStart(o),s("jewelName",a),s("isFirstClick",b.isFirstClick),s("badgeCount",b.badgeCount),s("jewelBehavior",b.jewelBehavior),s("fullPageLoadState",g.get()),s("isPrefetching",b.isPrefetching),b.initialPrefetchPhase&&s("initialPrefetchPhase",b.initialPrefetchPhase),m()>0&&s("timeSinceNavigationStart",l()-m()),n(function(){q.addSubscriptions(j.listen("m:history:change",null,function(){p===a&&r(a)}))},1),p=a}function r(a){i.markerEnd(o,"CANCEL"),q.release(),q.engage(),p=null}function b(a){n(function(){i.markerEnd(o,"SUCCESS"),q.release(),q.engage(),p=null},1)}function s(a,b){typeof b==="string"?i.annotateMarkerString(o,a,b):typeof b==="boolean"?i.annotateMarkerInt(o,a,b?1:0):typeof b==="number"&&i.annotateMarkerDouble(o,a,b)}e.exports={markJewelClick:a,markJewelDisplayed:b,markJewelCanceled:r}}),null);
__d("MNotificationClick",["CSS","MLegacyDataStore","MRequest","Stratcom"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();var k="notification",l="list_",m="acw",n="aclb",o={},p=!1;e.exports={init:function(){if(p)return;j.listen("click",k,q);j.listen("m:page:render:cache:complete",null,r);p=!0}};function q(a){var b=a.getNode("touchable");if(!b)return;var c=h.get(b).notif_id;if(!c)return;new i("/a/jewel_notifications_log.php").addData({click_type:"notification_click",id:c,target_id:h.get(b).target_id}).send();s(a)}function r(a){if(a.getData().path.indexOf("notifications")>-1)for(var b in o)t(b)}function s(a){__p&&__p();a=a.getNode("marea");if(!a)return;a=a.getAttribute("id");if(!a)return;t(a);var b=a.startsWith(l)?a.substring(l.length):l+a;t(b);o[a]=!0;o[b]=!0}function t(a){a=document.getElementById(a);a&&(g.addClass(a,m),g.removeClass(a,n))}}),null);
__d("BanzaiOld",["BanzaiAdapter","NavigationMetrics","BanzaiConsts","BanzaiLazyQueue","BanzaiStreamPayloads","CurrentUser","ErrorUtils","ExecutionEnvironment","FBJSON","FBLogger","SetIdleTimeoutAcrossTransitions","TimeSlice","Visibility","WebStorage","emptyFunction","isInIframe","lowerFacebookDomain","onAfterDisplay","pageID","performanceAbsoluteNow","WebStorageMutex"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,aa,x,y){__p&&__p();var z=6e4,A=1e3,B=g,C=v(),D="bz:",E="ods:banzai",ba="send_via_beacon_failure",F=0,G=1,H=2,I=null,J,K,L=[],M=null,N=[];function O(a){return a[2]>=y()-(B.config.EXPIRY||$.EXPIRY)}function P(a,b){var c=a.__meta;c.status=F;a[3]=(a[3]||0)+1;c.retry===!1&&b>=400&&b<600&&L.push(a)}function Q(a,b,c,d){a=[a,b,c,0];a.__meta={retry:d===!0,pageID:x,userID:l.getID(),status:F};return a}function ca(){__p&&__p();var a=[];N.forEach(function(b){var c=b.cb();c.forEach(function(c){var d=b.route;if(d!=null||d!=""){d=Q(d,c,y());d.__meta.onSuccess=b.onSuccess;d.__meta.onFailure=b.onFailure;a.push(d)}})});N=[];var b=[],c=[];U(b,c,!0,a);if(b.length>0){b[0].send_method="beacon";b.map(B.prepWadForTransit);b=new Blob([B.addRequestAuthData(B.prepForTransit(b))],{type:"application/x-www-form-urlencoded"});b=navigator.sendBeacon($.adapter.endpoint,b);b?c.forEach(function(a){a=a.__meta;a!=null&&a.onSuccess!=null&&a.onSuccess()}):c.forEach(function(a){a=a.__meta;a!=null&&a.onFailure!=null&&a.onFailure()})}}function R(a){__p&&__p();var b=y()+a;if(K==null||b<K){K=b;q.clear(J);b=function(){J=q.start(da,a)};b();return!0}return!1}var da=r.guard(function(){S(null,null)},"Banzai.send",{propagationType:r.PropagationType.ORPHAN});function S(a,b){__p&&__p();K=null;R($.BASIC.delay);if(!B.readyToSend()){b&&b();return}($.isEnabled("flush_storage_periodically")||$.isEnabled("error_impact_test"))&&(Z(),m.applyWithGuard(V.flush,V));B.inform($.SEND);var c=[],d=[];L=U(c,d,!0,L);if(c.length<=0){B.inform($.OK);a&&a();return}c[0].trigger=M;M=null;c[0].send_method="ajax";c.map(B.prepWadForTransit);B.send(c,function(){d.forEach(function(a){a=a.__meta;a.status=H;a.callback!=null&&a.callback()}),a&&a()},function(a){d.forEach(function(b){P(b,a)}),b&&b()})}function T(){__p&&__p();if(!(navigator&&navigator.sendBeacon&&B.isOkToSendViaBeacon()))return!1;var a=[],b=[];L=U(a,b,!1,L);if(a.length<=0)return!1;a[0].send_method="beacon";a.map(B.prepWadForTransit);a=new Blob([B.addRequestAuthData(B.prepForTransit(a))],{type:"application/x-www-form-urlencoded"});a=navigator.sendBeacon($.adapter.endpoint,a);if(!a){b.forEach(function(a){L.push(a)});L.push(Q(E,(a={},a[ba]=[1],a),y()));return!1}return!0}function U(a,b,c,d){__p&&__p();var e={};return d.filter(function(d){__p&&__p();var f=d.__meta;if(f.status>=H||!O(d))return!1;if(f.status>=G)return!0;var g=f.compress!=null?f.compress:!0,h=f.pageID+f.userID+(g?"compress":""),i=e[h];i||(i={user:f.userID,page_id:f.pageID,posts:[],snappy:g},e[h]=i,a.push(i));f.status=G;i.posts.push(d);b.push(d);return c&&!!f.retry})}var V,W,X=!1;function Y(){X||(X=!0,W=t.getLocalStorage());return W}function Z(){__p&&__p();V||(!C?V={store:function(){var a=Y();if(a==null||L.length<=0)return;var b=L.map(function(a){return[a[0],a[1],a[2],a[3]||0,a.__meta]});L=[];t.setItemGuarded(a,D+x+"."+y(),o.stringify(b))},restore:function(){__p&&__p();var a=Y();if(!a)return;var c=b("WebStorageMutex");new c("banzai").lock(function(b){__p&&__p();var c=[];for(var d=0;d<a.length;d++){var e=a.key(d);if(e==null||e==="")continue;e.indexOf(D)===0&&e.indexOf("bz:__")!==0&&c.push(e)}c.forEach(function(b){__p&&__p();var c=a.getItem(b);a.removeItem(b);if(c==null)return;b=o.parse(c);b.forEach(function(a){if(!a)return;var b=a.__meta=a.pop(),c=O(a);if(!c)return;c=l.getID();(b.userID===c||c==="0")&&(b.status=F,L.push(a))})});b.unlock()})},flush:function(){var a=Y();if(a){I===null&&(I=parseInt(a.getItem(i.LAST_STORAGE_FLUSH),10));var b=I&&y()-I>=i.STORAGE_FLUSH_INTERVAL;b&&$._restore(!1);(b||!I)&&(I=y(),t.setItemGuarded(a,i.LAST_STORAGE_FLUSH,I.toString()))}}}:V={store:u,restore:u,flush:u})}var $={adapter:B,SEND:"Banzai:SEND",OK:"Banzai:OK",ERROR:"Banzai:ERROR",SHUTDOWN:"Banzai:SHUTDOWN",VITAL_WAIT:A,BASIC_WAIT:z,EXPIRY:30*6e4,VITAL:{delay:g.config.MIN_WAIT||A},BASIC:{delay:g.config.MAX_WAIT||z},isEnabled:function(a){return B.config.gks&&B.config.gks[a]},post:function(b,c,d){__p&&__p();var e;(b==null||b==="")&&p("banzai").mustfix("Banzai.post called without specifying a route");var f=d==null?void 0:d.retry;if(B.config.disabled)return;if(!n.canUseDOM)return;var g=B.config.blacklist;if(g&&(g.indexOf&&(typeof g.indexOf==="function"&&g.indexOf(b)!=-1)))return;if(C&&w.isValidDocumentDomain()){var h;try{h=a.top.require("Banzai")}catch(a){h=null}if(h){h.post.apply(h,arguments);return}}var i=Q(b,c,y(),f),k=i.__meta;d!=null&&d.callback!=null&&(k.callback=d.callback);d!=null&&d.compress!=null&&(k.compress=d.compress);if(d!=null&&d.signal!=null){k.status=G;var m=[{user:l.getID(),page_id:x,posts:[i],trigger:b}];B.send(m,function(){k.status=H,k.callback&&k.callback()},function(a){P(i,a)},!0);if(f==null)return}L.push(i);var o=(e=d==null?void 0:d.delay)!=null?e:z;(R(o)||M==null||M==="")&&(M=b);var q=j.flushQueue();q.forEach(function(a){return $.post.apply($,a)})},registerToSendWithBeacon:function(a,b,c,d){if(!(navigator&&navigator.sendBeacon&&B.isOkToSendViaBeacon()))return!1;if(!a){p("banzai").mustfix("Banzai.registerToSendWithBeacon called without specifying a route");return!1}N.push({cb:b,route:a,onSuccess:c,onFailure:d});return!0},flush:function(a,b){q.clear(J),S(a,b)},subscribe:B.subscribe,canUseNavigatorBeacon:function(){return navigator&&navigator.sendBeacon?B.isOkToSendViaBeacon():!1},_schedule:R,_store:function(a){Z(),m.applyWithGuard(V.store,V)},_restore:function(a){Z(),m.applyWithGuard(V.restore,V),R(B.config.RESTORE_WAIT||A)},_testState:function(){return{postBuffer:L,triggerRoute:M}},_unload:function(){k.unload($.post),navigator&&navigator.sendBeacon&&B.isOkToSendViaBeacon()&&ca(),B.cleanup(),B.inform($.SHUTDOWN),L.length>0&&((!B.useBeacon||!T())&&(Z(),m.applyWithGuard(V.store,V)))},_initialize:function(){n.canUseDOM&&(B.useBeacon&&s.isSupported()?(s.addListener(s.HIDDEN,function(){L.length>0&&(T()||(Z(),m.applyWithGuard(V.store,V)))}),($.isEnabled("enable_client_logging_clear_on_visible")||$.isEnabled("error_impact_test"))&&s.addListener(s.VISIBLE,function(){T()||m.applyWithGuard(V.restore,V)})):B.setHooks($),B.setUnloadHook($),h.addListener(h.Events.NAVIGATION_DONE,function(a,b){if(b.pageType!=="normal")return;$._restore();h.removeCurrentListener()}))}};$._initialize();e.exports=$}),null);
__d("QuickLogConfigHelper",["QuickLogConfig"],(function(a,b,c,d,e,f,g){a=function(){"use strict";function a(){}var b=a.prototype;b.getEventDetails=function(a){return g.qpl_events[a]};return a}();e.exports=new a()}),null);
__d("QuickPerformanceLoggerBase",["Arbiter","Banzai","Bootloader","Env","PerfXSharedFields","QuickLogConfig","QuickLogConfigHelper","Random","gkx","performanceAbsoluteNow","performanceNavigationStart","requireCond","cr:682175"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){"use strict";__p&&__p();var t=p();a=function(){__p&&__p();function a(a){a===void 0&&(a={}),this.$1={},this.$2={},this.$3=100,this.loomProviderId="QPL",this.$4=a,s&&s.addProvider(this)}var b=a.prototype;b.$7=function(a,b){if(l.killswitch)return null;a=this.$1[a];if(!a)return null;a=a[b];return!a?null:a};b.markerStart=function(a,b,c){__p&&__p();b===void 0&&(b=0);c===void 0&&(c=this.currentTimestamp());if(l.killswitch)return;var d=m.getEventDetails(a);if(!d)return;if(s&&!this.$5){var e=a+"_"+b,f=new Set(["QPL","AsyncProfiler"]);s.startTrace(e,"QPL",f)}this.$5&&this.$5.buffer.addEvent({type:"QPL_START",action:"START",markerId:a,instanceKey:b},c);e=this.$6===a?1:this.$2[a]||d.sampleRate||this.$3;f=j.enable_qplinspector||n.coinflip(e);d=this.$1[a];d||(this.$1[a]={});this.$1[a][b]={passesSampling:f,timestamp:c,sampleRate:e,points:{}};if(f){d=this.$4.onMarkerStart;d&&d(a,b,c)}};b.markerStartFromNavStart=function(a,b){b===void 0&&(b=0);var c=q();this.markerStart(a,b,c);if(q.isPolyfilled){c=this.$7(a,b);c&&(c.timestampIsApproximate=!0)}};b.annotateMarkerString=function(a,b,c,d){d===void 0&&(d=0);var e=this.$7(a,d);if(!e)return;var f=this.$5;f&&f.buffer.addEvent({type:"QPL_ANNOTATION",markerId:a,instanceKey:d,annotationKey:b,annotationValue:c},e.timestamp);f=e.annotations||{};f[b]=c;e.annotations=f};b.annotateMarkerStringArray=function(a,b,c,d){d===void 0&&(d=0);var e=this.$7(a,d);if(!e)return;var f=this.$5;f&&f.buffer.addEvent({type:"QPL_ANNOTATION",markerId:a,instanceKey:d,annotationKey:b,annotationValue:c},e.timestamp);f=e.annotationsStringArray||{};f[b]=c;e.annotationsStringArray=f};b.annotateMarkerInt=function(a,b,c,d){d===void 0&&(d=0);var e=this.$7(a,d);if(!e)return;var f=this.$5;f&&f.buffer.addEvent({type:"QPL_ANNOTATION",markerId:a,instanceKey:d,annotationKey:b,annotationValue:c},e.timestamp);f=e.annotationsInt||{};f[b]=c;e.annotationsInt=f};b.annotateMarkerIntArray=function(a,b,c,d){d===void 0&&(d=0);var e=this.$7(a,d);if(!e)return;var f=this.$5;f&&f.buffer.addEvent({type:"QPL_ANNOTATION",markerId:a,instanceKey:d,annotationKey:b,annotationValue:c},e.timestamp);f=e.annotationsIntArray||{};f[b]=c;e.annotationsIntArray=f};b.annotateMarkerDouble=function(a,b,c,d){d===void 0&&(d=0);var e=this.$7(a,d);if(!e)return;var f=this.$5;f&&f.buffer.addEvent({type:"QPL_ANNOTATION",markerId:a,instanceKey:d,annotationKey:b,annotationValue:c},e.timestamp);f=e.annotationsDouble||{};f[b]=c;e.annotationsDouble=f};b.annotateMarkerDoubleArray=function(a,b,c,d){d===void 0&&(d=0);var e=this.$7(a,d);if(!e)return;var f=this.$5;f&&f.buffer.addEvent({type:"QPL_ANNOTATION",markerId:a,instanceKey:d,annotationKey:b,annotationValue:c},e.timestamp);f=e.annotationsDoubleArray||{};f[b]=c;e.annotationsDoubleArray=f};b.markerPoint=function(a,b,c,d,e){d===void 0&&(d=0);e===void 0&&(e=this.currentTimestamp());var f=this.$7(a,d);if(!f)return;f.points[b]={data:c,timeSinceStart:Math.round(e-f.timestamp)};f=this.$5;f&&f.buffer.addEvent({type:"QPL_POINT",markerId:a,instanceKey:d,name:b,data:c},e)};b.markerEnd=function(a,b,c,d){__p&&__p();c===void 0&&(c=0);d===void 0&&(d=this.currentTimestamp());var e=Date.now(),f=m.getEventDetails(a);if(!f)return;var h=this.$5;if(h){h.buffer.addEvent({type:"QPL_END",action:b,markerId:a,instanceKey:c},d);var i=a+"_"+c;s&&h.triggerId===i&&s.endTraceWithTimeout(i,3e4)}h=this.$7(a,c);if(!h)return;if(h.passesSampling){i=this.$4.onMarkerEnd;i&&i(a,c,d);i=Math.round(d-h.timestamp);e=e-i;var j=h.points;this.$8({marker_id:a,event_is_intermediate_marker:"false",instance_id:c,quicklog_module:f.moduleName,quicklog_event:f.name,quicklog_action:b,sample_rate:h.sampleRate,method:"random_sampling",trace_tags:"",value:h.timestampIsApproximate?null:i,annotations:h.annotations,annotations_double:h.annotationsDouble,annotations_double_array:h.annotationsDoubleArray,annotations_int:h.annotationsInt,annotations_int_array:h.annotationsIntArray,annotations_string_array:h.annotationsStringArray,points:Object.keys(j).map(function(a){return{data:j[a].data,name:a,timeSinceStart:j[a].timeSinceStart}}),metadata:{application_analytics:{time_since_qpl_module_init:d-t}}},e);this.$6===a&&(console.timeStamp("QPLDebug MarkerEnd, "+this.currentTimestamp()+", "+e+", "+i),g.inform("qpl_debugger_finished"))}delete this.$1[a][c]};b.markerDrop=function(a,b){b===void 0&&(b=0);a=this.$1[a];a&&delete a[b]};b.dropAllMarkers=function(){this.$1={}};b.setAlwaysOnSampleRate=function(a,b){this.$2[a]=b};b.setSampleRateForInstance=function(a,b,c){c===void 0&&(c=0);a=this.$1[a][c];a&&(a.sampleRate=b)};b.currentTimestamp=function(){return p()};b.$8=function(a,b){a=this.$9(a);var c=this.$10(a,b);j.enable_qplinspector&&i.loadModules(["QPLInspector"],function(a){a.appendLog(c)},"QuickPerformanceLoggerBase");o("708253")?h.post("perf",c,h.VITAL):h.post("perf",c)};b.$9=function(a){var b=k.getCommonData();a.metadata=babelHelpers["extends"]({},a.metadata,{memory_stats:{total_mem:b.ram_gb?b.ram_gb*1073741824:null},network_stats:{downlink_megabits:b.downlink_megabits,network_subtype:b.effective_connection_type,rtt_ms:b.rtt_ms}});return a};b.$10=function(a,b){b=Math.floor(b/1e3);return{appversion:"0 (web)",clienttime:b,rawclienttime:b,deviceid:"0",extra:a}};b.loomTraceDidBegin=function(a){this.$5=a};b.loomTraceWillEnd=function(){this.$5=null};b.enableDebug=function(a){this.$6=parseInt(a,10)};b.disableDebug=function(){this.$6=null};return a}();e.exports=a}),null);
__d("QuickPerformanceLoggerImpl",["EventProfiler","QuickLogConfig","QuickPerformanceLoggerBase"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j={},k={onMarkerStart:function(a,b,c){var d=h.qpl_to_interaction[a];if(d){a=a+" : "+b;j[a]=g.markManualStart([d.name],d.eventType,c)}},onMarkerEnd:function(a,b,c){a=a+" : "+b;j[a]&&j[a].markManualEnd(c)}};a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,k)||this}return b}(i);e.exports=new a()}),null);