if (self.CavalryLogger) { CavalryLogger.start_js(["hmOg7"]); }

__d("StreamStateMachine",["StreamStateMachineConstants"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=g.events,i=g.states,j=babelHelpers["extends"]({},h,{GQLS_STATE_TRANSIT_ON_REFRESH:"onRefresh"});a=function(){__p&&__p();function a(a,b){a===void 0&&(a=!1),b===void 0&&(b=1e4),this.$1=b,this.$2=null,this.$3=null,this.$5=a,this.$4=null}var b=a.prototype;b.start=function(){this.$6(j.GQLS_STATE_TRANSIT_ON_CREATE),this.$5||this.$6(j.GQLS_STATE_TRANSIT_ON_ACTIVE)};b.ping=function(){switch(this.$4){case i.GQLS_STATE_ACTIVE:this.$6(j.GQLS_STATE_TRANSIT_ON_REFRESH);break;case i.GQLS_STATE_PAUSED:this.$6(j.GQLS_STATE_TRANSIT_ON_RESUME);break;case i.GQLS_STATE_CREATED:this.$6(j.GQLS_STATE_TRANSIT_ON_ACTIVE);break;case i.GQLS_STATE_TERMINATED:break}};b.kill=function(){this.$6(j.GQLS_STATE_TRANSIT_ON_TERMINATE)};b.setLifecycleHandler=function(a){this.$3=a};b.getState=function(){return this.$4};b.$6=function(a){__p&&__p();switch(a){case j.GQLS_STATE_TRANSIT_ON_CREATE:this.$7();break;case j.GQLS_STATE_TRANSIT_ON_ACTIVE:this.$8();break;case j.GQLS_STATE_TRANSIT_ON_REFRESH:this.$9();break;case j.GQLS_STATE_TRANSIT_ON_PAUSE:this.$10();break;case j.GQLS_STATE_TRANSIT_ON_RESUME:this.$11();break;case j.GQLS_STATE_TRANSIT_ON_TERMINATE:this.$12();break}};b.$7=function(){this.$4=i.GQLS_STATE_CREATED,this.$3&&this.$3(h.GQLS_STATE_TRANSIT_ON_CREATE)};b.$8=function(){this.$4=i.GQLS_STATE_ACTIVE,this.$3&&this.$3(h.GQLS_STATE_TRANSIT_ON_ACTIVE),this.$13()};b.$9=function(){clearTimeout(this.$2),this.$13()};b.$10=function(){this.$4=i.GQLS_STATE_PAUSED,this.$3&&this.$3(h.GQLS_STATE_TRANSIT_ON_PAUSE)};b.$11=function(){this.$4=i.GQLS_STATE_ACTIVE,this.$3&&this.$3(h.GQLS_STATE_TRANSIT_ON_RESUME),this.$13()};b.$12=function(){clearTimeout(this.$2),this.$4=i.GQLS_STATE_TERMINATED};b.$13=function(){var a=this;this.$5&&(this.$2=setTimeout(function(){a.$6(h.GQLS_STATE_TRANSIT_ON_PAUSE)},this.$1))};return a}();e.exports=a}),null);